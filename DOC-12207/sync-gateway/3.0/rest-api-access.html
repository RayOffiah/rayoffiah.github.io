<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://metrics.couchbase.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MVPNN2');</script>
<!-- End Google Tag Manager -->
<title>Secure API Access | Couchbase Docs</title>
<link rel="canonical" href="https://docs.couchbase.com/sync-gateway/current/rest-api-access.html">
<link rel="stylesheet" href="../../_/css/site.css">
<script src="../../_/js/vendor/jquery.js"></script>
<meta name="description" content="Sync Gateway REST API Access">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="sync-gateway">
<meta name="dcterms.identifier" content="3.0">
<meta name="page-url" content="/sync-gateway/3.0/rest-api-access.html">
<meta name="page-nav-header-levels" content="0">

<meta name="docsearch:component" content="sync-gateway">
<meta name="docsearch:component_title" content="Sync Gateway">
<meta name="docsearch:cversion" content="3.0">
<meta name="docsearch:component_version" content="sync-gateway@3.0">
<meta name="docsearch:module" content="">
<meta name="docsearch:breadcrumbs" content="Sync Gateway / REST API / Secure Access">
<meta name="docsearch:topic_type" content="">
<meta name="docsearch:version_rank" content="2">
<meta name="docsearch:status" content="">
<meta name="docsearch:edition" content="">
<meta name="docsearch:page_rank" content="50">


<meta name="generator" content="Antora 3.1.4">
<link rel="icon" href="../../_/img/favicon.svg" type="image/svg+xml">
<link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon" sizes="any">
</head>
<body class="article">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVPNN2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation"
                      href="https://docs.couchbase.com/home/index.html">
                    <img src="../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">

                  <li class="nav-item "">
                    <a href="https://docs.couchbase.com/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item ">
                    <a class="nav-link" href="../../home/server.html">
                      Server
                      
                    </a>
                  </li>
                  <li class="nav-item nav-item-selected">
                    <a class="nav-link" href="../../home/mobile.html">
                      Mobile
                      
                    </a>
                  </li>
                  <li class="nav-item ">
                    <a class="nav-link" href="../../cloud/index.html">
                      Capella
                      
                    </a>
                  </li>
                  <li class="nav-item ">
                    <a class="nav-link" href="../../home/sdk.html">
                      SDKs
                      
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>
              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
    <template id="page-versions" style="display: none">
      <select class="version_list" data-component="sync-gateway">
        <option value="3.1" data-url="../current/rest-api-access.html">3.1</option>
        <option value="3.0" data-url="rest-api-access.html" selected>3.0</option>
        <option value="2.8" data-url="../2.8/rest-api-access.html">2.8</option>
      </select>
    </template>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="2">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="https://github.com/couchbaselabs/docs-sync-gateway/edit/release/3.0/modules/ROOT/pages/rest-api-access.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-banner">
<i class="fas fa-file-alt"></i> <p>A newer version of this documentation is available.</p>
<a class="btn" href="../current/rest-api-access.html">View Latest</a>
</div>
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="index.html">Sync Gateway</a></li>
<li class="crumb">REST API</li>
<li class="crumb"><a href="rest-api-access.html">Secure Access</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">Secure API Access</h1>
<div class="labels">
<ul></ul>
</div>


</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
<div class="paragraph">
<p>Sync Gateway REST API Access<br>
Shows how to access Sync Gateway APIs</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Related <em>REST API</em> topics: <a href="rest-api.html" class="xref page">Public REST API</a>  |  <a href="rest-api-admin.html" class="xref page">Admin REST API</a>  |  <a href="rest-api-metrics.html" class="xref page">Metrics REST API</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="anchor" href="#overview"></a>Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Sync Gateway provides secure access to its REST APIs, namely the:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="rest-api.html" class="xref page">Public REST API</a></p>
</li>
<li>
<p><a href="rest-api-admin.html" class="xref page">Admin REST API</a>&#8201;&#8212;&#8201;for the administration and configuration of sync&#160;gateway</p>
</li>
<li>
<p><a href="rest-api-metrics.html" class="xref page">Metrics REST API</a>&#8201;&#8212;&#8201;for the monitoring of sync&#160;gateway performance metrics</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each REST API is accessed through a different, <a href="#lbl-port-cfg">user-specifiable</a>, TCP port.
This makes it easy to control their physical exposure, perhaps to keep the Admin REST API secure behind your firewall.</p>
</div>
<div class="paragraph">
<p>Sync&#160;gateway 3.0.0 brings additional optional but default layers of security through <a href="secure-sgw-access.html" class="xref page">enforcing TLS encryption</a> for all API traffic and Couchbase Server Role-Based Access Control (RBAC) authorization and authentication for all <a href="#lbl-secure-users">Admin and Metrics API users</a>.</p>
</div>
<div class="paragraph">
<p>RBAC user authentication enables <a href="#lbl-secure-users">Secure Administration</a> of sync&#160;gateway clusters.
This is critical in cloud native deployments.
The use of different RBAC roles for uses also provides secure and fine-grained access control&#8201;&#8212;&#8201;for more on the available roles see <a href="#lbl-rbac-roles">Sync Gateway RBAC Roles</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tls"><a class="anchor" href="#tls"></a>TLS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>TLS is enforced by default for all Couchbase Server connections in 3.0.
For more on TLS, see: <a href="secure-sgw-access.html" class="xref page">enforcing TLS encryption</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lbl-secure-users"><a class="anchor" href="#lbl-secure-users"></a>Secure Administration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Secure Administration is <strong>on</strong> by default.</p>
</div>
<div class="paragraph">
<p>In order to submit Admin or Metrics REST API requests you should create specific Couchbase Server users for that purpose.
You will then provide a valid set of Couchbase Server credentials for these RBAC-users in each API request.</p>
</div>
<div class="paragraph">
<p>Authenticated users will have access to Admin and-or Metrics API functionality, application data and configuration settings.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lbl-rbac-roles"><a class="anchor" href="#lbl-rbac-roles"></a>Sync Gateway RBAC Roles</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Couchbase Server makes a number of RBAC roles available for Sync Gateway use.
Each user&#8217;s access-level will depend on its allocated role.</p>
</div>
<div class="paragraph">
<p>The currently available roles will vary depending on the Couchbase Server release version&#8201;&#8212;&#8201;see:
<a href="#tbl-ee-svr-sgw-roles">Table 1</a>.<br></p>
</div>
<div class="paragraph">
<p>When referencing the <a href="rest-api-admin.html" class="xref page">Admin REST API</a> you will see that each endpoint states the role (or roles) able to use it&#8201;&#8212;&#8201;you can find a cross-reference of endpoints and required roles in <a href="rest-api-access-rbac-roles.html" class="xref page">RBAC Role - Endpoint Cross-Reference</a>.</p>
</div>
<div class="paragraph">
<p>Note that the only role available for community-edition users is the <strong>Full Admin</strong> role.</p>
</div>
<table id="tbl-ee-svr-sgw-roles" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Sync&#160;gateway role availability by release</caption>
<colgroup>
<col style="width: 22.2222%;">
<col style="width: 22.2222%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1112%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Role</th>
<th class="tableblock halign-left valign-top">Capability</th>
<th class="tableblock halign-center valign-top">7.1.0</th>
<th class="tableblock halign-center valign-top">7.0.2 DP<a href="#more-on-developer-previews"><sup>1</sup></a></th>
<th class="tableblock halign-center valign-top">6.1 - 7.0</th>
<th class="tableblock halign-center valign-top">5.5 - 6.0</th>
<th class="tableblock halign-center valign-top">5.1</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Sync Gateway Architect</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Can manage Sync Gateway databases and users, and access Sync Gateway&#8217;s metrics endpoint.
This user cannot read application data.</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/yes.png" alt="yes"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/yes.png" alt="yes"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/no.png" alt="no"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/no.png" alt="no"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/no.png" alt="no"></span></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Sync Gateway Application</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Can manage Sync Gateway users and roles, and read and write  application data through Sync Gateway.</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/yes.png" alt="yes"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/yes.png" alt="yes"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/no.png" alt="no"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/no.png" alt="no"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/no.png" alt="no"></span></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Sync Gateway Application Read Only</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Can read Sync Gateway users and roles, and read application data  through Sync Gateway.</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/yes.png" alt="yes"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/yes.png" alt="yes"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/no.png" alt="no"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/no.png" alt="no"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/no.png" alt="no"></span></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Sync Gateway Replicator</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Can manage Inter-Sync Gateway Replications.<br>
This user cannot read application data.</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/yes.png" alt="yes"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/yes.png" alt="yes"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/no.png" alt="no"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/no.png" alt="no"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/no.png" alt="no"></span></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Sync Gateway Dev Ops</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Can manage Sync Gateway node-level configuration, and access Sync Gateway&#8217;s /metrics endpoint for Prometheus integration.</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/yes.png" alt="yes"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/yes.png" alt="yes"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/no.png" alt="no"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/no.png" alt="no"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/no.png" alt="no"></span></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Sync-Gateway Role</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Can access DB / bucket scoped operations</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/no.png" alt="no"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/no.png" alt="no"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/yes.png" alt="yes"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/no.png" alt="no"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/no.png" alt="no"></span></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Application Access</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Can access DB / bucket scoped operations</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/no.png" alt="no"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/no.png" alt="no"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/yes.png" alt="yes"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/yes.png" alt="yes"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/no.png" alt="no"></span></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Bucket Full Access</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Can access DB / bucket scoped operations</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/no.png" alt="no"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/no.png" alt="no"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/yes.png" alt="yes"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/yes.png" alt="yes"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/yes.png" alt="yes"></span></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Full Admin</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Can access all operations</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/no.png" alt="no"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/no.png" alt="no"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/yes.png" alt="yes"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/yes.png" alt="yes"></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="_images/yes.png" alt="yes"></span></p></td>
</tr>
</tbody>
</table>
<div id="more-on-developer-previews" class="paragraph">
<p><sup>1</sup>For more information on Developer Previews, see <a href="../../server/current/developer-preview/preview-mode.html" class="xref page">Developer Preview Mode and Features</a></p>
</div>
<div class="paragraph">
<p>For more on creating Couchbase Server users see the Couchbase Server content here <a href="../../server/current/manage/manage-security/manage-users-and-roles.html" class="xref page">Server&#8201;&#8212;&#8201;Manage Users and Roles</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lbl-optout"><a class="anchor" href="#lbl-optout"></a>Secure Administration Opt-out</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can choose to disable Secure Administration by using these bootstrap configuration settings or CLI flags:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="configuration-schema-bootstrap.html" class="xref page">Bootstrap Configuration</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="configuration-schema-bootstrap.html#api-admin_interface_authentication" class="xref page">api.api.admin_interface_authentication</a></p>
</li>
<li>
<p><a href="configuration-schema-bootstrap.html#api-metrics_interface_authentication" class="xref page">api.metrics_interface_authentication</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="command-line-options.html" class="xref page">Command Line Options</a></p>
<div class="ulist">
<ul>
<li>
<p><code>-admin_interface_authentication=false</code>.</p>
</li>
<li>
<p><code>-metrics_interface_authentication=false</code>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ldap-authentication"><a class="anchor" href="#ldap-authentication"></a>LDAP Authentication</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Authentication against an external system such as LDAP is possible through Couchbase Server.</p>
</div>
<div class="paragraph">
<p>However, this can increase the risk of performance and or connection issues&#8201;&#8212;&#8201;for more on this see the Couchbase Server documentation <a href="../../server/current/learn/security/authentication-domains.html#ldap-users-and-applications" class="xref page">LDAP Users and Authentication</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lbl-port-cfg"><a class="anchor" href="#lbl-port-cfg"></a>Port Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can change the ports used for any of the interface types by editing its bootstrap configuration property, for example, <a href="configuration-schema-bootstrap.html#api-admin_interface" class="xref page">api.admin_interface</a>&#8201;&#8212;&#8201;as shown in <a href="#ex-port-cfg">Example 1</a>&#8201;&#8212;&#8201;and restarting the sync&#160;gateway node.
The default ports are shown in <a href="#network-ports">Table 2</a>.</p>
</div>
<div id="ex-port-cfg" class="exampleblock">
<div class="title">Example 1. Configuring ports</div>
<div class="content">
<div id="tabs-1" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="tabs-1-admin" class="tab">
<p>Admin</p>
</li>
<li id="tabs-1-metrics" class="tab">
<p>Metrics</p>
</li>
<li id="tabs-1-public" class="tab">
<p>Public</p>
</li>
</ul>
</div>
<div id="tabs-1-admin--panel" class="tabpanel" aria-labelledby="tabs-1-admin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">  api: {
    "admin_interface": ":4985", <i class="conum" data-value="1"></i><b>(1)</b>
    "admin_interface_authentication": true,

    // ... additional group properties

  },</code></pre>
</div>
</div>
</div>
<div id="tabs-1-metrics--panel" class="tabpanel" aria-labelledby="tabs-1-metrics">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">  api: {
    "metrics_interface": ":4986", <i class="conum" data-value="1"></i><b>(1)</b>
    "metrics_interface_authentication": true,

    // ... additional group properties

  },</code></pre>
</div>
</div>
</div>
<div id="tabs-1-public--panel" class="tabpanel" aria-labelledby="tabs-1-public">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">  api: {
    "public_interface": ":4984", <i class="conum" data-value="1"></i><b>(1)</b>

    // ... additional group properties

  },</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The value of the <em>interface</em> property is a string consisting of a colon followed by a port number (for example, <code>:4985</code>).
You can also include a host name or numeric IP address before the colon to bind only to that network interface.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>As a useful special case, the IP address 127.0.0.1 binds to the loopback interface, making the port unreachable from any other host.
This is the default setting for the admin interface.</p>
</div>
<div id="lbl-port-req" class="paragraph">
<div class="title">Network Port Requirements</div>
<p>Sync Gateway uses specific ports for communication with the outside world, mostly Couchbase Lite databases replicating to and from Sync Gateway&#8201;&#8212;&#8201;see <a href="#network-ports">Table 2</a> for details.</p>
</div>
<table id="network-ports" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Sync Gateway Network Port Requirements</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Port</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">4984</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Public port.
External HTTP port used for replication with Couchbase Lite databases and other applications accessing the REST API on the Internet.</p>
<p class="tableblock">The Public REST API is used for client replication. The default port for the Public REST API is 4984.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">4985</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Admin port.
Internal HTTP port for unrestricted access to the database and to run administrative tasks.</p>
<p class="tableblock">The Admin REST API is used to administer user accounts and roles. It can also be used to look at the contents of databases in superuser mode. The default port for the Admin REST API is 4985. By default, the Admin REST API is reachable only from localhost for safety reasons.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">4986</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metrics port.
By default <code>4986</code> is the internal HTTP port designated for providing access to Sync Gateway&#8217;s Metrics REST API.
Like the admin port, it is bound to <code>127.0.0.1</code> by default.</p>
<p class="tableblock">The Metrics REST API returns Sync Gateway metrics, in JSON and-or Prometheus-compatible formats, for performance monitoring and-or diagnostic purposes,</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For more on configuration see <a href="configuration-schema-bootstrap.html#api-admin_interface" class="xref page">api.admin_interface</a></p>
</div>
<hr>
<h5 id="" class="discrete"></h5>
</div>
</div>
<div class="sect1">
<h2 id="related-content"><a class="anchor" href="#related-content"></a>Related Content</h2>
<div class="sectionbody">
<div class="card-row three-column-row">
<div class="sect5 column">
<h6 id="-2"><a class="anchor" href="#-2"></a></h6>
<div class="ulist">
<div class="title">API Topics</div>
<ul>
<li>
<p><a href="rest-api.html" class="xref page">Public REST API</a></p>
</li>
<li>
<p><a href="rest-api-admin.html" class="xref page">Admin REST API</a></p>
</li>
<li>
<p><a href="rest-api-metrics.html" class="xref page">Metrics REST API</a></p>
</li>
</ul>
</div>
</div>
<div class="sect5 column">
<h6 id="-3"><a class="anchor" href="#-3"></a></h6>
<div class="ulist">
<div class="title">Reference</div>
<ul>
<li>
<p><a href="configuration-schema-bootstrap.html" class="xref page">Bootstrap</a></p>
</li>
<li>
<p><a href="configuration-schema-database.html" class="xref page">Database</a></p>
</li>
<li>
<p><a href="configuration-schema-db-security.html" class="xref page">Database Security</a></p>
</li>
<li>
<p><a href="configuration-schema-access-control.html" class="xref page">Access Control</a></p>
</li>
<li>
<p><a href="configuration-schema-import-filter.html" class="xref page">Import Filter</a></p>
</li>
<li>
<p><a href="configuration-schema-isgr.html" class="xref page">Inter-Sync&#160;Gateway Replication</a></p>
</li>
<li>
<p><a href="configuration-properties-legacy.html" class="xref page">Legacy Pre-3.0 Configuration</a></p>
</li>
</ul>
</div>
</div>
<div class="sect5 column">
<h6 id="-4"><a class="anchor" href="#-4"></a></h6>
<div class="paragraph">
<div class="title">Community</div>
<p><a href="https://forums.couchbase.com/c/mobile/14">Mobile Forum</a> |
<a href="https://blog.couchbase.com/">Blog</a> |
<a href="https://blog.couchbase.com/category/couchbase-mobile/?ref=blog-menu">Blog (Mobile)</a> |
<a href="https://docs.couchbase.com/tutorials/">Tutorials</a></p>
</div>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>Â© 2024 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../_/js/site-navigation-data.js"></script>
<script id="page-navigation-group" type="application/json">
{"title":"Mobile","components":["couchbase-lite","sync-gateway"],"url":"/home/mobile.html","latestVersions":{"couchbase-lite":"3.2","sync-gateway":"3.1"}}
</script>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../_/js/vendor/chatbox-ui.js"></script>
<script id="site-script" src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/tabs.js" data-sync-storage-key="preferred-tab"></script>
<script defer src="../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
</body>
</html>
