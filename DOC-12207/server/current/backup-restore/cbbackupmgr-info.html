<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://metrics.couchbase.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MVPNN2');</script>
<!-- End Google Tag Manager -->
<title>cbbackupmgr info | Couchbase Docs</title>
<link rel="canonical" href="https://docs.couchbase.com/server/current/backup-restore/cbbackupmgr-info.html">
<link rel="stylesheet" href="../../../_/css/site.css">
<script src="../../../_/js/vendor/jquery.js"></script>
<meta name="description" content="Return information about the backup archive">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="server">
<meta name="dcterms.identifier" content="7.6">
<meta name="page-url" content="/server/current/backup-restore/cbbackupmgr-info.html">
<meta name="page-nav-header-levels" content="0">
<meta name="generator" content="Antora 3.1.7">
<link rel="icon" href="../../../_/img/favicon.svg" type="image/svg+xml">
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon" sizes="any">
</head>
<body class="article">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVPNN2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://docs.couchbase.com/home/index.html">
                    <img src="../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://docs.couchbase.com/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
    <template id="page-versions" style="display: none">
      <select class="version_list" data-component="server">
        <option value="7.6" data-url="cbbackupmgr-info.html" selected>7.6</option>
        <option value="7.2" data-url="../../7.2/index.html">7.2</option>
        <option value="7.1" data-url="../../7.1/index.html">7.1</option>
        <option value="7.0" data-url="../../7.0/index.html">7.0</option>
        <option value="6.6" data-url="../../6.6/index.html">6.6</option>
        <option value="6.5" data-url="../../6.5/index.html">6.5</option>
        <option value="6.0" data-url="../../6.0/index.html">6.0</option>
      </select>
    </template>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="1">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/rayoffiah/projects/couchbase/backup/docs/modules/backup-restore/pages/cbbackupmgr-info.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../introduction/intro.html">Couchbase Server</a></li>
<li class="crumb">Reference</li>
<li class="crumb"><a href="../cli/cli-intro.html">CLI Reference</a></li>
<li class="crumb"><a href="cbbackupmgr.html">cbbackupmgr</a></li>
<li class="crumb"><a href="cbbackupmgr-info.html">cbbackupmgr info</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">cbbackupmgr info</h1>
<div class="labels">
<ul></ul>
</div>


</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Return information about the backup archive</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="synopsis"><a class="anchor" href="#synopsis"></a>SYNOPSIS</h2>
<div class="sectionbody">
<div class="verseblock">
<pre class="content">cbbackupmgr info [--archive &lt;archive_dir&gt;] [--repo &lt;repo_name&gt;]
                 [--backup &lt;bucket_list&gt;]
                 [--collection-string &lt;collection_string&gt;]
                 [--json] [--all] [--depth &lt;depth&gt;]
                 [--obj-access-key-id &lt;access_key_id&gt;]
                 [--obj-cacert &lt;cert_path&gt;] [--obj-endpoint &lt;endpoint&gt;]
                 [--obj-no-ssl-verify] [--obj-region &lt;region&gt;]
                 [--obj-staging-dir &lt;staging_dir&gt;]
                 [--obj-secret-access-key &lt;secret_access_key&gt;]
                 [--s3-force-path-style] [--s3-log-level &lt;level&gt;]</pre>
</div>
</div>
</div>
<div class="sect1">
<h2 id="description"><a class="anchor" href="#description"></a>DESCRIPTION</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This command provides information about the given path, be it the whole
archive, repository, backup or bucket. The information can be displayed in a
tabular format or JSON. By default only two levels of the data hierarchy will
be displayed in tabular format, to see it all use the <code>--all</code> flag. For the
exact format of the output please see the examples below.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="options"><a class="anchor" href="#options"></a>OPTIONS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Below are the required and optional parameters for the info command.</p>
</div>
<div class="sect2">
<h3 id="required"><a class="anchor" href="#required"></a>Required</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">-a,--archive &lt;archive_dir&gt;</dt>
<dd>
<p>The location of the backup archive to display information about. When using
info against an archive stored in S3 you must prefix the archive path with
<code>s3://${BUCKET_NAME}/</code>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="optional"><a class="anchor" href="#optional"></a>Optional</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">-r,--repo &lt;repo_name&gt;</dt>
<dd>
<p>If specified, the info command will only display information for this backup
repository.</p>
</dd>
<dt class="hdlist1">--backup &lt;backup&gt;</dt>
<dd>
<p>If specified, the info command will only display information for this backup.
The <code>--repo</code> flag must also be specified if this flag is used.</p>
</dd>
<dt class="hdlist1">--collection-string &lt;collection_string&gt;</dt>
<dd>
<p>A dot separated collection string representing the bucket/scope/collection to
get info for. The <code>--backup</code> flag must be provided if this flag is used.</p>
</dd>
<dt class="hdlist1">--start &lt;start&gt;</dt>
<dd>
<p>Only backups which fall between the range specified by <code>--start</code> and <code>--end</code>
will be included in the output. <code>--start</code> and <code>--end</code> must be supplied
together and are only valid when getting info for a repository.
See <a href="#START_AND_END">START AND END</a> for information on what values are accepted.</p>
</dd>
<dt class="hdlist1">--end &lt;end&gt;</dt>
<dd>
<p>Only backups which fall between the range specified by <code>--start</code> and <code>--end</code>
will be included in the output. <code>--start</code> and <code>--end</code> must be supplied
together and are only valid when getting info for a repository.
See <a href="#START_AND_END">START AND END</a> for information on what values are accepted.</p>
</dd>
<dt class="hdlist1">--json</dt>
<dd>
<p>If specified the output will be a json object.</p>
</dd>
<dt class="hdlist1">--all</dt>
<dd>
<p>Show all levels of the data hierarchy. Note that for json output all levels
are always returned. This flag will override any value supplied to <code>--depth</code>.</p>
</dd>
<dt class="hdlist1">--depth &lt;depth&gt;</dt>
<dd>
<p>Show <code>depth</code> layers of additional information when printing non json output
to stdout. By default two layers of information will be displayed. Accepts
any non-zero positive integer.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="cloud-integration"><a class="anchor" href="#cloud-integration"></a>Cloud integration</h3>
<div class="paragraph">
<p>Native cloud integration is an Enterprise Edition feature which was introduced
in Couchbase Server 6.6.0.</p>
</div>
<div class="paragraph">
<p>Multiple cloud providers are supported, see the list below for more information.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Supported</p>
<div class="ulist">
<ul>
<li>
<p>AWS S3 (<code>s3://</code>)</p>
</li>
<li>
<p>GCP Google Storage (<code>gs://</code>)</p>
</li>
<li>
<p>Azure Blob Storage in 7.1.2+ (<code>az://</code>)</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="required-2"><a class="anchor" href="#required-2"></a>Required</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">--obj-staging-dir &lt;staging_dir&gt;</dt>
<dd>
<p>When performing an operation on an archive which is located in the cloud such
as AWS, the staging directory is used to store local meta data files. This
directory can be temporary (it&#8217;s not treated as a persistent store) and is
only used during the backup. NOTE: Do not use <code>/tmp</code> as the <code>obj-staging-dir</code>.
See <code>Disk requirements</code> in <a href="cbbackupmgr-cloud.html" class="xref page">cbbackupmgr-cloud</a> for more information.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="optional-2"><a class="anchor" href="#optional-2"></a>Optional</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">--obj-access-key-id &lt;access_key_id&gt;</dt>
<dd>
<p>The access key id which has access to your chosen object store. This option
can be omitted when using the shared config functionality provided by your
chosen object store. Can alternatively be provided using the
<code>CB_OBJSTORE_ACCESS_KEY_ID</code> environment variable.</p>
<div class="paragraph">
<p>When using AWS, this option expects an access key id. See
<a href="https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html#access-keys-and-secret-access-keys" class="bare">https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html#access-keys-and-secret-access-keys</a>
for more information.</p>
</div>
<div class="paragraph">
<p>When using Azure, this option expects an account name. See
<a href="https://docs.microsoft.com/en-us/azure/storage/common/storage-account-overview#storage-account-endpoints" class="bare">https://docs.microsoft.com/en-us/azure/storage/common/storage-account-overview#storage-account-endpoints</a>
for more information.</p>
</div>
<div class="paragraph">
<p>When using GCP, this option expects a client id. See
<a href="https://cloud.google.com/storage/docs/authentication" class="bare">https://cloud.google.com/storage/docs/authentication</a> for more information.</p>
</div>
</dd>
<dt class="hdlist1">--obj-cacert &lt;cert_path&gt;</dt>
<dd>
<p>Specifies a CA certificate that will be used to verify the identity of the
object store being connected to.</p>
</dd>
<dt class="hdlist1">--obj-endpoint &lt;endpoint&gt;</dt>
<dd>
<p>The host/address of your object store.</p>
</dd>
<dt class="hdlist1">--obj-no-ssl-verify</dt>
<dd>
<p>Skips the SSL verification phase when connecting to the object store.
Specifying this flag will allow a connection using SSL encryption, but you
are vulnerable to a man-in-the-middle attack.</p>
</dd>
<dt class="hdlist1">--obj-region &lt;region&gt;</dt>
<dd>
<p>The region in which your bucket/container resides. For AWS this option may be
omitted when using the shared config functionality. See the AWS section of
the cloud documentation for more information.</p>
</dd>
<dt class="hdlist1">--obj-secret-access-key &lt;secret_access_key&gt;</dt>
<dd>
<p>The secret access key which has access to you chosen object store. This
option can be omitted when using the shared config functionality provided by
your chosen object store. Can alternatively be provided using the
<code>CB_OBJSTORE_SECRET_ACCESS_KEY</code> environment variable.</p>
<div class="paragraph">
<p>When using AWS, this option expects a secret access key. See
<a href="https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html#access-keys-and-secret-access-keys" class="bare">https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html#access-keys-and-secret-access-keys</a>
for more information.</p>
</div>
<div class="paragraph">
<p>When using Azure, this option expects an account key. See
<a href="https://docs.microsoft.com/en-us/azure/storage/common/storage-account-keys-manage?tabs=azure-portal" class="bare">https://docs.microsoft.com/en-us/azure/storage/common/storage-account-keys-manage?tabs=azure-portal</a>
for more information.</p>
</div>
<div class="paragraph">
<p>When using GCP, this option expects a client secret. See
<a href="https://cloud.google.com/storage/docs/authentication" class="bare">https://cloud.google.com/storage/docs/authentication</a> for more information.</p>
</div>
</dd>
<dt class="hdlist1">--obj-log-level &lt;level&gt;</dt>
<dd>
<p>Set the log level for the cloud providers SDK. By default logging will be
disabled. Valid options are cloud provider specific and are listed below.</p>
<div class="paragraph">
<p>The valid options for the AWS SDK are <code>debug</code>, <code>debug-with-signing</code>,
<code>debug-with-body</code>, <code>debug-with-request-retries</code>, <code>debug-with-request-errors</code>,
and <code>debug-with-event-stream-body</code>.</p>
</div>
<div class="paragraph">
<p>The valid options for the Azure SDK are <code>info</code>, <code>debug</code>, <code>debug-with-request-retries</code> and
<code>debug-with-request-retries-and-lro</code>.</p>
</div>
<div class="paragraph">
<p>The Google Storage SDK does not expose advanced logging configuration meaning
this option is explicitly ignored, however, this behavior may change in the
future.</p>
</div>
</dd>
<dt class="hdlist1">--obj-auth-by-instance-metadata</dt>
<dd>
<p>Depending on the cloud provider, using instance metadata for authentication
is disabled by default. Supplying this flag will allow the fetching
credentials/auth tokens from (VM) internal instance metadata endpoints.</p>
<div class="paragraph">
<p>By default, this option is disabled for AWS.</p>
</div>
<div class="paragraph">
<p>By default, this option is enabled for Azure.</p>
</div>
<div class="paragraph">
<p>By default, this option is enabled for GCP.</p>
</div>
</dd>
<dt class="hdlist1">--obj-auth-file</dt>
<dd>
<p>GCP offers the ability to use a file which contains credentials which will be
used to perform authentication. The <code>--obj-auth-file</code> flag accepts a path to
an authentication file. This flag is unsupported for the AWS/Azure cloud
providers.</p>
</dd>
<dt class="hdlist1">--obj-refresh-token</dt>
<dd>
<p>GCP requires a refresh token when using static credentials, this will be used
to refresh oauth2 tokens when accessing remote storage.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="aws-s3-options"><a class="anchor" href="#aws-s3-options"></a>AWS S3 Options</h4>
<div class="sect4">
<h5 id="optional-3"><a class="anchor" href="#optional-3"></a>Optional</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">--s3-force-path-style</dt>
<dd>
<p>By default the updated virtual style paths will be used when interfacing with
AWS S3. This option will force the AWS SDK to use the alternative path style
URLs which are often required by S3 compatible object stores.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="START_AND_END"><a class="anchor" href="#START_AND_END"></a>START AND END</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This sub-command accepts a <code>--start</code> and <code>--end</code> flag. These flags accept
multiple values to allow you to flexibly operate on a range of backups.</p>
</div>
<div class="sect2">
<h3 id="indexes"><a class="anchor" href="#indexes"></a>Indexes</h3>
<div class="paragraph">
<p>Indexes may be supplied to operate on a range of backups, for example
<code>--start 1 --end 2</code> will include start at the first backup and will finish with
the second backup. Note that the first backup is 1 and not 0 and that the
<code>--end</code> flag is inclusive.</p>
</div>
</div>
<div class="sect2">
<h3 id="short-dates"><a class="anchor" href="#short-dates"></a>Short Dates</h3>
<div class="paragraph">
<p>Short dates may be supplied in the format <code>day-month-year</code>. For example
<code>--start 01-08-2020 --end 31-08-2020</code> will operate on all the backups which
were taken during August of 2020. Note that the end date is inclusive.</p>
</div>
<div class="paragraph">
<p>When supplying short dates, you may supply <code>start</code> or <code>oldest</code> as a placeholder
for the date on which the first backup in this repository was taken. The
keywords <code>end</code> or <code>latest</code> may be used as a placeholder for the date last
backup in the repository was taken.</p>
</div>
</div>
<div class="sect2">
<h3 id="backup-names"><a class="anchor" href="#backup-names"></a>Backup Names</h3>
<div class="paragraph">
<p>Backup names may be supplied as they exist on disk. For example
<code>--start 2020-08-13T20_01_08.894226137+01_00 --end 2020-08-13T20_01_12.348300092+01_00</code>
will cause the sub-command to operate on all the backups which inclusively fall
between these two backups.</p>
</div>
<div class="paragraph">
<p>When supplying backup names, you may supply <code>start</code> or <code>oldest</code> as a
placeholder for the first backup in the repository. The keywords <code>end</code> or
<code>latest</code> may be used  as a placeholder for the final backup in the repository.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="examples"><a class="anchor" href="#examples"></a>EXAMPLES</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The info command will display information of the backup archive in a user
friendly manner. Let&#8217;s imagine we have a backup archive <code>/backup_archive</code> and we want
to see information about it we would run the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ cbbackupmgr info -a /backup_archive

| Archive
| -------
| Name           | UUID                                 | Size      | # Repos |
| backup_archive | b4b8f2bb-5569-47d9-80c1-00821f711761 | 111.00MiB | 2       |
|
| Repos
| -----
|
| + Repo
|   ----
|   Name   | Size     | # Backups | Encrypted | Point in Time |
|   London | 55.44MiB | 2         | false     | false         |
|
| + Repo
|   ----
|   Name       | Size     | # Backups | Encrypted | Point in Time |
|   Manchester | 55.56MiB | 1         | false     | false         |</pre>
</div>
</div>
<div class="paragraph">
<p>This shows us that the archive <code>backup_archive</code> has two repositories and has a
total size of 111MB. It will also provide one level more into the hierarchy and
show information of the two repositories <code>Manchester</code> and <code>London</code> and we can
see their respective sizes as well as the number of backups each contains.</p>
</div>
<div class="paragraph">
<p>If we wanted to get more in depth information of the repository we would
provide the repository name as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ cbbackupmgr info -a ~/backup_archive -r London

| Repo
| ----
| Name   | Size     | # Backups | Encrypted | Point in Time |
| London | 55.44MiB | 2         | false     | false         |
|
| Backups
| -------
|
| * Backup
|   ------
|   Name                           | Size    | Type | Complete |
|   2019-03-15T13_19_54.826458Z    | 3.02MiB | INCR | true     |
|
|   Merged Range
|   ------------
|   Start | End | Count |
|   N/A   | N/A | N/A   |
|
|   Cluster
|   -------
|   Hostname              | UUID                             |
|   http://localhost:8091 | 3adac7367a4117b3a8b12bf0e7f322be |
|
|   Services
|   --------
|
|     Eventing
|     --------
|     Functions |
|     1         |
|
|     FTS
|     ---
|     Aliases |
|     2       |
|
|     Query
|     -----
|     UDFs |
|     0    |
|
| * Backup
|   ------
|   Name                           | Size     | Type | Complete |
|   2019-03-15T12_18_00.514284Z    | 52.42MiB | FULL | true     |
|
|   Merged Range
|   ------------
|   Start | End | Count |
|   N/A   | N/A | N/A   |
|
|   Cluster
|   -------
|   Hostname              | UUID                             |
|   http://localhost:8091 | 3adac7367a4117b3a8b12bf0e7f322be |
|
|   Services
|   --------
|
|     Eventing
|     --------
|     Functions |
|     0         |
|
|     FTS
|     ---
|     Aliases |
|     1       |
|
|     Query
|     -----
|     UDFs |
|     0    |</pre>
</div>
</div>
<div class="paragraph">
<p>This gives more in depth information about each backup such as the timestamp
from when it was made, the size, the type which can be either a full backup
(FULL), and incremental backup (INCR) or a merge (MERGE). We can also see
the address of the cluster we backed up the data from. The range column is
used by merges. If the backup is a merge the range has the start timestamp
the end timestamp and the number of backups that where merge in the format
<code>start - end : count</code>. Event and aliases are the number of events and full
text search indexes aliases that where restored. Finally the complete field
indicates if the backup finished successfully or not.</p>
</div>
<div class="paragraph">
<p>It is possible to get information for an individual backup as well by using
the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ cbbackupmgr info -a ~/backup_archive -r London --backup 2019-03-15T12_18_00.514284Z

| Backup
| ------
| Name                           | Size     | Type | Complete |
| 2019-03-15T12_18_00.514284Z    | 52.42MiB | FULL | true     |
|
| Merged Range
| ------------
| Start | End | Count |
| N/A   | N/A | N/A   |
|
| Cluster
| -------
| Hostname              | UUID                             |
| http://localhost:8091 | 3adac7367a4117b3a8b12bf0e7f322be |
|
| Services
| --------
|
|   Eventing
|   --------
|   Functions |
|   1         |
|
|   FTS
|   ---
|   Aliases |
|   2       |
|
|   Query
|   -----
|   UDFs |
|   0    |
|
| Buckets
| -------
|
| - Bucket
|   ------
|   Name        | Size    |
|   beer-sample | 6.85MiB |
|
|   Services
|   --------
|
|     Data
|     ----
|     Mutations | Deletions | Size    |
|     7303      | 0         | 6.85MiB |
|
|       Point in Time
|       -------------
|       Mutations | Deletions | Duplicate Size |
|       7303      | 0         | 0B             |
|
|     Views
|     -----
|     Definitions |
|     1           |
|
|     Analytics
|     ---------
|     CBAS |
|     0    |
|
|     FTS
|     ---
|     Aliases |
|     0       |
|
|     Indexing
|     --------
|     Indexes |
|     1       |
|
| - Bucket
|   ------
|   Name           | Size    |
|   gamesim-sample | 2.86MiB |
|
|   Services
|   --------
|
|     Data
|     ----
|     Mutations | Deletions | Size    |
|     586       | 0         | 2.86MiB |
|
|       Point in Time
|       -------------
|       Mutations | Deletions | Duplicate Size |
|       586       | 0         | 0B             |
|
|     Views
|     -----
|     Definitions |
|     1           |
|
|     Analytics
|     ---------
|     CBAS |
|     0    |
|
|     FTS
|     ---
|     Aliases |
|     0       |
|
|     Indexing
|     --------
|     Indexes |
|     1       |
|
| - Bucket
|   ------
|   Name          | Size     |
|   travel-sample | 42.72MiB |
|
|   Services
|   --------
|
|     Data
|     ----
|     Mutations | Deletions | Size     |
|     31591     | 0         | 42.72MiB |
|
|       Point in Time
|       -------------
|       Mutations | Deletions | Duplicate Size |
|       31591     | 0         | 0B             |
|
|     Views
|     -----
|     Definitions |
|     0           |
|
|     Analytics
|     ---------
|     CBAS |
|     0    |
|
|     FTS
|     ---
|     Aliases |
|     0       |
|
|     Indexing
|     --------
|     Indexes |
|     10      |</pre>
</div>
</div>
<div class="paragraph">
<p>The command above provides information about all buckets in the specific
backup. This includes the size of the data in each bucket, the number of
items which includes mutations and tombstones, the number of mutations
and the number of deletions. For backups made with <code>cbbackupmgr</code> older
than 6.5 mutations and deletions will always be 0 as this is only
supported by archives made with <code>cbbackupmgr 6.5+</code>. For the buckets it will
also shows the number of view, full text indexes, the number of GSIs and the
number of analytics metadata records.</p>
</div>
<div class="paragraph">
<p>To see information for one bucket only we would use the <code>--collection-string</code>
flag and give it the name of the bucket and this would return just the
information for that bucket.</p>
</div>
<div class="paragraph">
<p>To see from one level to the last the <code>--all</code> flag must be provided this will
show the information from the provided level to the bucket level. An example
can be seen below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ cbbackupmgr info -a ~/backup_archive --all

| Archive
| -------
| Name           | UUID                                 | Size     | # Repos |
| backup_archive | b4b8f2bb-5569-47d9-80c1-00821f711761 | 55.56MiB | 1       |
|
| Repos
| -----
|
| + Repo
|   ----
|   Name       | Size     | # Backups | Encrypted | Point in Time |
|   Manchester | 55.56MiB | 1         | false     | false         |
|
|   Backups
|   -------
|
|  *  Backup
|     ------
|     Name                           | Size     | Type | Complete |
|     2019-03-15T13_52_27.18301Z     | 52.42MiB | FULL | true     |
|
|     Merged Range
|     ------------
|     Start | End | Count |
|     N/A   | N/A | N/A   |
|
|     Cluster
|     -------
|     Hostname              | UUID                             |
|     http://localhost:8091 | 3adac7367a4117b3a8b12bf0e7f322be |
|
|     Services
|     --------
|
|       Eventing
|       --------
|       Functions |
|       1         |
|
|       FTS
|       ---
|       Aliases |
|       2       |
|
|       Query
|       -----
|       UDFs |
|       0    |
|
|     Buckets
|     -------
|
|   -   Bucket
|       ------
|       Name        | Size    |
|       beer-sample | 6.85MiB |
|
|       Services
|       --------
|
|         Data
|         ----
|         Mutations | Deletions | Size    |
|         7303      | 0         | 6.85MiB |
|
|           Point in Time
|           -------------
|           Mutations | Deletions | Duplicate Size |
|           7303      | 0         | 0B             |
|
|         Views
|         -----
|         Definitions |
|         1           |
|
|         Analytics
|         ---------
|         CBAS |
|         0    |
|
|         FTS
|         ---
|         Aliases |
|         0       |
|
|         Indexing
|         --------
|         Indexes |
|         1       |
|
|   -   Bucket
|       ------
|       Name           | Size    |
|       gamesim-sample | 2.86MiB |
|
|       Services
|       --------
|
|         Data
|         ----
|         Mutations | Deletions | Size    |
|         586       | 0         | 2.86MiB |
|
|           Point in Time
|           -------------
|           Mutations | Deletions | Duplicate Size |
|           586       | 0         | 0B             |
|
|         Views
|         -----
|         Definitions |
|         1           |
|
|         Analytics
|         ---------
|         CBAS |
|         0    |
|
|         FTS
|         ---
|         Aliases |
|         0       |
|
|         Indexing
|         --------
|         Indexes |
|         1       |
|
|   -   Bucket
|       ------
|       Name          | Size     |
|       travel-sample | 42.72MiB |
|
|       Services
|       --------
|
|         Data
|         ----
|         Mutations | Deletions | Size     |
|         31591     | 0         | 42.72MiB |
|
|           Point in Time
|           -------------
|           Mutations | Deletions | Duplicate Size |
|           31591     | 0         | 0B             |
|
|         Views
|         -----
|         Definitions |
|         0           |
|
|         Analytics
|         ---------
|         CBAS |
|         0    |
|
|         FTS
|         ---
|         Aliases |
|         0       |
|
|         Indexing
|         --------
|         Indexes |
|         10      |</pre>
</div>
</div>
<div class="paragraph">
<p>To display only a certain number of layers when displaying info in tabular
format you may provide the <code>--depth</code> flag with a non-zero positive integer.
This gives more fine grained control over what information is displayed that
<code>--all</code>. Using the <code>--all</code> flag will implicitly override any value provided to
<code>--depth</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ cbbackupmgr info -a ~/backup_archive --depth 1

| Archive
| -------
| Name           | UUID                                 | Size     | # Repos |
| backup_archive | b4b8f2bb-5569-47d9-80c1-00821f711761 | 55.56MiB | 1       |</pre>
</div>
</div>
<div class="paragraph">
<p>The info command also allows for JSON output which can be useful for
automation or users that would rather get the information in json format.
The output json will have the format seen below. Note that all sizes will be
in bytes and that for non-merge backups the range field will be empty.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
  "name": NAME,
  "archive_uuid": UUID,
  "size": SIZE,
  "repos": [
    {
      "name": NAME,
      "size": SIZE,
      "count": BACKUP_COUNT,
      "backups": [
        {
          "date": DATE,
          "complete: BOOL
          "size": SIZE,
          "type": ["incr"| "full" | "merge"],
          "source": SOURCE,
          "range":[all backups date involved in the merge],
          "merged_range":[all backups date involved in the merge],
          "event": COUNT,
          "fts_alias": COUNT,
          "source_cluster_uuid": UUID,
          "buckets": [
            {
              "name": BUCKET_NAME,
              "size": SIZE,
              "items": COUNT,
              "mutations": COUNT,
              "tombstones": COUNT,
              "views_count": COUNT,
              "fts_count": COUNT,
              "analytics": COUNT
            }
          ]
        }
      ]
    }
  ]</pre>
</div>
</div>
<div class="paragraph">
<p>Note that the "range" and "merged_range" fields contain the same data. The range
field is included for backwards compatibility but is deprecated.</p>
</div>
<div class="paragraph">
<p>The info command also supports getting information about an archive which
is stored directly in AWS S3. This will  download a very minimal amount of
data e.g. it won&#8217;t download the whole archive.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ cbbackupmgr info -a s3://bucket/backup_archive --all --obj-staging-dir ~/backup-archive

| Archive
| -------
| Name           | UUID                                 | Size     | # Repos |
| backup_archive | b4b8f2bb-5569-47d9-80c1-00821f711761 | 55.56MiB | 1       |
|
| Repos
| -----
|
| + Repo
|   ----
|   Name       | Size     | # Backups | Encrypted | Point in Time |
|   Manchester | 55.56MiB | 1         | false     | false         |
|
|   Backups
|   -------
|
|  *  Backup
|     ------
|     Name                           | Size     | Type | Complete |
|     2019-03-15T13_52_27.18301Z     | 52.42MiB | FULL | true     |
|
|     Merged Range
|     ------------
|     Start | End | Count |
|     N/A   | N/A | N/A   |
|
|     Cluster
|     -------
|     Hostname              | UUID                             |
|     http://localhost:8091 | 3adac7367a4117b3a8b12bf0e7f322be |
|
|     Services
|     --------
|
|       Eventing
|       --------
|       Functions |
|       1         |
|
|       FTS
|       ---
|       Aliases |
|       2       |
|
|       Query
|       -----
|       UDFs |
|       0    |
|
|     Buckets
|     -------
|
|   -   Bucket
|       ------
|       Name        | Size    |
|       beer-sample | 6.85MiB |
|
|       Services
|       --------
|
|         Data
|         ----
|         Mutations | Deletions | Size    |
|         7303      | 0         | 6.85MiB |
|
|           Point in Time
|           -------------
|           Mutations | Deletions | Duplicate Size |
|           7303      | 0         | 0B             |
|
|         Views
|         -----
|         Definitions |
|         1           |
|
|         Analytics
|         ---------
|         CBAS |
|         0    |
|
|         FTS
|         ---
|         Aliases |
|         0       |
|
|         Indexing
|         --------
|         Indexes |
|         1       |
|
|   -   Bucket
|       ------
|       Name           | Size    |
|       gamesim-sample | 2.86MiB |
|
|       Services
|       --------
|
|         Data
|         ----
|         Mutations | Deletions | Size    |
|         586       | 0         | 2.86MiB |
|
|           Point in Time
|           -------------
|           Mutations | Deletions | Duplicate Size |
|           586       | 0         | 0B             |
|
|         Views
|         -----
|         Definitions |
|         1           |
|
|         Analytics
|         ---------
|         CBAS |
|         0    |
|
|         FTS
|         ---
|         Aliases |
|         0       |
|
|         Indexing
|         --------
|         Indexes |
|         1       |
|
|   -   Bucket
|       ------
|       Name          | Size     |
|       travel-sample | 42.72MiB |
|
|       Services
|       --------
|
|         Data
|         ----
|         Mutations | Deletions | Size     |
|         31591     | 0         | 42.72MiB |
|
|           Point in Time
|           -------------
|           Mutations | Deletions | Duplicate Size |
|           31591     | 0         | 0B             |
|
|         Views
|         -----
|         Definitions |
|         0           |
|
|         Analytics
|         ---------
|         CBAS |
|         0    |
|
|         FTS
|         ---
|         Aliases |
|         0       |
|
|         Indexing
|         --------
|         Indexes |
|         10      |</pre>
</div>
</div>
<div class="paragraph">
<p>The info command allows you to limit the range of backups that are included in
the output. This can be used to answer a few important questions before
performing a merge/restore. "Is backup X included in a merge/restore with this
range?" or "When I merge/restore with this range, will it include a full
backup?".</p>
</div>
<div class="paragraph">
<p>Lets tackle the question "When I merge with this range, will it include a full
backup?"</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ cbbackupmgr info -a /archive -r repo

| Repo
| ----
| Name | Size     | # Backups | Encrypted | Point in Time |
| repo | 70.49MiB | 5         | false     | false         |
|
| Backups
| -------
|
| * Backup
|   ------
|   Name                                | Size     | Type | Complete |
|   2020-07-18T18_19_54.057655243+01_00 | 17.62MiB | FULL | true     |
|
|   Merged Range
|   ------------
|   Start | End | Count |
|   N/A   | N/A | N/A   |
|
|   Cluster
|   -------
|   Hostname               | UUID                             |
|   http://172.20.1.1:8091 | 8527d470b07095084cf45e1a772a7ba9 |
|
|   Services
|   --------
|
|     Eventing
|     --------
|     Functions |
|     0         |
|
|     FTS
|     ---
|     Aliases |
|     0       |
|
|     Query
|     -----
|     UDFs |
|     0    |
|
| * Backup
|   ------
|   Name                                | Size     | Type | Complete |
|   2020-08-18T18_20_21.319063119+01_00 | 17.62MiB | FULL | true     |
|
|   Merged Range
|   ------------
|   Start | End | Count |
|   N/A   | N/A | N/A   |
|
|   Cluster
|   -------
|   Hostname               | UUID                             |
|   http://172.20.1.1:8091 | 8527d470b07095084cf45e1a772a7ba9 |
|
|   Services
|   --------
|
|     Eventing
|     --------
|     Functions |
|     0         |
|
|     FTS
|     ---
|     Aliases |
|     0       |
|
|     Query
|     -----
|     UDFs |
|     0    |
|
| * Backup
|   ------
|   Name                                | Size     | Type | Complete |
|   2020-08-18T18_20_26.250684761+01_00 | 17.62MiB | FULL | true     |
|
|   Merged Range
|   ------------
|   Start | End | Count |
|   N/A   | N/A | N/A   |
|
|   Cluster
|   -------
|   Hostname               | UUID                             |
|   http://172.20.1.1:8091 | 8527d470b07095084cf45e1a772a7ba9 |
|
|   Services
|   --------
|
|     Eventing
|     --------
|     Functions |
|     0         |
|
|     FTS
|     ---
|     Aliases |
|     0       |
|
|     Query
|     -----
|     UDFs |
|     0    |
|
| * Backup
|   ------
|   Name                                | Size     | Type | Complete |
|   2020-08-18T18_20_30.765048405+01_00 | 17.62MiB | FULL | true     |
|
|   Merged Range
|   ------------
|   Start | End | Count |
|   N/A   | N/A | N/A   |
|
|   Cluster
|   -------
|   Hostname               | UUID                             |
|   http://172.20.1.1:8091 | 8527d470b07095084cf45e1a772a7ba9 |
|
|   Services
|   --------
|
|     Eventing
|     --------
|     Functions |
|     0         |
|
|     FTS
|     ---
|     Aliases |
|     0       |
|
|     Query
|     -----
|     UDFs |
|     0    |
|
| * Backup
|   ------
|   Name                               | Size     | Type | Complete |
|   2020-08-18T18_20_41.39884127+01_00 | 17.62MiB | FULL | true     |
|
|   Merged Range
|   ------------
|   Start | End | Count |
|   N/A   | N/A | N/A   |
|
|   Cluster
|   -------
|   Hostname               | UUID                             |
|   http://172.20.1.1:8091 | 8527d470b07095084cf45e1a772a7ba9 |
|
|   Services
|   --------
|
|     Eventing
|     --------
|     Functions |
|     0         |
|
|     FTS
|     ---
|     Aliases |
|     0       |
|
|     Query
|     -----
|     UDFs |
|     0    |</pre>
</div>
</div>
<div class="paragraph">
<p>The above repository contains five backups in total where only the first is a
full backup. We would like to merge all the backups in August and want to
ensure that we will be merging a full backup.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ cbbackupmgr info -a /archive -r repo --start 01-08-2020 --end 31-08-2020

| Repo
| ----
| Name | Size     | # Backups | Encrypted | Point in Time |
| repo | 70.49MiB | 4         | false     | false         |
|
| Backups
| -------
|
| * Backup
|   ------
|   Name                                | Size     | Type | Complete |
|   2020-08-18T18_20_21.319063119+01_00 | 17.62MiB | FULL | true     |
|
|   Merged Range
|   ------------
|   Start | End | Count |
|   N/A   | N/A | N/A   |
|
|   Cluster
|   -------
|   Hostname               | UUID                             |
|   http://172.20.1.1:8091 | 8527d470b07095084cf45e1a772a7ba9 |
|
|   Services
|   --------
|
|     Eventing
|     --------
|     Functions |
|     0         |
|
|     FTS
|     ---
|     Aliases |
|     0       |
|
|     Query
|     -----
|     UDFs |
|     0    |
|
| * Backup
|   ------
|   Name                                | Size     | Type | Complete |
|   2020-08-18T18_20_26.250684761+01_00 | 17.62MiB | FULL | true     |
|
|   Merged Range
|   ------------
|   Start | End | Count |
|   N/A   | N/A | N/A   |
|
|   Cluster
|   -------
|   Hostname               | UUID                             |
|   http://172.20.1.1:8091 | 8527d470b07095084cf45e1a772a7ba9 |
|
|   Services
|   --------
|
|     Eventing
|     --------
|     Functions |
|     0         |
|
|     FTS
|     ---
|     Aliases |
|     0       |
|
|     Query
|     -----
|     UDFs |
|     0    |
|
| * Backup
|   ------
|   Name                                | Size     | Type | Complete |
|   2020-08-18T18_20_30.765048405+01_00 | 17.62MiB | FULL | true     |
|
|   Merged Range
|   ------------
|   Start | End | Count |
|   N/A   | N/A | N/A   |
|
|   Cluster
|   -------
|   Hostname               | UUID                             |
|   http://172.20.1.1:8091 | 8527d470b07095084cf45e1a772a7ba9 |
|
|   Services
|   --------
|
|     Eventing
|     --------
|     Functions |
|     0         |
|
|     FTS
|     ---
|     Aliases |
|     0       |
|
|     Query
|     -----
|     UDFs |
|     0    |
|
| * Backup
|   ------
|   Name                               | Size     | Type | Complete |
|   2020-08-18T18_20_41.39884127+01_00 | 17.62MiB | FULL | true     |
|
|   Merged Range
|   ------------
|   Start | End | Count |
|   N/A   | N/A | N/A   |
|
|   Cluster
|   -------
|   Hostname               | UUID                             |
|   http://172.20.1.1:8091 | 8527d470b07095084cf45e1a772a7ba9 |
|
|   Services
|   --------
|
|     Eventing
|     --------
|     Functions |
|     0         |
|
|     FTS
|     ---
|     Aliases |
|     0       |
|
|     Query
|     -----
|     UDFs |
|     0    |</pre>
</div>
</div>
<div class="paragraph">
<p>Given the output above, it&#8217;s clear that merging all the backups taken in August
will not result in a merged full backup. To result in a merged full backup, we
would also need to include backups taken in July.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ cbbackupmgr merge -a /archive -r repo --start 01-07-2020 --end 31-08-2020
(1/5) Merging backup '2020-07-18T18_19_54.057655243+01_00'
Copied all data in 1.342126932s (Avg. 2.98MB/Sec)                                                   50000 items / 2.98MB
[==============================================================================================================] 100.00%
Merge bucket 'default' succeeded
Mutations merged: 50000, Mutations failed to merged: 0
Deletions merged: 0, Deletions failed to merged: 0

(2/5) Merging backup '2020-08-18T18_20_21.319063119+01_00'
Copied all data in 2.601879822s (Avg. 1.49MB/Sec)                                                   50000 items / 2.98MB
[==============================================================================================================] 100.00%
Merge bucket 'default' succeeded
Mutations merged: 50000, Mutations failed to merged: 0
Deletions merged: 0, Deletions failed to merged: 0

(3/5) Merging backup '2020-08-18T18_20_26.250684761+01_00'
Copied all data in 3.85210489s (Avg. 1016.84KB/Sec)                                                 50000 items / 2.98MB
[==============================================================================================================] 100.00%
Merge bucket 'default' succeeded
Mutations merged: 50000, Mutations failed to merged: 0
Deletions merged: 0, Deletions failed to merged: 0

(4/5) Merging backup '2020-08-18T18_20_30.765048405+01_00'
Copied all data in 5.057777071s (Avg. 610.10KB/Sec)                                                 50000 items / 2.98MB
[==============================================================================================================] 100.00%
Merge bucket 'default' succeeded
Mutations merged: 50000, Mutations failed to merged: 0
Deletions merged: 0, Deletions failed to merged: 0

(5/5) Merging backup '2020-08-18T18_20_41.39884127+01_00'
Copied all data in 6.24708519s (Avg. 508.42KB/Sec)                                                  50000 items / 2.98MB
[==============================================================================================================] 100.00%
Merge bucket 'default' succeeded
Mutations merged: 50000, Mutations failed to merged: 0
Deletions merged: 0, Deletions failed to merged: 0
Merge completed successfully

$ cbbackupmgr info -a /archive -r repo

| Repo
| ----
| Name | Size     | # Backups | Encrypted | Point in Time |
| repo | 24.11MiB | 1         | false     | false         |
|
| Backups
| -------
|
| * Backup
|   ------
|   Name                               | Size     | Type         | Complete |
|   2020-08-18T18_20_41.39884127+01_00 | 24.11MiB | MERGE - FULL | true     |
|
|   Merged Range
|   ------------
|   Start               | End                 | Count |
|   2020-07-18T18_19_54 | 2020-08-18T18_20_21 | 5     |
|
|   Cluster
|   -------
|   Hostname               | UUID                             |
|   http://172.20.1.1:8091 | 8527d470b07095084cf45e1a772a7ba9 |
|
|   Services
|   --------
|
|     Eventing
|     --------
|     Functions |
|     0         |
|
|     FTS
|     ---
|     Aliases |
|     0       |
|
|     Query
|     -----
|     UDFs |
|     0    |</pre>
</div>
</div>
<div class="paragraph">
<p>As we can clearly see, after we modified our backup range to include July, we
correctly merged all five backups including the full backup. Which is indicated
by the <code>MERGE - FULL</code> type for the resulting backup.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="environment-and-configuration-variables"><a class="anchor" href="#environment-and-configuration-variables"></a>ENVIRONMENT AND CONFIGURATION VARIABLES</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1">CB_ARCHIVE_PATH</dt>
<dd>
<p>Specifies the path to the backup archive. If the archive path is supplied as
a command line argument then this value is overridden.</p>
</dd>
<dt class="hdlist1">CB_OBJSTORE_STAGING_DIRECTORY</dt>
<dd>
<p>Specifies the path to the staging directory. If the <code>--obj-staging-dir</code>
argument is provided in the command line then this value is overridden.</p>
</dd>
<dt class="hdlist1">CB_OBJSTORE_REGION</dt>
<dd>
<p>Specifies the object store region. If the <code>--obj-region</code> argument is provided
in the command line then this value is overridden.</p>
</dd>
<dt class="hdlist1">CB_OBJSTORE_ACCESS_KEY_ID</dt>
<dd>
<p>Specifies the object store access key id. If the <code>--obj-access-key-id</code>
argument is provided in the command line this value is overridden.</p>
</dd>
<dt class="hdlist1">CB_OBJSTORE_SECRET_ACCESS_KEY</dt>
<dd>
<p>Specifies the object store secret access key. If the
<code>--obj-secret-access-key</code> argument is provided in the command line this value
is overridden.</p>
</dd>
<dt class="hdlist1">CB_OBJSTORE_REFRESH_TOKEN</dt>
<dd>
<p>Specifies the refresh token to use. If the <code>--obj-refresh-token</code> argument is
provided in the command line, this value is overridden.</p>
</dd>
<dt class="hdlist1">CB_AWS_ENABLE_EC2_METADATA</dt>
<dd>
<p>By default cbbackupmgr will disable fetching EC2 instance metadata. Setting
this environment variable to true will allow the AWS SDK to fetch metadata
from the EC2 instance endpoint.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="see-also"><a class="anchor" href="#see-also"></a>SEE ALSO</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="cbbackupmgr-cloud.html" class="xref page">cbbackupmgr-cloud</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cbbackupmgr"><a class="anchor" href="#cbbackupmgr"></a>CBBACKUPMGR</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Part of the <a href="cbbackupmgr.html" class="xref page">cbbackupmgr</a> suite</p>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span> 2024 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../_/js/site-navigation-data.js"></script>
<script id="page-navigation-group" type="application/json">
{"title":"Server","components":["server"],"url":"/home/server.html","latestVersions":{"server":"7.6"}}
</script>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/tabs.js" data-sync-storage-key="preferred-tab"></script>
<script defer src="../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
</body>
</html>
