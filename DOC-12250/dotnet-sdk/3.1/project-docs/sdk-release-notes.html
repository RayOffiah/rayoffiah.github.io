<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://metrics.couchbase.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MVPNN2');</script>
<!-- End Google Tag Manager -->
<title>Couchbase .NET SDK Release Notes and Archives | Couchbase Docs</title>
<link rel="canonical" href="https://docs.couchbase.com/dotnet-sdk/current/project-docs/sdk-release-notes.html">
<link rel="stylesheet" href="../../../_/css/site.css">
<script src="../../../_/js/vendor/jquery.js"></script>
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="dotnet-sdk">
<meta name="dcterms.identifier" content="3.1">
<meta name="page-url" content="/dotnet-sdk/3.1/project-docs/sdk-release-notes.html">
<meta name="page-nav-header-levels" content="0">
<meta name="generator" content="Antora 3.1.7">
<link rel="icon" href="../../../_/img/favicon.svg" type="image/svg+xml">
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon" sizes="any">
</head>
<body class="article">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVPNN2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://docs.couchbase.com/home/index.html">
                    <img src="../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://docs.couchbase.com/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
    <template id="page-versions" style="display: none">
      <select class="version_list" data-component="dotnet-sdk">
        <option value="3.4" data-url="../../current/project-docs/sdk-release-notes.html">3.4</option>
        <option value="3.3" data-url="../../3.3/project-docs/sdk-release-notes.html">3.3</option>
        <option value="3.2" data-url="../../3.2/project-docs/sdk-release-notes.html">3.2</option>
        <option value="3.1" data-url="sdk-release-notes.html" selected>3.1</option>
        <option value="3.0" data-url="../../3.0/project-docs/sdk-release-notes.html">3.0</option>
      </select>
    </template>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="1">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="https://github.com/couchbase/docs-sdk-dotnet/edit/release/3.1/modules/project-docs/pages/sdk-release-notes.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-banner">
<i class="fas fa-file-alt"></i> <p>A newer version of this documentation is available.</p>
<a class="btn" href="../../current/project-docs/sdk-release-notes.html">View Latest</a>
</div>
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../hello-world/overview.html">.NET SDK</a></li>
<li class="crumb">Project Docs</li>
<li class="crumb"><a href="#version-3-1-7-02-june-2021">Release Notes</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">Couchbase .NET SDK Release Notes and Archives</h1>
<div class="labels">
<ul></ul>
</div>


</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
{description}
</blockquote>
</div>
<div class="paragraph">
<p>These pages cover the 3.<em>x</em> versions of the Couchbase .NET SDK.
For release notes, download links, and installation methods for 2.7 and earlier releases of the Couchbase .NET Client,  please see the <a href="https://docs-archive.couchbase.com/dotnet-sdk/2.7/sdk-release-notes.html">2.x .NET Release Notes &amp; Download Archive</a>.</p>
</div>
<div class="paragraph">
<p>The full installation instructions that were previously on this page can now be found <a href="#sdk-full-installation.adoc" class="xref unresolved">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="latest-release"><a class="anchor" href="#latest-release"></a>.NET SDK 3.4 Releases</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We always recommend using the latest version of the SDK&#8201;&#8212;&#8201;it contains all of the latest security patches and support for new and upcoming features.
All patch releases for each dot minor release should be API compatible, and safe to upgrade;
any changes to expected behavior are noted in the release notes that follow.</p>
</div>
<div class="sect2">
<h3 id="version-3-4-12"><a class="anchor" href="#version-3-4-12"></a>Version 3.4.12 (04 Oct 2023)</h3>
<div class="paragraph">
<p>Version 3.4.12 is the thirteenth release of the 3.4 series.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.4/Couchbase-Net-Client-3.4.12.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.4.12">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.4.12">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="fixed-issues"><a class="anchor" href="#fixed-issues"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3490">NCBC-3490</a>:
When a request includes a CAS, <code>MutateIn</code> should now throw a <code>CasMismatch</code> exception if the status is <code>KeyExists</code>.
Otherwise, for <code>KeyExists</code>, it will continue to throw <code>DocumentExistsException</code>.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3493">NCBC-3493</a>:
When a Private Link is enabled, the SDK was not properly using the provided config and all of the VBuckets were mapped to the same node.
This could cause a recurring <code>KvNotMyVBucket</code>, which would eventually become an <code>AmbiguousTimeoutException</code> thrown to the user.
This behavior has now been fixed&#8201;&#8212;&#8201;changes have been made so that <code>NetworkResolution</code> is propagated to <code>BucketConfig</code>, duplicate nodes not added to nodes list, and entries in <code>LookupDictionary</code> are only made for nodes with actual ports.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3496">NCBC-3496</a>:
<code>WaitUntilReady</code> should now use the cluster map and not the <code>ServiceType</code> enum by default&#8201;&#8212;&#8201;removing spurious error messages about services which are not being used.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3455">NCBC-3455</a>:
During a <code>MultiLookup</code>, the SDK should now correctly throw <code>DocumentUnretrievableException</code> in <code>LookupInAnyReplica</code>, for key not found.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3465">NCBC-3465</a>:
Exist specs in <code>LookupInResults</code> was not returning <code>ContentAs</code>&#8201;&#8212;&#8201;it now returns bool Exist value serialized as <code>T</code> when calling <code>LookupinResult.ContentAs&lt;T&gt;()</code>, as per RFC.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3473">NCBC-3473</a>:
<code>GetInAnyReplica</code> could fail when it should have been successful, throwing <code>DocumentUnretrievable</code>&#8201;&#8212;&#8201;it should now return the first <em>successful</em> operation (unless all fail).</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3484">NCBC-3484</a>, <a href="https://issues.couchbase.com/browse/NCBC-3485">NCBC-3485</a>, <a href="https://issues.couchbase.com/browse/NCBC-3486">NCBC-3486</a>:
Several bugs in LookupInAny and LookupInAllReplicas have been fixed.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes"><a class="anchor" href="#new-features-and-behavioral-changes"></a>New Features and Behavioral Changes</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3494">NCBC-3494</a>:
Added a client-side check for <code>TooManySpecs</code> in <code>LookupIn</code>.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3387">NCBC-3387</a>:
Removed internal keword from <code>ICollectionQueryIndexManager</code>, facilitatiing better testing.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3479">NCBC-3479</a>:
Added trimming and AOT annotations to Analytics and Search clients.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3492">NCBC-3492</a>:
When an <code>EConfigOnly (0xd)</code> response is received, the SDK assumes that this <em>may</em> mean a stale config, and so fetches a new config and publishes it for processing.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3495">NCBC-3495</a>:
Moved <code>LookupInAllReplicasAsync</code> and <code>LookupInAnyReplicaAsync</code> into <code>ICouchbaseCollection</code>.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3497">NCBC-3497</a>:
Added additional DEBUG logging <code>ConnectionFactory.CreateAndConnectAsync</code>, to aid TLS troubleshooting.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-4-11"><a class="anchor" href="#version-3-4-11"></a>Version 3.4.11 (12 Sept 2023)</h3>
<div class="paragraph">
<p>Version 3.4.11 is the twelfth release of the 3.4 series.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.4/Couchbase-Net-Client-3.4.11.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.4.11">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.4.11">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="fixed-issues-2"><a class="anchor" href="#fixed-issues-2"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3446">NCBC-3446</a>:
When passed as <code>readonly(true)</code>, Readonly Query was accepting <code>UPDATE</code> query and was updating the document in collection, when it should have failed.
This should no longer occur.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3448">NCBC-3448</a>:
<code>IndexNotFoundException</code> was not raised when <code>QueryIndexManager.watchIndex</code> was called with a non-existent index&#8201;&#8212;&#8201;this has been fixed, and the correct exception should now be thrown.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3460">NCBC-3460</a>:
Fixed a bug where a null reference exception was sometimes occurring when bootstrapping a Memcached bucket.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3467">NCBC-3467</a>:
Fixed a regression in lambda-based sub doc API, due to <code>LookupInResult</code> changes.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-2"><a class="anchor" href="#new-features-and-behavioral-changes-2"></a>New Features and Behavioral Changes</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3449">NCBC-3449</a>:
The SDK was throwing a <code>NullReferenceException</code> for the <code>ITypeSerializer</code> when setting a Transcoder in the Options due to erroneous logic in <code>CouchbaseCollection</code>.
Transcoders are now used for deserialization, and RawBinary/RawString Transcoders now initialise the <code>DefaultSerializer</code> when instantiated (like for JsonTranscoder) which,
along with changed logic in <code>CouchbaseCollection</code> when returning <code>LookupInResults</code>,
means that this no longer occurs.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3466">NCBC-3466</a>:
Improvements for internal testing.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3482">NCBC-3482</a>:
Faster Failover/Push config is now ensabled by default.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3130">NCBC-3130</a>:
For improved performance and trimmability,
<code>OrphanReporter</code> has been rewritten to serialize POCOs using a <code>JsonSerializerContext</code> rather than using LINQ objects from Newtonsoft.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3402">NCBC-3402</a>:
Improved trimming support for internal DI.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3404">NCBC-3404</a>:
Replaced <code>Newtonsoft.Json</code> with <code>System.Text.Json</code>, using source generated <code>JsonSerializerContext</code>, for Eventing management.
This is now compatible with trimming and AOT compilation,
and should also provide performance benefits.
Use System.Text.Json for Eventing Management</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3405">NCBC-3405</a>:
Added trimming annotations to <code>LoggingMeter</code>.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3420">NCBC-3420</a>:
The <code>DefaultSerializer</code> was used to deserialize query plans&#8201;&#8212;&#8201;for consistency, this now uses <code>System.Text.Json</code>.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3453">NCBC-3453</a>:
Reduced the default value for the <code>IdleHttpConnectionTimeout</code> client setting to 1 second.
The previous default (4.5 seconds) was too close to the 5-second server-side timeout, and could lead to spurious request failures.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3471">NCBC-3471</a>:
Microsoft DI Extensions (<code>Couchbase.Extensions.DependencyInjection</code>) are now more compatible with trimming and AOT compilation.
The changes also help application start up speed in non-AOT cases.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-4-10"><a class="anchor" href="#version-3-4-10"></a>Version 3.4.10 (03 Aug 2023)</h3>
<div class="paragraph">
<p>Version 3.4.10 is the eleventh release of the 3.4 series.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.4/Couchbase-Net-Client-3.4.10.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.4.10">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.4.10">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="fixed-issues-3"><a class="anchor" href="#fixed-issues-3"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3424">NCBC-3424</a>:
Future server versions will add an extra item to the features list returned, which effects the parsing of the body.
This change prepares for the effects of those  flexible framing extras.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3445">NCBC-3445</a>:
At some point, <code>SubDocMultiPathFailureDeleted</code> was added as a special case of <code>SubDocMultiPathFailure</code>, but from an SDK point of view they should be handled them similarly.
This change ensures that when doing a <code>LookupIn</code> against a Tombstone with <code>AccessDeleted</code> flag set, <code>SubDocMultiPathFailureDeleted</code> response status should not throw, and should be treated the same as <code>SubDocMultiPathFailure</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-3"><a class="anchor" href="#new-features-and-behavioral-changes-3"></a>New Features and Behavioral Changes</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3423">NCBC-3423</a>:
Added <code>GetClusterConfigWithKnownVersion</code> support to Hello.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3425">NCBC-3425</a>:
Added a <code>HELLO</code> flag called <code>DedupeNotMyVbucketClustermap</code>.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3427">NCBC-3427</a>:
Added <code>SnappyEverywhere</code> flag support, in preparation for the .NET SDK supporting Compression.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3428">NCBC-3428</a>:
Added <code>ClustermapChangeNotificationBrief</code> flag support to subscribe to configuration notifications, where available.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3429">NCBC-3429</a>:
Added support for Duplex mode flag to Hello, for Unordered Execution.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3430">NCBC-3430</a>:
Added <code>ClustermapChangeNotification</code> flag support.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3421">NCBC-3421</a>:
Deserializing K/V operations with the <code>DefaultSerializer</code> was allocating an excessive number of buffers for each operation.
This change introduces a reusable pool of text readers which reads directly from the memory buffer without stream-related overhead or intermediate buffers.
This results in a performance gain and a significant reduction in heap allocations when deserializing from a memory buffer.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3432">NCBC-3432</a>:
Added additional logging at the IO level to capture more details of exceptions thrown when sockets are opened.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3438">NCBC-3438</a>:
Several of the listed dependencies for the .NET 6 target were unnecessary, as those packages are now included in the .NET framework and we&#8217;re not targeting a higher version.
We have removed these NuGet dependencies for the .NET 6 Target, which will reduce restore time and size for consumers.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-4-9"><a class="anchor" href="#version-3-4-9"></a>Version 3.4.9 (20 July 2023)</h3>
<div class="paragraph">
<p>Version 3.4.9 is the tenth release of the 3.4 series.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.4/Couchbase-Net-Client-3.4.9.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.4.9">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.4.9">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="fixed-issues-4"><a class="anchor" href="#fixed-issues-4"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3367">NCBC-3367</a>:
The SDK was returning <code>QueryIndexes</code> with null values for Bucket/Scope/Collection names (BucketName should return the Keyspace value when null).
Added BucketName field with backing field for conditionally returning either BucketNameField or Keyspace.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3417">NCBC-3417</a>:
<code>MutateIn</code> was modifying global Transcoder setting; nothing registered as a Singleton should be mutable and changes have been made to ensure that this can no longer happen.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3433">NCBC-3433</a>:
Fixed regression in 3.4.8 which could cause <code>IOException</code> if Query has no content.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-4"><a class="anchor" href="#new-features-and-behavioral-changes-4"></a>New Features and Behavioral Changes</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3412">NCBC-3412</a>: Support Query with Read from Replica</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3418">NCBC-3418</a>: Experimental support for HTTP2 when using the Query service</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3351">NCBC-3351</a>: SDKs must encode URIs</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3437">NCBC-3437</a>: Add .NET 4.8 back to .NET SDK unit and integration tests</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3384">NCBC-3384</a>: Resolve all compiler warnings</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3386">NCBC-3386</a>: Add conditional support for TLS 1.3 for .NET 6.0 and higher</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3401">NCBC-3401</a>: Scan: Implement latest RFC revision (#9)</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3403">NCBC-3403</a>: Improve memory usage of SearchClient</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-4-8"><a class="anchor" href="#version-3-4-8"></a>Version 3.4.8 (12 June 2023)</h3>
<div class="paragraph">
<p>Version 3.4.8 is the ninth release of the 3.4 series.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.4/Couchbase-Net-Client-3.4.8.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.4.8">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.4.8">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="fixed-issues-5"><a class="anchor" href="#fixed-issues-5"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3392">NCBC-3392</a>:
Scan:
<code>RangeScanCreate</code> operation did not receive the <code>MutationTokens</code> from the <code>ScanOptions</code>, as <code>ConsistentWit</code> was not sent in RangeScanCreate packets.
This has been remedied, and <code>MutationState</code> tokens are now sent in <code>RangeScanCreate</code> packets.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3395">NCBC-3395</a>:
Scan: Sampling Scan Limit parameter must be &lt; 0.
An <code>InvalidArgumentException</code> is now thrown when creating a <code>SamplingScan</code> with Limit &lt; 0.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3399">NCBC-3399</a>:
Fixed edge case in bootstrapping around NRE in <code>PruneNodes</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-5"><a class="anchor" href="#new-features-and-behavioral-changes-5"></a>New Features and Behavioral Changes</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3391">NCBC-3391</a>:
Scan: Implemented <code>PrefixScan</code> helper method.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-4-7"><a class="anchor" href="#version-3-4-7"></a>Version 3.4.7 (07 June 2023)</h3>
<div class="paragraph">
<p>Version 3.4.7 is the eighth release of the 3.4 series.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.4/Couchbase-Net-Client-3.4.7.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.4.7">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.4.7">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="fixed-issues-6"><a class="anchor" href="#fixed-issues-6"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3350">NCBC-3350</a>:
<code>NotMyVBucket</code> will no longer result in <code>TaskCancellationException</code>.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3376">NCBC-3376</a>:
Correct timeout response will now be returned during a rebalance.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3379">NCBC-3379</a>:
OpenTelemetry tracing was losing track of the parent span in cases where the parent span was not sampled, resulting in orphaned spans and increased trace volume.
By capturing the <code>ExecutionContext</code>, if any, when queuing operations on the <code>ChannelConnectionPool</code>, and sending the operations on the captured context, the spans are now correctly sampled.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3380">NCBC-3380</a>:
When <code>IOperation.ExtractBody</code> is called it should always dispose of the returned IMemoryOwner, generally with a using statement; .
Failure to do so will cause the buffer to be garbage collected rather than returned to the ArrayPool&#8201;&#8212;&#8201;which can lead to memory holes and decreased GC efficiency.
This has no been fixed, and should no longer occur.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3382">NCBC-3382</a>:
Streaming support now working correctly for Analytics, Query, and Views.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3383">NCBC-3383</a>:
Couchbase.ServiceNotAvailableException: Service n1ql is either not configured or cannot be reached.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3390">NCBC-3390</a>:
Get Cluster Map operations were linked to the bootstrap trace, cusing erroneous large traces.
A check has been added which fixes this.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3392">NCBC-3392</a>:
Scan: Use <code>ConsistentWith</code> MutationTokens for <code>RangeScanCreate</code> Operation.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3393">NCBC-3393</a>:
Fixed regression where <code>OperationCanceledException</code> continues after rebalance completes.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-6"><a class="anchor" href="#new-features-and-behavioral-changes-6"></a>New Features and Behavioral Changes</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3391">NCBC-3391</a>:
Scan: Implemented <code>PrefixScan</code> helper method.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2394">NCBC-2394</a>:
Query 4040 is now handled like 4050, <em>et al</em>&#8201;&#8212;&#8201;e.g. prepared statement cache for it is removed and transparent reprepare is performed.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3354">NCBC-3354</a>:
Changed logging to use <code>LoggerMessage</code> in Channel classes.
Added <code>ChannelConnectionEvent</code> in LoggingEvents.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3378">NCBC-3378</a>:
Improve <code>GET_CID</code> use in <code>CouchbaseBucket</code>.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3381">NCBC-3381</a>:
Removed <code>ClusterNodesChanged</code> and <code>VBucketMapChanged</code> (which are only used internally) from <code>BucketConfig</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-4-6"><a class="anchor" href="#version-3-4-6"></a>Version 3.4.6 (12 May 2023)</h3>
<div class="paragraph">
<p>Version 3.4.6 is the seventh release of the 3.4 series.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.4/Couchbase-Net-Client-3.4.6.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.4.6">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.4.6">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="fixed-issues-7"><a class="anchor" href="#fixed-issues-7"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3300">NCBC-3300</a>:
SamplingScan: Fixed bug in limiting option</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3301">NCBC-3301</a>:
SamplingScan: Fixed bug where requesting too few documents returned incorrect responses.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3345">NCBC-3345</a>:
In the latest development server versions, 0xD is occasionally returned by the server.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-7"><a class="anchor" href="#new-features-and-behavioral-changes-7"></a>New Features and Behavioral Changes</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3273">NCBC-3273</a>:
Added SDK Support for Native KV Range Scans.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3364">NCBC-3364</a>:
Improved hot-path performance in <code>ClusterContext.GetOrCreateBucketAsync</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-4-5"><a class="anchor" href="#version-3-4-5"></a>Version 3.4.5 (20 April 2023)</h3>
<div class="paragraph">
<p>Version 3.4.5 is the sixth release of the 3.4 series.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.4/Couchbase-Net-Client-3.4.5.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.4.5">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.4.5">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="fixed-issues-8"><a class="anchor" href="#fixed-issues-8"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3334">NCBC-3334</a>:
<code>KvNotMyVBucket</code> errors after add node + rebalance.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3337">NCBC-3337</a>:
NullReferenceException when bootstrapping against a non-existent bucket.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3347">NCBC-3347</a>:
IGetResult shouldn&#8217;t have an internal Status property.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3360">NCBC-3360</a>:
Fix QueryContext bug in QueryIndexManager.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3362">NCBC-3362</a>:
SDK writes to _default collection when intended collection is dropped.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3363">NCBC-3363</a>:
SubDoc SuccessDeleted not treated as Success.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3365">NCBC-3365</a>:
Change Search Metadata setters from internal to public.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3369">NCBC-3369</a>:
Ensure ClusterNode list matches Cluster config after rebalance up/down.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3372">NCBC-3372</a>:
Removed/rebalanced out node continues to be hit with http requests.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-8"><a class="anchor" href="#new-features-and-behavioral-changes-8"></a>New Features and Behavioral Changes</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3220">NCBC-3220</a>:
Properly map server query timeout while streaming (1080).</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3308">NCBC-3308</a>:
Scan: Refactor sorting/merging into non-blocking implementation.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3332">NCBC-3332</a>:
Protostellar: Implement KV SubDoc.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3355">NCBC-3355</a>:
Update FIT performer.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3274">NCBC-3274</a>:
Add public API for KV Range Scan.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3370">NCBC-3370</a>:
Lock on sync object instead of nodes list.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-4-4"><a class="anchor" href="#version-3-4-4"></a>Version 3.4.4 (10 March 2023)</h3>
<div class="paragraph">
<p>Version 3.4.4 is the fifth release of the 3.4 series.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.4/Couchbase-Net-Client-3.4.4.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.4.4">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.4.4">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="fixed-issues-9"><a class="anchor" href="#fixed-issues-9"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3340">NCBC-3340</a>:
When an op timed out, the socket connection was closed and then recreated.
With a large number of unexpected timeouts, many sockets could be left in <code>TIME_WAIT</code>.
Making <code>ChannelConnectionProcessor</code> reuse connections after timeout shoeld reduce the number of file descripters and local ports left open.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3356">NCBC-3356</a>:
Cluster level <code>query_context</code>, which is not supported by Server versions earlier than 7.0, has been removed for these versions.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3343">NCBC-3343</a>:
Fixed a bug where <code>SelectBucket</code> may not be called on the internal node used as the bootstrapping endpoint.
This resulted in a <code>BucketNotConnected</code> error for certain ops&#8201;&#8212;&#8201;which will now no longer occur.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-9"><a class="anchor" href="#new-features-and-behavioral-changes-9"></a>New Features and Behavioral Changes</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3309">NCBC-3309</a>:
Handled <code>query_context</code> changes by adding to every index manager request.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3348">NCBC-3348</a>:
When ConnectionString hosts are null, the SDK now throws an exception, with a more explicit error message.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3353">NCBC-3353</a>:
Removed build targets for out-of-support versions of .NET Framework.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-4-3"><a class="anchor" href="#version-3-4-3"></a>Version 3.4.3 (08 February 2023)</h3>
<div class="paragraph">
<p>Version 3.4.3 is the fourth release of the 3.4 series.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.4/Couchbase-Net-Client-3.4.3.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.4.3">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.4.3">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="fixed-issues-10"><a class="anchor" href="#fixed-issues-10"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3316">NCBC-3316</a>:
Scan: Refactored operation parsing, so <code>RangeScanContinue.OnNext()</code> doesn&#8217;t get called after the first batch of a partition has been consumed.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3329">NCBC-3329</a>:
<code>NamedBucketProxyGenerator</code> and <code>NamedCollectionProxyGenerator</code> caches were not thread-safe during start up.
This applies primarily to unit testing scenarios&#8201;&#8212;&#8201;most MVC applications were not affected, as it doesn&#8217;t affect anything once the DI container is configured, because startup DI registration is single-threaded.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3331">NCBC-3331</a>:
Retrying Named Prepared Queries from the SDK&#8201;&#8212;&#8201;added an example of a custom <code>RetryStrategy</code> for the case where you do not want the named prepared statement to be retried, and want a fast-fail in that specific case and tests for named parameters.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-10"><a class="anchor" href="#new-features-and-behavioral-changes-10"></a>New Features and Behavioral Changes</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-1999">NCBC-1999</a>:
Added a <code>TryGetAsync</code> method to handle the case where <code>KeyNotFound</code> is returned by the server&#8201;&#8212;&#8201;for improved performance over throwing
an exception.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3293">NCBC-3293</a>:
Handle case where a response contains a document that exceeds 8120b [<em>sic</em>]&#8201;&#8212;&#8201;provided a test to show that large documents are correctly parsed
and returned to the caller.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3307">NCBC-3307</a>:
Scan: Implemented <code>BatchByteLimit</code>, <code>BatchItemLimit</code>, and <code>BatchTimeLimit</code>.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3318">NCBC-3318</a>:
Protostellar: Exposed KV operation option values publicly, via read-only record copy.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3326">NCBC-3326</a>:
Encode Duration was tracked twice for the Threshold Tracing&#8201;&#8212;&#8201;as <code>RequestSpan</code> was disposed more than once.
This has now been fixed, and the correct value should be returned.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-4-2"><a class="anchor" href="#version-3-4-2"></a>Version 3.4.2 (13 January 2023)</h3>
<div class="paragraph">
<p>Version 3.4.2 is the third release of the 3.4 series.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.4/Couchbase-Net-Client-3.4.2.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.4.2">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.4.2">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="fixed-issues-11"><a class="anchor" href="#fixed-issues-11"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3269">NCBC-3269</a>: InternalServerFailureException error message caught in SDK Query Response</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3297">NCBC-3297</a>: KV Range Scan breaks with NCBC-2167</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3305">NCBC-3305</a>: Pickup latest range scan RFC changes</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3310">NCBC-3310</a>: Scan: Fix RangeScanContinue parsing offset</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3313">NCBC-3313</a>: Sub-Document LookupInAsync.Exists throws SubdocException when path not found</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-4-1"><a class="anchor" href="#version-3-4-1"></a>Version 3.4.1 (09 December 2022)</h3>
<div class="paragraph">
<p>Version 3.4.1 is the second release of the 3.4 series.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.4/Couchbase-Net-Client-3.4.1.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.4.1">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.4.1">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="fixed-issues-12"><a class="anchor" href="#fixed-issues-12"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3204">NCBC-3204</a>: CombinationTest failure: Test_GetAndLockAsync_Locked</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3283">NCBC-3283</a>: Search: Min function throws an exception if the argument is  &gt; 0</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3295">NCBC-3295</a>: KeyNotFound / DocumentNotFound should not trigger the Circuit Breaker</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3296">NCBC-3296</a>: PopulateCID caches Exceptions forever</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3298">NCBC-3298</a>: &quot;couchbases://&quot; Does not automatically enable TLS in SDK 3.4</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3304">NCBC-3304</a>: ObjectDisposedException on GET command during rebalance</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-11"><a class="anchor" href="#new-features-and-behavioral-changes-11"></a>New Features and Behavioral Changes</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2167">NCBC-2167</a>: Refactor operation callback handling and exception mapping</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-4-0"><a class="anchor" href="#version-3-4-0"></a>Version 3.4.0 (10 November 2022)</h3>
<div class="paragraph">
<p>Version 3.4.0 is the first release of the 3.4 series.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.4/Couchbase-Net-Client-3.4.0.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.4.0">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.4.0">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="fixed-issues-13"><a class="anchor" href="#fixed-issues-13"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3246">NCBC-3246</a>: EndpointDiagnostics.State always returns &quot;Authenticating&quot; for KV and not implemented per RFC</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3266">NCBC-3266</a>: A timeout may have a status of &quot;success&quot;</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3281">NCBC-3281</a>: Erroneous time reported in timeout log message.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3286">NCBC-3286</a>: RetryHandler does not apply backoff when a request is not AlwaysRetry.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-12"><a class="anchor" href="#new-features-and-behavioral-changes-12"></a>New Features and Behavioral Changes</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3271">NCBC-3271</a>: Error Message for Bucket Hibernation</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="net-sdk-3-3-releases"><a class="anchor" href="#net-sdk-3-3-releases"></a>.NET SDK 3.3 Releases</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="version-3-3-6"><a class="anchor" href="#version-3-3-6"></a>Version 3.3.6 (06 October 2022)</h3>
<div class="paragraph">
<p>Version 3.3.6 is the seventh release of the 3.3 series.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.3/Couchbase-Net-Client-3.3.6.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.3.6">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.3.6">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="fixed-issues-14"><a class="anchor" href="#fixed-issues-14"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3265">NCBC-3265</a>:
Ensure SDK can bootstrap from a non-data-service node.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3270">NCBC-3270</a>:
Make <code>Increment</code> and <code>Decrement</code> take unsigned long delta, per the RFC.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-13"><a class="anchor" href="#new-features-and-behavioral-changes-13"></a>New Features and Behavioral Changes</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3258">NCBC-3258</a>:
Changed <code>QueryRequest</code> from /query to /query/service.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3263">NCBC-3263</a>:
Support For Configuration Profiles added.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2953">NCBC-2953</a>:
Support for Serverless/Lambda Execution Environments.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3261">NCBC-3261</a>:
Where possible, we now use <code>ArrayPool</code> instead of <code>MemoryPool</code>.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3264">NCBC-3264</a>:
Improved performance of lambda processing for subdoc operations.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3267">NCBC-3267</a>:
When creating snapshot packages in Jenkins, the latest tag is now always used as a base for the snapshot name.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3268">NCBC-3268</a>:
<code>Session
State</code> GA readiness.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-3-5"><a class="anchor" href="#version-3-3-5"></a>Version 3.3.5 (16 September 2022)</h3>
<div class="paragraph">
<p>Version 3.3.5 is the sixth release of the 3.3 series.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.3/Couchbase-Net-Client-3.3.5.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.3.5">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.3.5">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="fixed-issues-15"><a class="anchor" href="#fixed-issues-15"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3256">NCBC-3256</a>:
Fixed issue where <code>Search.MetaData.TimeTook</code> was being parsed as ticks, not nanoseconds.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3257">NCBC-3257</a>:
Fixed a bug where operations failed on memcached bucket types.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-3-4"><a class="anchor" href="#version-3-3-4"></a>Version 3.3.4 (02 August 2022)</h3>
<div class="paragraph">
<p>Version 3.3.4 is the fifth release of the 3.3 series.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.3/Couchbase-Net-Client-3.3.4.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.3.4">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.3.4">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="fixed-issues-16"><a class="anchor" href="#fixed-issues-16"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3248">NCBC-3248</a>:
Fixed issue where bootstrap did not continue after an <code>AuthenticationFailureException</code>.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3252">NCBC-3252</a>:
Fixed issue where the wrong error message was returned when bootstrapping a bucket.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-14"><a class="anchor" href="#new-features-and-behavioral-changes-14"></a>New Features and Behavioral Changes</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3193">NCBC-3193</a>:
Removed erroneous <code>InvalidArgumentException</code> when TLS is enabled with defaults.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3253">NCBC-3253</a>:
This fixes an issue in Couchbase Server 6.5 FTS which fails when values of 0 are provided for "fuzziness" or "prefix_length".</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-3-3"><a class="anchor" href="#version-3-3-3"></a>Version 3.3.3 (11 July 2022)</h3>
<div class="paragraph">
<p>Version 3.3.3 is the fourth release of the 3.3 series.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.3/Couchbase-Net-Client-3.3.3.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.3.3">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.3.3">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="fixed-issues-17"><a class="anchor" href="#fixed-issues-17"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3010">NCBC-3010</a>:
<code>BucketNotFoundException</code> incorrectly raised when there is no database running.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3191">NCBC-3191</a>:
<code>EventingFunctionManager</code> throws wrong exception for compilation failure.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3214">NCBC-3214</a>:
Fixed NuGet packaging issues causing problems with dependencies for some users.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3231">NCBC-3231</a>:
MutateIn throws <code>CAS</code> error instead of <code>KeyExists</code> when doc exists and <code>StoreSemantics.Insert</code>.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3239">NCBC-3239</a>:
<code>NullReferenceException</code> when bootstrapping fails and a mangement API call is made.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3240">NCBC-3240</a>:
<code>WaitUntilReadyAsync</code> fails when it cannot connect to a cluster before timeout.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3241">NCBC-3241</a>:
<code>QueryIndexManager</code> throws generic exception as opposed to <code>IndexNotFoundException</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-15"><a class="anchor" href="#new-features-and-behavioral-changes-15"></a>New Features and Behavioral Changes</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3166">NCBC-3166</a>:
Added performance best practices in API Docs.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3224">NCBC-3224</a>:
Flagged <code>ErrorContext</code> as uncommitted.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3242">NCBC-3242</a>:
Updated <code>Newtonsoft.JSON</code> to version <code>13.0.1</code> or later.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2953">NCBC-2953</a>:
Added support for Serverless/Lambda Execution Environments</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-3-2"><a class="anchor" href="#version-3-3-2"></a>Version 3.3.2 (16 June 2022)</h3>
<div class="paragraph">
<p>Version 3.3.2 is the third release of the 3.3 series.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.3/Couchbase-Net-Client-3.3.2.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.3.2">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.3.2">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="fixed-issues-18"><a class="anchor" href="#fixed-issues-18"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3067">NCBC-3067</a>:
GetAndLockAsync times out instead of throwing DocumentLockedException.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3195">NCBC-3195</a>:
N1QL queries with the default serializer don&#39;t read DateTimeOffset correctly.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3197">NCBC-3197</a>:
FailFast Retry Strategy May Result in Infinite Processing Loop for Query, Views, Analytics, Search requests.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3198">NCBC-3198</a>:
Blocked Task when Helo is called on a nonresponsive socket.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3199">NCBC-3199</a>:
Timeout log message uses misleading Operation.Timeout.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3200">NCBC-3200</a>:
Unlock returns DocumentLockedException.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3201">NCBC-3201</a>:
Remove bootstrap endpoint comparison from network resolution.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3203">NCBC-3203</a>:
NotMyVbucket exception while in mixed mode (CB  6.5 &amp; 7.X).</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3205">NCBC-3205</a>:
A locked status is mapped to temporary failure.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3206">NCBC-3206</a>:
DI provider caches bad bootstrap results.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3216">NCBC-3216</a>:
LoggingMeterReport can crash the process in the timer.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3217">NCBC-3217</a>:
InternalSerializationContext throws a NotSupportedException when the object graph contains JObject.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3218">NCBC-3218</a>:
Redacted&lt;T&gt; doesn&#39;t close tags properly.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3225">NCBC-3225</a>:
QueryOptions.MaxServerParallelism should be serialized as a string.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3226">NCBC-3226</a>:
Opaque is written to packet in NBO making WireShark tracing difficult.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3227">NCBC-3227</a>:
Opaque is reused during retries making debugging difficult.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3232">NCBC-3232</a>:
Ensure collections are enabled for all connections.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3236">NCBC-3236</a>:
Issues with KV and NMVB against pre 6.5 cluster.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-16"><a class="anchor" href="#new-features-and-behavioral-changes-16"></a>New Features and Behavioral Changes</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-1973">NCBC-1973</a>:
.NET Doc on Error Handling for SDK 3 v1.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3186">NCBC-3186</a>:
Review .NET SDK Snippets in VSCode.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3189">NCBC-3189</a>:
Mark IEventingFunctionManager as Uncommitted.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3202">NCBC-3202</a>:
Dead Link in Repo.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3223">NCBC-3223</a>:
Flag RetryReason as Volatile.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3002">NCBC-3002</a>:
Validate: Document accessed after Locking should raise DocumentLockedException or Timeout?.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3028">NCBC-3028</a>:
Upgrade App.Metrics to mitigate security scan warnings.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3038">NCBC-3038</a>:
Add retry reasons to ErrorContext.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3078">NCBC-3078</a>:
Mark synchronous methods in data structures as obsolete.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3168">NCBC-3168</a>:
Add exception to debug log in CircuitBreaker.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3188">NCBC-3188</a>:
Add retry reasons to ErrorContext for UnAmbiguousTimeouts.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3207">NCBC-3207</a>:
Remove dependency on Crc32.NET in Transactions.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3208">NCBC-3208</a>:
Review all SDK and verify if new SQL++ Feature introduced in 7.1.1(Include MISSING) will work as expected without any change in the code.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3228">NCBC-3228</a>:
Make BestEffortRetryStrategy.RetryAfter virtual so it can be overridden.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3229">NCBC-3229</a>:
Add 30s lock limit for GetAndLock API docs.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3152">NCBC-3152</a>:
Improved code documention for KV API.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-3-1"><a class="anchor" href="#version-3-3-1"></a>Version 3.3.1 (03 May 2022)</h3>
<div class="paragraph">
<p>Version 3.3.1 is the second release of the 3.3 series.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.3/Couchbase-Net-Client-3.3.1.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.3.1">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.3.1">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="fixed-issues-19"><a class="anchor" href="#fixed-issues-19"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3192">NCBC-3192</a>:
Fixed erroneous <code>InvalidArgumentException</code> with default TLS settings.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-3-0-27-april-2022"><a class="anchor" href="#version-3-3-0-27-april-2022"></a>Version 3.3.0 (27 April 2022)</h3>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
This version introduces an issue, <a href="https://issues.couchbase.com/browse/NCBC-3192">NCBC-3192</a>, which impacts TLS/SSL.
Please use <a href="#version-3-3-1">version 3.3.1</a> instead.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Version 3.3.0 is the first release of the 3.3 series (delisted from NuGet 4/28/2022).</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.3/Couchbase-Net-Client-3.3.0.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.3.0">API Reference</a></p>
</div>
<div class="sect3">
<h4 id="special-note"><a class="anchor" href="#special-note"></a>Special Note</h4>
<div class="ulist">
<ul>
<li>
<p>During a rebalance upgrade from 6.x (or any earlier version) to 7x, in mixed mode (where you are communicating with Couchbase Server whilst some but not all nodes are upgraded), there is a known issue where data may be written to the wrong location.
The solution is to either upgrade to 3.2.9 or greater, or to pause application processing so there are no writes until you have upgraded all nodes.
If you encounter a similar situation during migration and need help with mitigation, please contact our support team.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues-20"><a class="anchor" href="#fixed-issues-20"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2847">NCBC-2847</a>,
<a href="https://issues.couchbase.com/browse/NCBC-3123">NCBC-3123</a>,
<a href="https://issues.couchbase.com/browse/NCBC-3115">NCBC-3115</a>,
<a href="https://issues.couchbase.com/browse/NCBC-3124">NCBC-3124</a>,
<a href="https://issues.couchbase.com/browse/NCBC-3151">NCBC-3151</a>,
<a href="https://issues.couchbase.com/browse/NCBC-3179">NCBC-3179</a>,
<a href="https://issues.couchbase.com/browse/NCBC-3000">NCBC-3000</a>:
Made it simpler to diagnose failures by ensuring that various exceptions including <code>AuthenticationFailureException</code>, <code>BucketNotFoundException</code>, <code>EventingFunctionNotFoundException</code>, FTS exceptions, <code>ScopeNotFoundException</code>, <code>BucketExistsException</code>, <code>AuthenticationFailedException</code> are correctly thrown.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3164">NCBC-3164</a>,
<a href="https://issues.couchbase.com/browse/NCBC-3177">NCBC-3177</a>:
Fix bugs where NullReferenceException were thrown in
SendAsync (because the OperationBuilder has not been set for a NOOP)
and rebalancing (when the cluster map was missing an alternate address).</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3190">NCBC-3190</a>:
Fixed bug where CreateDataverseAsync failed when passed an empty TimeSpan.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-17"><a class="anchor" href="#new-features-and-behavioral-changes-17"></a>New Features and Behavioral Changes</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3173">NCBC-3173</a>,
<a href="https://issues.couchbase.com/browse/NCBC-3182">NCBC-3182</a>:
Bundle Capella CA cert with SDK, and use it by default.
(Note: fix is .NET 5+ only)</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2870">NCBC-2870</a>:
Added OpenTelemetry 1.2.0 AggregatingMeter Otel integration.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3082">NCBC-3082</a>:
Support parameterized N1QL queries using string interpolation in .NET 6</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3180">NCBC-3180</a>:
Fixed <code>GetAllIndexes</code> response on default collection.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3043">NCBC-3043</a>:
Made <code>ChannelConnectionPool</code> the default.
This was added in 3.1.2, and is now the default, replacing <code>DataFlowConnectionPool</code>.
(To revert to the previous connection pool set <code>ClusterOptions.Experiments.ChannelConnectionPools</code> to false.)</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3079">NCBC-3079</a>:
Improved logging performance in hot paths.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3126">NCBC-3126</a>:
Reduce heap allocations deserializing vBucket maps.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3132">NCBC-3132</a>,
<a href="https://issues.couchbase.com/browse/NCBC-3134">NCBC-3134</a>,
<a href="https://issues.couchbase.com/browse/NCBC-3137">NCBC-3137</a>:
Switched to <code>System.Text.Json `for exception error contexts, `OperationSpec.ToString</code>,  <code>ClusterVersionProvider</code></p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3138">NCBC-3138</a>:
Support both Newtonsoft and System.Text.Json` for DiagnosticReport</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="net-sdk-3-2-releases"><a class="anchor" href="#net-sdk-3-2-releases"></a>.NET SDK 3.2 Releases</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="version-3-2-9-4-april-2022"><a class="anchor" href="#version-3-2-9-4-april-2022"></a>Version 3.2.9 (4 April 2022)</h3>
<div class="paragraph">
<p>Version 3.2.9 is the ninth release of the 3.2 series.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.2/Couchbase-Net-Client-3.2.9.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.2.9">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.2.9">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="special-note-2"><a class="anchor" href="#special-note-2"></a>Special Note</h4>
<div class="ulist">
<ul>
<li>
<p>During a rebalance upgrade from 6.x (or any earlier version) to 7x, in mixed mode (where you are communicating with Couchbase Server whilst some but not all nodes are upgraded), there is a known issue where data may be written to the wrong location.
The solution is to either upgrade to 3.2.9, or to pause application processing so there are no writes until you have upgraded all nodes.
If you encounter a similar situation during migration and need help with mitigation, please contact our support team.</p>
</li>
<li>
<p>Between bug fixes and performance improvements, the <code>ChannelConnectionPool</code> will be made the default in a future release.
Give it a try now with <code>ClusterOptions.Experiments.ChannelConnectionPools = true;</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues-21"><a class="anchor" href="#fixed-issues-21"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3174">NCBC-3174</a>: Out of Retries misclassified as Operation Timed Out</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3176">NCBC-3176</a>: ExponentialBackoff only ever increases globally</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2994">NCBC-2994</a>: Trace listener leaks spans when an exception is thrown</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3076">NCBC-3076</a>: NullReferenceException when tracing span has no parent</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3111">NCBC-3111</a>: PingReport output should not include last_activity_us</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3122">NCBC-3122</a>: Duplicate view exception types for DesignDocumentNotFound</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3127">NCBC-3127</a>: Search query ConsistentWith uses bucket name instead of index name for scan vector key</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3149">NCBC-3149</a>: Synchronize bucket creation to avoid Object Disposed Exceptions</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3160">NCBC-3160</a>: Wrong host was used for lookup</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3163">NCBC-3163</a>: Bucket name escaping in QueryIndexManager.GetAllIndexesAsync</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3171">NCBC-3171</a>: Documents may be written to the wrong location in a mixed-mode cluster set-up.
See the <a href="#special-note">Special Note</a> for more details.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3172">NCBC-3172</a>: .NET SDK fails to connect to correct node in custom port (cluster_run) multi-node setup</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-18"><a class="anchor" href="#new-features-and-behavioral-changes-18"></a>New Features and Behavioral Changes</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3099">NCBC-3099</a>: Clean up uses of ToString() on primitives to be sure we use InvariantCulture.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3125">NCBC-3125</a>: Use System.Text.Json for bucket management</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3133">NCBC-3133</a>: Use System.Text.Json to serialize OperationResult and OperationResult&lt;T&gt;.ToString()</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3150">NCBC-3150</a>: Improve error messages in views and FTS</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3168">NCBC-3168</a>: Add exception to debug log in CircuitBreaker</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-2-8-2-march-2022"><a class="anchor" href="#version-3-2-8-2-march-2022"></a>Version 3.2.8 (2 March 2022)</h3>
<div class="paragraph">
<p>Version 3.2.8 is the eighth release of the 3.2 series.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.2/Couchbase-Net-Client-3.2.8.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.2.8">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.2.8">Nuget</a></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
.NET Core 2.1 support has been dropped from the SDK, as of 3.2.5.
This corresponds to Microsoft&#8217;s decision to EOL .NET Core 2.1 on August 21, 2021.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="known-issues"><a class="anchor" href="#known-issues"></a>Known Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3171">NCBC-3171</a>: Documents may be written to the wrong location in a mixed-mode cluster set-up.
See the <a href="#special-note">Special Note</a> for more details.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues-22"><a class="anchor" href="#fixed-issues-22"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3091">NCBC-3091</a>:
NRE GetDocumentFromReplicaAsync when EndPoint is null v3.2.X</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3110">NCBC-3110</a>:
PingReport does not honor token or default timeout</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3114">NCBC-3114</a>:
Json Converters not used for some EventingFunctionSetting fields</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3119">NCBC-3119</a>:
MutateIn does not use registered ITranscoder or ITypeSerializer</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-19"><a class="anchor" href="#new-features-and-behavioral-changes-19"></a>New Features and Behavioral Changes</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3103">NCBC-3103</a>:
Integrate Transactions into couchbase-net-client repo</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3105">NCBC-3105</a>:
Build and package Couchbase.Transactions with CouchbaseNetClient</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2176">NCBC-2176</a>:
3.0 API Migration guide</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2711">NCBC-2711</a>:
Build DocFx site in Jenkins during release pipeline.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3112">NCBC-3112</a>:
Update integration tests to work with System.Text.Json</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3012">NCBC-3012</a>:
Review GitHub protocol security and replace git://</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3017">NCBC-3017</a>:
Expose key/value metrics for instrumentation and observability</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3060">NCBC-3060</a>:
Reduce heap allocations for ClusterNode.SendAsync</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3081">NCBC-3081</a>:
Reuse CancellationTokenSources which have not timed out</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3113">NCBC-3113</a>:
Update DataStructures to be compatible with System.Text.Json</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3120">NCBC-3120</a>:
Use System.Text.Json to serialize QueryOptions</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-2-7-1-february-2022"><a class="anchor" href="#version-3-2-7-1-february-2022"></a>Version 3.2.7 (1 February 2022)</h3>
<div class="paragraph">
<p>Version 3.2.7 is the seventh release of the 3.2 series.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.2/Couchbase-Net-Client-3.2.7.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.2.7">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.2.7">Nuget</a></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
.NET Core 2.1 support has been dropped from the SDK, as of 3.2.5.
This corresponds to Microsoft&#8217;s decision to EOL .NET Core 2.1 on August 21, 2021.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="known-issues-2"><a class="anchor" href="#known-issues-2"></a>Known Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3171">NCBC-3171</a>: Documents may be written to the wrong location in a mixed-mode cluster set-up.
See the <a href="#special-note">Special Note</a> for more details.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues-23"><a class="anchor" href="#fixed-issues-23"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3085">NCBC-3085</a>:
Fixed potential issue with <code>Random.Next</code> returning only zero,
by using <code>RandomNumberGenerator.GetInt32</code> if  available.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3086">NCBC-3086</a>:
Improved error handling in QueryIndexManager.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3090">NCBC-3090</a>:
Fixed TaskCancellationException in EventingFunctionManager.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3092">NCBC-3092</a>:
Resolve DNS for each connection rather than node bootstrap.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3095">NCBC-3095</a>:
Modified to shutdown the Bootstrapper loop on Dispose,
avoiding an indefinite loop.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3096">NCBC-3096</a>:
Cleaned up <code>CancellationTokenSource</code> handling in ConfigHandler.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3100">NCBC-3100</a>:
Included <code>LastDispatchedFrom</code> and <code>LastDispatchedTo</code> in <code>IErrorContext</code> implementations.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3102">NCBC-3102</a>:
Fixed a bug where the <code>RemoteHost</code> tag was assigned the value of LocalHost
when an Orphaned report is generated.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3107">NCBC-3107</a>:
Escape keyspace values with backticks only if missing,
fixing an error where <code>IQueryIndexManager</code> didn&#8217;t accept some bucket names.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3109">NCBC-3109</a>:
Fixed issue with Quota Limited Exceptions not being thrown for some Management apis.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-20"><a class="anchor" href="#new-features-and-behavioral-changes-20"></a>New Features and Behavioral Changes</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2964">NCBC-2964</a>:
Added <code>QueryOptions.PreserveExpiry</code></p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2973">NCBC-2973</a>:
Enhanced Index Management API with ability to manage indexes for a collection or scope.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3035">NCBC-3035</a>:
Improved performance of EnumExtensions method calls.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3036">NCBC-3036</a>:
Added tracing spans for improved Observability of compression/decompression performance.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3059">NCBC-3059</a>:
Reduced heap allocations surrounding OperationCancellationRegistration.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3063">NCBC-3063</a>:
Replaced Stopwatch in AsyncState with a lightweight approach.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3089">NCBC-3089</a>:
Added clone method to QueryOptions to avoid reuse and potential threading issues.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3097">NCBC-3097</a>:
Reduced risk of odd behaviors during connection pool scale down with use of <code>TaskCreationOptions.RunContinuationsAsynchronously</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-2-6-12-january-2022"><a class="anchor" href="#version-3-2-6-12-january-2022"></a>Version 3.2.6 (12 January 2022)</h3>
<div class="paragraph">
<p>Version 3.2.6 is the sixth release of the 3.2 series.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.2/Couchbase-Net-Client-3.2.6.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.2.6">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.2.6">Nuget</a></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
.NET Core 2.1 support has been dropped from the SDK, as of 3.2.5.
This corresponds to Microsoft&#8217;s decision to EOL .NET Core 2.1 on August 21, 2021.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="known-issues-3"><a class="anchor" href="#known-issues-3"></a>Known Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3171">NCBC-3171</a>: Documents may be written to the wrong location in a mixed-mode cluster set-up.
See the <a href="#special-note">Special Note</a> for more details.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues-24"><a class="anchor" href="#fixed-issues-24"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2647">NCBC-2647</a>:
<code>CreatePrimaryIndexAsync</code> throws exceptions / ignores <code>IgnoreIfExists</code>.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2829">NCBC-2829</a>:
NoOp operations can fail with an <code>ObjectDisposedException</code> on MultiplexingConnection.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2977">NCBC-2977</a>:
When you cannot connect to a bucket you may recieve a Memcached bucket error.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2980">NCBC-2980</a>:
Threshold Logging report is missing server duration(s).</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2981">NCBC-2981</a>:
Threshold Logging report is missing timeout.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2999">NCBC-2999</a>:
Subdocument Operation <code>LookupInAsync</code> must throw <code>PathNotFoundException</code>.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3008">NCBC-3008</a>:
<code>RequestTooBigException</code> should be <code>ValueTooLargeException</code>.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3047">NCBC-3047</a>:
Tracing is not stopped when the cluster is disposed.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3050">NCBC-3050</a>:
Exception iterating over a DataStructures dictionary.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3057">NCBC-3057</a>:
Incorrect and inefficient db.couchbase.service span tags.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3061">NCBC-3061</a>:
PersistentDictionary should use a replace operation when setting <code>Item: key</code>.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3062">NCBC-3062</a>:
Don&#8217;t set <code>MaxIdleTime</code> on <code>ServicePoint</code> in .NET Core 3.1.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3072">NCBC-3072</a>:
<code>CollectionManager.GetAllScopesAsync</code> throws on success.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3073">NCBC-3073</a>:
PersistentDictionary. TryGetValue does not properly map path not found error.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-21"><a class="anchor" href="#new-features-and-behavioral-changes-21"></a>New Features and Behavioral Changes</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3029">NCBC-3029</a>:
Create basic implementation of <code>SystemTextJsonSerializer</code>.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3066">NCBC-3066</a>:
Develop Key/Value API tests.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3069">NCBC-3069</a>:
Add project with basic tests.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3001">NCBC-3001</a>:
log message formatting opCode and endpoint parameters are swapped.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3037">NCBC-3037</a>:
Add additional unit testing to Rate Limiting code.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3056">NCBC-3056</a>:
Ignore null reference exception in global config resolution is server version is earlier than 6.5.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2692">NCBC-2692</a>:
Management APIs should provide detailed responses to errors (ban <code>EnsureStatusCode</code>).</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2937">NCBC-2937</a>:
Support for .NET 6.0.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2946">NCBC-2946</a>:
Bucket Management API&#8201;&#8212;&#8201;Add Custom Conflict Resolution to the enumeration for Conflict Resolution Type.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2947">NCBC-2947</a>:
ARM&#8201;&#8212;&#8201;Support for Apple Silicon.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2950">NCBC-2950</a>:
Extend FTS options to set IncludeLocations and Operator.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2956">NCBC-2956</a>:
Support for AWS AWS Graviton2.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2971">NCBC-2971</a>:
Bucket Management API&#8201;&#8212;&#8201;Add Storage Option.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3003">NCBC-3003</a>: InternalServerFailureException.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3033">NCBC-3033</a>:
Remove finalizer from OperationBase.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3046">NCBC-3046</a>:
Reduce tracing related heap allocations.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3049">NCBC-3049</a>:
Sporadic logging failures in unit tests.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3053">NCBC-3053</a>:
Add lambda to options in <code>Cluster.ConnectAsync</code> overload.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3064">NCBC-3064</a>:
Construct Activity objects using parent <code>ActivityContext</code>.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3070">NCBC-3070</a>:
Add API documentation to source files in Sub-Doc API.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3080">NCBC-3080</a>:
Use C# LangVersion 10.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-2-5-10-december-2021"><a class="anchor" href="#version-3-2-5-10-december-2021"></a>Version 3.2.5 (10 December 2021)</h3>
<div class="paragraph">
<p>Version 3.2.5 is the fifth release of the 3.2 series.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.2/Couchbase-Net-Client-3.2.5.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.2.5">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.2.5">Nuget</a></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
.NET Core 2.1 support has been dropped from the SDK, as of 3.2.5.
This corresponds to Microsoft&#8217;s decision to EOL .NET Core 2.1 on August 21, 2021.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="known-issues-4"><a class="anchor" href="#known-issues-4"></a>Known Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3171">NCBC-3171</a>: Documents may be written to the wrong location in a mixed-mode cluster set-up.
See the <a href="#special-note">Special Note</a> for more details.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues-25"><a class="anchor" href="#fixed-issues-25"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2851">NCBC-2851</a>:
Fixed TimeoutExceptions after rebound in Failover/Eject tests.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2983">NCBC-2983</a>:
Allowed query timeouts to exceed 100ms.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2991">NCBC-2991</a>:
Fixed compatibility with DI NET 6.0 - added support for named bucket/collection DI.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2993">NCBC-2993</a>:
Rewrote CancellationTokenPair to dispose the linked CancellationTokenSource during GC, avoiding memory leaks.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2995">NCBC-2995</a>:
Fixed slow memory leak in OrphanReporter.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3005">NCBC-3005</a>:
Fixed GetCidByName failure with "Not connected to any bucket", by ensuring the operation is routed to KV node.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3007">NCBC-3007</a>:
Improved logging around connection pool scale down, for deeper inspection of DataFlowConnectionPool behavior.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3009">NCBC-3009</a>:
Addressed sync-over-async deadlocks.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3013">NCBC-3013</a>:
Keep connections alive after send is canceled.
This fixes issue where canceling K/V operations while waiting on network send killed the connection.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3018">NCBC-3018</a>:
Fix background worker edge case where error "Comparing the same configs is not allowed" was hit.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3021">NCBC-3021</a>:
Fixed regression with legacy Memcached buckets.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3045">NCBC-3045</a>:
Fixed Fix WaitUntilReadyAsync for FTS.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-22"><a class="anchor" href="#new-features-and-behavioral-changes-22"></a>New Features and Behavioral Changes.</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3041">NCBC-3041</a>;
<a href="https://issues.couchbase.com/browse/NCBC-2996">NCBC-2996</a>;
<a href="https://issues.couchbase.com/browse/NCBC-3031">NCBC-3031</a>:
Work on updating .NET targets.
Removed unneeded .netstandard2.0 target from DI project.
Made code changes to prepare for .NET 6.
Added .NET 5 Target.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2948">NCBC-2948</a>:
Added special error handling for rate and quota limits.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2600">NCBC-2600</a>:
Set default query HTTP Idle timeout to 4.5s, to avoid premature IOException when connecting with default values.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3004">NCBC-3004</a>:
Added log warning when socket disconnects from cluster</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3019">NCBC-3019</a>:
Enabled SSL cipher configuration.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3020">NCBC-3020</a>:
Added support for custom deserializers for GET projections.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3022">NCBC-3022</a>:
Improved lock contention getting collection CIDs.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3023">NCBC-3023</a>:
Enabled nullable annotations to serializer/transcoder.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3025">NCBC-3025</a>:
Cleaned up project files and NuGet dependencies.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3034">NCBC-3034</a>:
Reduced blocking in async methods in data structures, resulting in more efficient thread utilization.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3044">NCBC-3044</a>:
Fixes to problematic OpenTelemetry tracing registration.
A consumer may now register with an OpenTelemetry provider which
is being managed outside the SDK.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-2-4-2-november-2021"><a class="anchor" href="#version-3-2-4-2-november-2021"></a>Version 3.2.4 (2 November 2021)</h3>
<div class="paragraph">
<p>Version 3.2.4 is the fourth release of the 3.2 series.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.2/Couchbase-Net-Client-3.2.4.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.2.4">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.2.4">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="known-issues-5"><a class="anchor" href="#known-issues-5"></a>Known Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3171">NCBC-3171</a>: Documents may be written to the wrong location in a mixed-mode cluster set-up.
See the <a href="#special-note">Special Note</a> for more details.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2851">NCBC-2851</a>:
TimeoutExceptions continue after rebound in Failover/Eject tests.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues-26"><a class="anchor" href="#fixed-issues-26"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2974">NCBC-2974</a>:
When <code>GetCid</code> failed, an infinite loop could be triggered, causing the <code>CidLock</code> to time out.
The regression that caused this in the previous release has now been fixed.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2989">NCBC-2989</a>:
Fixed side effects related to singleton <code>CouchbaseHttpClient</code>.
Now each consuming service can safely manipulate the `HttpClient&#8217;s timeout and connection ID headers and such without affecting other services.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-23"><a class="anchor" href="#new-features-and-behavioral-changes-23"></a>New Features and Behavioral Changes.</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2979">NCBC-2979</a>:
Added support for Error Map v2.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2987">NCBC-2987</a>:
Updated NuGet package info.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2477">NCBC-2477</a>:
Replaced <code>HttpClientHandler</code> with <code>SocketsHttpHandler</code>.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2859">NCBC-2859</a>:
Completed Field Level Encryption implementation, adding RSA support for legacy upgrade scenarios.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2865">NCBC-2865</a>:
Added new <code>revEpoch</code> field, allowing server to provide higher level guidance for current, correct bucket configuration.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2992">NCBC-2992</a>:
Renamed <code>BucketBase.BucketConfig</code> to <code>BucketBase.CurrentConfig</code> for clarity.
Renamed <code>BucketConfigExtensions.IsNewer()</code> to <code>BucketConfigExtensions.IsNewerThan()</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-2-3-6-october-2021"><a class="anchor" href="#version-3-2-3-6-october-2021"></a>Version 3.2.3 (6 October 2021)</h3>
<div class="paragraph">
<p>Version 3.2.3 is the third release of the 3.2 series.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.2/Couchbase-Net-Client-3.2.3.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.2.3">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.2.3">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="known-issues-6"><a class="anchor" href="#known-issues-6"></a>Known Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3171">NCBC-3171</a>: Documents may be written to the wrong location in a mixed-mode cluster set-up.
See the <a href="#special-note">Special Note</a> for more details.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2851">NCBC-2851</a>:
TimeoutExceptions continue after rebound in Failover/Eject tests.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues-27"><a class="anchor" href="#fixed-issues-27"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2965">NCBC-2965</a>:
Don&#8217;t capture ExecutionContext for long-running tasks/timers, as this could cause memory leaks.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2966">NCBC-2966</a>:
Allow ILoggerFactory from the DI container to be overridden.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2967">NCBC-2967</a>:
Rewrite OrphanReporter to avoid blocking calls.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2968">NCBC-2968</a>:
Use correct service type name in query context.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2969">NCBC-2969</a>:
Fix auto-repair of the ChannelConnectionPool after a node outage.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-24"><a class="anchor" href="#new-features-and-behavioral-changes-24"></a>New Features and Behavioral Changes.</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2949">NCBC-2949</a>:
Improve client side error message when TLS is enforced on the server side</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2961">NCBC-2961</a>:
Optimize performance of the internal EscapeIfRequired routine.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2963">NCBC-2963</a>:
Support Dependency Injection of Named Scopes/Collections.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2970">NCBC-2970</a>:
Optimize performance of queuing operation completion by more than 50% by using <code>UnsafeQueueUserWorkItem</code>.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2962">NCBC-2962</a>:
Add Lambda overloads for Query and Analytics at the Scope level.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-2-2-15-september-2021"><a class="anchor" href="#version-3-2-2-15-september-2021"></a>Version 3.2.2 (15 September 2021)</h3>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.2/Couchbase-Net-Client-3.2.2.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.2.2">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.2.2">Nuget</a></p>
</div>
<div class="paragraph">
<p>This is a re-release of 3.2.1 with exactly the same commits due to a packaging bug in 3.2.1. The only difference is the version and package fix.</p>
</div>
<div class="sect3">
<h4 id="known-issues-7"><a class="anchor" href="#known-issues-7"></a>Known Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3171">NCBC-3171</a>: Documents may be written to the wrong location in a mixed-mode cluster set-up.
See the <a href="#special-note">Special Note</a> for more details.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-2-1-9-september-2021-do-not-use-use-3-2-2-instead"><a class="anchor" href="#version-3-2-1-9-september-2021-do-not-use-use-3-2-2-instead"></a>Version 3.2.1 (9 September 2021) DO NOT USE - USE 3.2.2 INSTEAD</h3>
<div class="paragraph">
<p>Version 3.2.1 is the second release of the 3.2 series.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.2/Couchbase-Net-Client-3.2.1.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.2.1">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.2.1">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="known-issues-8"><a class="anchor" href="#known-issues-8"></a>Known Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3171">NCBC-3171</a>: Documents may be written to the wrong location in a mixed-mode cluster set-up.
See the <a href="#special-note">Special Note</a> for more details.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2851">NCBC-2851</a>:
TimeoutExceptions continue after rebound in Failover/Eject tests.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-25"><a class="anchor" href="#new-features-and-behavioral-changes-25"></a>New Features and Behavioral Changes.</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2697">NCBC-2697</a>:
The Eventing Service can now be managed from the SDK. Users can create, delete, publish, pause, and select Eventing Functions.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2959">NCBC-2959</a>:
By default SDK3 sends the IP as the target host during TLS/SSL authentication&#8201;&#8212;&#8201;unlike SDK2 which sends either the hostname or IP address, depending on the returned server configuration.
A new flag, <code>ForceIpAsTargetHost</code>, has been introduced to allow SDK3 to mimic SDK2 behavior.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-2-0-26-july-2021"><a class="anchor" href="#version-3-2-0-26-july-2021"></a>Version 3.2.0 (26 July 2021)</h3>
<div class="paragraph">
<p>Version 3.2.0 is the first release of the 3.2 series, featuring collections and scopes</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.2/Couchbase-Net-Client-3.2.0.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.2.0">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.2.0">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="known-issues-9"><a class="anchor" href="#known-issues-9"></a>Known Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3171">NCBC-3171</a>: Documents may be written to the wrong location in a mixed-mode cluster set-up.
See the <a href="#special-note">Special Note</a> for more details.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2851">NCBC-2851</a>:
TimeoutExceptions continue after rebound in Failover/Eject tests.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues-28"><a class="anchor" href="#fixed-issues-28"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2660">NCBC-2660</a>:
After a failure that causes the circuit breaker to open, such as full send queue, new operation will immediately fail with CircuitBreakerException. The retry orchestrator now retries in this situation, preventing silent failure.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2730">NCBC-2730</a>:
Expose Partition Information in Query Management API.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2841">NCBC-2841</a>:
Construct <code>query_context</code> in Analytics queries correctly, fixing a bug with datasets that required escaping with backticks.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2853">NCBC-2853</a>: After a <code>not_my_vbucket</code> exception during a rebalance, use a Fast-forward map, if available, to locate the correct vbucket.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2880">NCBC-2880</a>:
Analytics fix and refactor to improve testability.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2890">NCBC-2890</a>:
Enable and collect server duration for tracing.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2891">NCBC-2891</a>:
Fixes a bug where the CID for the default Scope/Collection was not passed to some 7.0beta server versions.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2894">NCBC-2894</a>:
Remove unsupported CAS setting from Increment/DecrementOptions</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2929">NCBC-2929</a>,
<a href="https://issues.couchbase.com/browse/NCBC-2899">NCBC-2899</a>:
Correct Logging Meter emit_interval to output every 600 seconds.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2903">NCBC-2903</a>:
Remove reference to AggregatingMeter, which has been superseded by LoggingMeter.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2900">NCBC-2900</a>,
<a href="https://issues.couchbase.com/browse/NCBC-2902">NCBC-2902</a>,
<a href="https://issues.couchbase.com/browse/NCBC-2904">NCBC-2904</a>:
Align LoggingMeter Output Format with RFC, adding percentile values and setting JSON output to terse by default, instead of pretty.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2905">NCBC-2905</a>,
<a href="https://issues.couchbase.com/browse/NCBC-2906">NCBC-2906</a>,
<a href="https://issues.couchbase.com/browse/NCBC-2907">NCBC-2907</a>,
<a href="https://issues.couchbase.com/browse/NCBC-2908">NCBC-2908</a>:
Align ThresholdLoggingTracer Output with RFC, and enable by default.
Now correctly omits null fields in JSON output, includes timeout.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2916">NCBC-2916</a>:
Add "operation" property to allow LoggingMeterReport output to be split by opcode.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2928">NCBC-2928</a>:
Align Threshold Logger output with KV Tracer Output spec.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2921">NCBC-2921</a>:
Fix a bug where the quota.rawRAM size may over/under flow the Int32 size of the BucketSettings.RamQuotaMB field when the JSON is parsed.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2924">NCBC-2924</a>:
Fix a bug where Date Time Offsets were always coverted to local time zone, by passing DateParseHandling from SerializerSettings to the DefaultStreamingJsonReader.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2927">NCBC-2927</a>:
Requests and responses will be handled in an Out-of-Order manner by default.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2930">NCBC-2930</a>:
Update Collection and Scope error parsing</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2931">NCBC-2931</a>:
Fixes a bug where when the Collection id changes, those changes were not picked up causing an operation timeout.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2933">NCBC-2933</a>,
<a href="https://issues.couchbase.com/browse/NCBC-2934">NCBC-2934</a>:
Unit Test improvements and fixes to Jenkins Pipeline.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-26"><a class="anchor" href="#new-features-and-behavioral-changes-26"></a>New Features and Behavioral Changes.</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2869">NCBC-2869</a>:
Provide OpenTelemetry tracing module, allowing export via any of the OpenTelemetry exporters such as ZipKin, Jaeger, etc.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2893">NCBC-2893</a>:
Allow a parent span to added to the options for each service or operation for tracing.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2856">NCBC-2856</a>,
<a href="https://issues.couchbase.com/browse/NCBC-2923">NCBC-2923</a>:
Add Orphaned Response Logging to SDK.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2911">NCBC-2911</a>:
Travel Sample App added, with examples of Collections and Scopes across Query, KV, and Search.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2926">NCBC-2926</a>:
Add license to footer of all files in Couchbase project</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2574">NCBC-2574</a>,
<a href="https://issues.couchbase.com/browse/NCBC-2575">NCBC-2575</a>:
Analytics management: manage Remote Links, support compound dataverse names.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2581">NCBC-2581</a>,
<a href="https://issues.couchbase.com/browse/NCBC-2800">NCBC-2800</a>:
Provide tracing for the .NET SDK based upon RFC 67 Extended SDK Observability.
Implements Threshold Logger, LoggingMeter for latency metrics.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2585">NCBC-2585</a>,
<a href="https://issues.couchbase.com/browse/NCBC-2717">NCBC-2717</a>:
Add build Support for .NET 5.0 and Ubuntu 20.04 LTS</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2892">NCBC-2892</a>,
<a href="https://issues.couchbase.com/browse/NCBC-2886">NCBC-2886</a>,
<a href="https://issues.couchbase.com/browse/NCBC-2889">NCBC-2889</a>:
Update and correct links for 3.2.0 release.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2699">NCBC-2699</a>,
<a href="https://issues.couchbase.com/browse/NCBC-2777">NCBC-2777</a>:
Provide a framework for client-side encryption of sensitive fields in JSON documents using Field Level Encryption.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2790">NCBC-2790</a>:
Replace, Upsert and MutateIn support <code>PersistTtl</code> in servers &gt;= 7.0 which keeps subsequent calls from modifying the original TTL value on update.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2807">NCBC-2807</a>:
Deprecate Collection Manager <code>GetScope()</code> in favour of <code>GetAllScopes()</code></p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2846">NCBC-2846</a>:
Distinguish between CAS mismatch and DML failure on query error.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2912">NCBC-2912</a>,
<a href="https://issues.couchbase.com/browse/NCBC-2917">NCBC-2917</a>:
Ensure that a server response 13014 is also recognized as an authentication failure by the query parser.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2932">NCBC-2932</a>:
Add Cause field on Query.Error for Transactions Query support.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="net-sdk-3-1-releases"><a class="anchor" href="#net-sdk-3-1-releases"></a>.NET SDK 3.1 Releases</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="version-3-1-7-02-june-2021"><a class="anchor" href="#version-3-1-7-02-june-2021"></a>Version 3.1.7 (02 June 2021)</h3>
<div class="paragraph">
<p>Version 3.1.7 is the eighth release of the 3.1 series, bringing enhancements and bugfixes over the last stable release.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.1/Couchbase-Net-Client-3.1.7.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.1.7">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.1.7">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="known-issues-10"><a class="anchor" href="#known-issues-10"></a>Known Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3171">NCBC-3171</a>: Documents may be written to the wrong location in a mixed-mode cluster set-up.
See the <a href="#special-note">Special Note</a> for more details.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2851">NCBC-2851</a>:
TimeoutExceptions continue after rebound in Failover/Eject tests.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2891">NCBC-2891</a>:
Send 0x0 for default scope/collections for certain Server 7.0 beta versions.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues-29"><a class="anchor" href="#fixed-issues-29"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2879">NCBC-2879</a>:
Combi test failure fixed by only running tests with <code>CollectionTests.CollectionIdChanged_RetriesAuto</code> on servers which support collections and the newer management URI structure.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2888">NCBC-2888</a>:
Converting null literal or possible null value to non-nullable type&#8201;&#8212;&#8201;a rare compile time error for certain environments fixed by using <code>var</code> instead of <code>TValue</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-27"><a class="anchor" href="#new-features-and-behavioral-changes-27"></a>New Features and Behavioral Changes.</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2698">NCBC-2698</a>:
Added FTS Support for Collections.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2881">NCBC-2881</a>:
Use Hello to determine if collections are available now no longer leaves exception in DEBUG level log.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2887">NCBC-2887</a>:
Previously the CID value of 0 could be appended to the key if the default scope/collection was being used.
Now, this is checked for, and we don&#8217;t send the CID with the key in this case, as it is not required by the server.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-1-6-24-may-2021"><a class="anchor" href="#version-3-1-6-24-may-2021"></a>Version 3.1.6 (24 May 2021)</h3>
<div class="paragraph">
<p>Version 3.1.6 is the seveneth release of the 3.1 series, bringing enhancements and bugfixes over the last stable release.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.1/Couchbase-Net-Client-3.1.6.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.1.6">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.1.6">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="known-issues-11"><a class="anchor" href="#known-issues-11"></a>Known Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3171">NCBC-3171</a>: Documents may be written to the wrong location in a mixed-mode cluster set-up.
See the <a href="#special-note">Special Note</a> for more details.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2851">NCBC-2851</a>:
TimeoutExceptions continue after rebound in Failover/Eject tests.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues-30"><a class="anchor" href="#fixed-issues-30"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2881">NCBC-2881</a>:
The SDK now uses Hello to determine if collections are available, giving improved accuracy over the heuristic method.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2877">NCBC-2877</a>:
Collection GIT_CID Eaccess error fix.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-1-5-13-may-2021"><a class="anchor" href="#version-3-1-5-13-may-2021"></a>Version 3.1.5 (13 May 2021)</h3>
<div class="paragraph">
<p>Version 3.1.5 is the sixth release of the 3.1 series, bringing enhancements and bugfixes over the last stable release.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.1/Couchbase-Net-Client-3.1.5.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.1.5">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.1.5">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="known-issues-12"><a class="anchor" href="#known-issues-12"></a>Known Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3171">NCBC-3171</a>: Documents may be written to the wrong location in a mixed-mode cluster set-up.
See the <a href="#special-note">Special Note</a> for more details.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2851">NCBC-2851</a>: TimeoutExceptions continue after rebound in Failover/Eject tests</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues-31"><a class="anchor" href="#fixed-issues-31"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2551">NCBC-2551</a>:
GetAllBucketsAsync always throws ArgumentNullException</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2860">NCBC-2860</a>:
Configuration revisions should be parsed and compared with 64-bit precision.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2864">NCBC-2864</a>:
Unknown default collection regression</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2867">NCBC-2867</a>:
ConfigHandler dead locks in K8 when delete pod is used</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2871">NCBC-2871</a>:
NRE in BucketManager and UserManager part 2</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2876">NCBC-2876</a>:
Upserting to &lt;7.0 clusters does not upsert the content</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-28"><a class="anchor" href="#new-features-and-behavioral-changes-28"></a>New Features and Behavioral Changes.</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2862">NCBC-2862</a>:
Log message on timeout appears to lack instance</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2866">NCBC-2866</a>:
Exception: Non-default Scopes and Collections not supported on this server version.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2839">NCBC-2839</a>:
SDK API changes due to protocol level changes to get_collection_id</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2858">NCBC-2858</a>:
Move collection id fetch into the operation call on the collection</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-1-4-8-april-2021"><a class="anchor" href="#version-3-1-4-8-april-2021"></a>Version 3.1.4 (8 April 2021)</h3>
<div class="paragraph">
<p>Version 3.1.4 is the fifth release of the 3.1 series, bringing enhancements and bugfixes over the last stable release.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.1/Couchbase-Net-Client-3.1.4.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.1.4">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.1.4">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="known-issues-13"><a class="anchor" href="#known-issues-13"></a>Known Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3171">NCBC-3171</a>: Documents may be written to the wrong location in a mixed-mode cluster set-up.
See the <a href="#special-note">Special Note</a> for more details.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2851">NCBC-2851</a>: TimeoutExceptions continue after rebound in Failover/Eject tests</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues-32"><a class="anchor" href="#fixed-issues-32"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2720">NCBC-2720</a>: Change QueryMetrics  Property from ElaspedTime to ElapsedTime</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2831">NCBC-2831</a>: MutateIn is not throwing and classifying sub-doc errors correctly.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-29"><a class="anchor" href="#new-features-and-behavioral-changes-29"></a>New Features and Behavioral Changes.</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2828">NCBC-2828</a>: Cleanup sub-doc operation public API surface</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2842">NCBC-2842</a>: Add Couchbase.Core.Exceptions.TimeoutException</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2843">NCBC-2843</a>: K/V CancellationToken expiration does not include IErrorContext</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2844">NCBC-2844</a>: Make Query.ReadOnly obsolete and replace w/QueryOptions.Readonly</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2845">NCBC-2845</a>: Allow default IRetryStrategy to be overridden</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-1-3-3-march-2021"><a class="anchor" href="#version-3-1-3-3-march-2021"></a>Version 3.1.3 (3 March 2021)</h3>
<div class="paragraph">
<p>Version 3.1.3 is the fourth release of the 3.1 series, bringing enhancements and bugfixes over the last stable release.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.1/Couchbase-Net-Client-3.1.3.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.1.3">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.1.3">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="known-issues-14"><a class="anchor" href="#known-issues-14"></a>Known Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3171">NCBC-3171</a>: Documents may be written to the wrong location in a mixed-mode cluster set-up.
See the <a href="#special-note">Special Note</a> for more details.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues-33"><a class="anchor" href="#fixed-issues-33"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2801">NCBC-2801</a>:
<code>NodeAdapter</code> incorrectly shows N1QL service is not available.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2817">NCBC-2817</a>:
<code>LookupInAsync</code> and <code>MutateInAsync</code> builder extensions should accept null options.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2823">NCBC-2823</a>:
Make <code>ClusterOptions.NetworkResolution</code> read/write.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2826">NCBC-2826</a>:
Collection Id outdated exception on K-V ops.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2827">NCBC-2827</a>:
<code>GET_CID</code> and <code>GET_SID</code> do not correctly retry if Scope/Collection not found.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2811">NCBC-2811</a>:
Cache default scope/collection allocation.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2812">NCBC-2812</a>:
Throw <code>UnsupportedException</code> if non-default scopes/cols are used in pre-7.0 clusters.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-30"><a class="anchor" href="#new-features-and-behavioral-changes-30"></a>New Features and Behavioral Changes</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2813">NCBC-2813</a>:
Cleanup <code>IOperation</code> and <code>OperationBase</code> code.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2815">NCBC-2815</a>:
Replace <code>AsyncMutex</code> with <code>SemaphoreSlim</code>.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2818">NCBC-2818</a>:
Queue operation completions on the global queue.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2819">NCBC-2819</a>:
Enable <code>NetworkResolution</code> via the connection string.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2833">NCBC-2833</a>:
Remove Type parameter from <code>UnlockAsync</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-1-2-4-february-2021"><a class="anchor" href="#version-3-1-2-4-february-2021"></a>Version 3.1.2 (4 February 2021)</h3>
<div class="paragraph">
<p>Version 3.1.2 is the third release of the 3.1 series, bringing enhancements and bugfixes over the last stable release.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.1/Couchbase-Net-Client-3.1.2.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.1.2">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.1.2">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="known-issues-15"><a class="anchor" href="#known-issues-15"></a>Known Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3171">NCBC-3171</a>: Documents may be written to the wrong location in a mixed-mode cluster set-up.
See the <a href="#special-note">Special Note</a> for more details.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues-34"><a class="anchor" href="#fixed-issues-34"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2763">NCBC-2763</a>:
MutationToken throwing ArgumentNullException on static initialization.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2766">NCBC-2766</a>:
CreateScopeAsync not creating collections in ScopeSpec.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2767">NCBC-2767</a>:
ScopeNotFoundException when trying to get Scope after creating it.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2784">NCBC-2784</a>:
Getting a collection right after creating it throws CollectionNotFoundException.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2794">NCBC-2794</a>:
PackageIconUrl is still being used and blocks package creation.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2797">NCBC-2797</a>:
Hot upgrade failure from 6.6.0 to 6.6.1 using SDK v3.1.2.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2798">NCBC-2798</a>:
ThrowIfBootstrapFailed called twice in GetAsync.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2804">NCBC-2804</a>:
Non-JSON transcoders cannot be mixed with requests for document expiry.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2810">NCBC-2810</a>:
On pre-7.0 clusters default scopes/collections may not load.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-31"><a class="anchor" href="#new-features-and-behavioral-changes-31"></a>New Features and Behavioral Changes</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2791">NCBC-2791</a>:
GetResult uses AddMilliseconds instead of AddSeconds for expiry.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2796">NCBC-2796</a>:
SUBDOC_MULTI_PATH_FAILURE_DELETED throwing PathInvalid.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2770">NCBC-2770</a>:
Add experimental connection pool based on System.Threading.Channels.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2772">NCBC-2772</a>:
Cleanup key/value cancellation token and timeout handling.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2776">NCBC-2776</a>:
Change SlicedMemoryOwner to a structure.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2789">NCBC-2789</a>:
Unable to override the remote name mismatch error with custom validation.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2793">NCBC-2793</a>:
Address misc compiler warnings.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2802">NCBC-2802</a>:
Port sub-doc lambda extensions from SDK 2.x.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2805">NCBC-2805</a>:
Optimize in-flight operation cleanup method.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2808">NCBC-2808</a>:
Use ValueTask and IValueTaskSource for OperationBase.Completed.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2809">NCBC-2809</a>:
Use ValueTask for new ScopeAsync/CollectionAsync methods.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-1-1-13-january-2021"><a class="anchor" href="#version-3-1-1-13-january-2021"></a>Version 3.1.1 (13 January 2021)</h3>
<div class="paragraph">
<p>Version 3.1.1 is the second release of the 3.1 series, bringing enhancements and bugfixes over the last stable release.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.1/Couchbase-Net-Client-3.1.1.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.1.1">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.1.1">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="known-issues-16"><a class="anchor" href="#known-issues-16"></a>Known Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3171">NCBC-3171</a>: Documents may be written to the wrong location in a mixed-mode cluster set-up.
See the <a href="#special-note">Special Note</a> for more details.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues-35"><a class="anchor" href="#fixed-issues-35"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2565">NCBC-2565</a>:
WaitUntilReady failure for 6.5.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2660">NCBC-2660</a>,
<a href="https://issues.couchbase.com/browse/NCBC-2935">NCBC-2935</a>:
Operations are now retried if they hit an open circuit breaker.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2693">NCBC-2693</a>:
MutationToken.GetHashCode() implementation looks suspect.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2694">NCBC-2694</a>:
Removed unnecessary linked CancellationToken.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2726">NCBC-2726</a>:
Cannot read empty response bodies.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2741">NCBC-2741</a>:
If the send queue is full when requeuing after connection cleanup, the operation is dropped.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2746">NCBC-2746</a>:
using mutate in to update an existing value to null causes an IllegalArgumentException.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2751">NCBC-2751</a>:
Use ConfigureAwait(false) on awaited task  in DnsClientDnsResolver.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2756">NCBC-2756</a>:
Do not allow empty hosts in ConnectionString.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2760">NCBC-2760</a>:
MultiMutation duplicates specs on Retry, causing SUBDOC_INVALID_COMBO.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2761">NCBC-2761</a>:
MutateIn is not setting Cas, ignoring MutateInOptions.CasValue, resulting in a default of 0 which always overwrites.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2762">NCBC-2762</a>:
Threshold trace logging leaks memory.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2764">NCBC-2764</a>:
Expiration of TimeSpan.Zero is being sent to server as 1 second expiration.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2778">NCBC-2778</a>:
Throw CasMismatchException when CAS mismatch occurs.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2780">NCBC-2780</a>:
Fix unit tests relying on obsolete Expiry method.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2781">NCBC-2781</a>:
Make replica commands use CancellationToken.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2782">NCBC-2782</a>:
Replica methods randomly completed with NotMyVBucket.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-32"><a class="anchor" href="#new-features-and-behavioral-changes-32"></a>New Features and Behavioral Changes.</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2716">NCBC-2716</a>:
Collections Analytics Test Changes.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2747">NCBC-2747</a>:
Add KvSendQueueCapacity to ClusterOptions for tuning.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2748">NCBC-2748</a>:
netcore3.0 target id deprecated and cannot be used with <code>dotnet pack</code>.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2785">NCBC-2785</a>:
ArgumentOutOfRangeException if GetResult.Expiry called on GET operation.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2788">NCBC-2788</a>:
<code>UserManagerTests.Test_UserInheritsCollectionAwareRoles</code> fails in combi tests.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2653">NCBC-2653</a>:
Unnecessary allocation in classes implementing IOperation.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2661">NCBC-2661</a>:
CouchbaseBucket is doing ad hoc retrying if CollectionOutdatedException.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2677">NCBC-2677</a>:
Docs: Threshold Logging and Orphan Response Logging.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2722">NCBC-2722</a>:
Improve performance of <code>WriteKey</code> using <code>stackalloc</code>.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2723">NCBC-2723</a>:
Reduce async/await around circuit breakers on K/V ops.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2724">NCBC-2724</a>:
Reduce task continuations related to K/V timeouts.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2725">NCBC-2725</a>:
Improve logic around ITypeTranscoder instantiations.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2727">NCBC-2727</a>:
Improve log redaction performance.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2728">NCBC-2728</a>:
Improve LEB128 encoding performance.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2729">NCBC-2729</a>:
Reduce task continuations on k/v GET operations.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2731">NCBC-2731</a>:
Reduce JSON serialization heap allocations.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2732">NCBC-2732</a>:
ConfigHandler processing is blocking a thread from the thread pool.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2733">NCBC-2733</a>:
Improve efficiency of ErrorCode lookup in ErrorMap.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2734">NCBC-2734</a>:
Improve CancellationTokenSource handling in RetryOrchestrator.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2735">NCBC-2735</a>:
Optimize OperationBuilder performance.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2736">NCBC-2736</a>:
Optimize key/value operation flag handling.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2737">NCBC-2737</a>:
Use a static client description for spans.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2738">NCBC-2738</a>:
Improve performance building connection tags for K/V operation spans.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2740">NCBC-2740</a>:
Optimize performance when request tracing is disabled.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2742">NCBC-2742</a>:
Reduce debug logging heap allocations on critical K/V path.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2743">NCBC-2743</a>:
Reduce Task ContingentProperties heap allocations.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2744">NCBC-2744</a>:
Enable reporting of test results in Jenkins.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2745">NCBC-2745</a>:
Reduce lambda-related heap allocations for K/V operation completions.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2749">NCBC-2749</a>:
Use Stopwatch to track connection idle time.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2750">NCBC-2750</a>:
Use spans in MultiplexingConnection.ParseReceivedData.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2752">NCBC-2752</a>:
Improve ToTtl performance.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2753">NCBC-2753</a>:
Allow BucketBase.RetryAsync to be inlined.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2754">NCBC-2754</a>:
Use Span&lt;byte&gt; for VBucketKeyMapper.GetIndex</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2755">NCBC-2755</a>:
Use ThrowHelper to improve inlining.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2757">NCBC-2757</a>:
SkipLocalsInit when writing document keys to operations.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2758">NCBC-2758</a>:
Use .NET provided encoding of strings to spans when available.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2765">NCBC-2765</a>:
Improve buffer handling in MultiplexingConnection receive.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2768">NCBC-2768</a>:
Improve precision of UnixMillisecondsConverter.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2769">NCBC-2769</a>:
Avoid heap allocations for default K/V operations.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2773">NCBC-2773</a>:
Simplify AsyncState handling of Opaque.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2774">NCBC-2774</a>:
Make OperationBuilderPool tunable.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2775">NCBC-2775</a>:
Improve array handling performance throughout the SDK.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-1-0-2-december-2020"><a class="anchor" href="#version-3-1-0-2-december-2020"></a>Version 3.1.0 (2 December 2020)</h3>
<div class="paragraph">
<p>This is the first GA release of the 3.1 series, bringing enhancements and bugfixes over the 3.0 releases,
and adding features to support Couchbase Server 6.6.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.0/Couchbase-Net-Client-3.1.0.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.1.0">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.1.0">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="known-issues-17"><a class="anchor" href="#known-issues-17"></a>Known Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3171">NCBC-3171</a>: Documents may be written to the wrong location in a mixed-mode cluster set-up.
See the <a href="#special-note">Special Note</a> for more details.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues-36"><a class="anchor" href="#fixed-issues-36"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2643">NCBC-2643</a>:
<code>DataFlowConnectionPool</code> was creating unbounded connections in certain situations, such as pinging for a buckets which had not yet been created.
This fix resolves the issue, although the number of connections will go up still but then trend back down, as they are in a <code>TIME_WAIT</code> state and it takes a little time for them to be reclaimed.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2660">NCBC-2660</a>:
Operations were not retried if they hit an open circuit breaker (<code>CircuitBreakerException</code>);
the retry orchestrator will now retry these failures.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2686">NCBC-2686</a>:
Facet result missing fields added to Search.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2705">NCBC-2705</a>:
<code>RawBinaryTranscoder</code> was using invalid DataFormat.
It will now simply pass the body of the packet back to the consumer as it should.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2706">NCBC-2706</a>:
A JSON string stored in Couchbase was generating an error when read as a string via <code>result.ContentAs&lt;string&gt;()</code>.
The packet is now converted into a UTF8 string if the type of T is a string in <code>JsonTranscoder</code>,
so if you write a POCO to Couchbase reading it as a string now works as expected.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2708">NCBC-2708</a>:
Sub-Document API Transcoder <code>InvalidOperationExceptions</code> are no longer thrown when a DataFormat mismatch occurs.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-33"><a class="anchor" href="#new-features-and-behavioral-changes-33"></a>New Features and Behavioral Changes.</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2386">NCBC-2386</a>:
Non-JSON &amp; transcoders code samples added to developer documentation.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2418">NCBC-2418</a>:
<code>maxTTL</code> can now be set via the <code>CollectionSpec.MaxExpiry</code> property.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2572">NCBC-2572</a>:
Durability can now be set on the bucket, for Couchbase Server 6.6 and up.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2589">NCBC-2589</a>:
Document Expiry Duration works as expected with offsets and with absolute time stamps.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2622">NCBC-2622</a>:
GetResult.expiry() is deprecated.
Please use <code>GetResult.ExpiryTime</code> over <code>Expiry</code> as it accurately depicts the <code>TTL</code> of the document.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2627">NCBC-2627</a>, <a href="https://issues.couchbase.com/browse/NCBC-2631">NCBC-2631</a>:
FTS <em>Score</em> parameter added to allow avoidance of scoring from Server 6.6.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2679">NCBC-2679</a>:
A better opcode is used for basic Get scenarios, which will allow the server to return compressed documents once compression support is added to the .NET SDK.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2709">NCBC-2709</a>:
A minor optimization in all key-value operations following improved performance of bootstrap test.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2715">NCBC-2715</a>:
Added <code>InterfaceStabilityAttribute</code> for API interface stability.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="net-sdk-3-0-releases"><a class="anchor" href="#net-sdk-3-0-releases"></a>.NET SDK 3.0 Releases</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="version-3-0-7-3-november-2020"><a class="anchor" href="#version-3-0-7-3-november-2020"></a>Version 3.0.7 (3 November 2020)</h3>
<div class="paragraph">
<p>Version 3.0.7 is the eighth release of the 3.0 series, bringing enhancements and bugfixes over the last stable release.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.0/Couchbase-Net-Client-3.0.7.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.0.7">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.0.7">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="known-issues-18"><a class="anchor" href="#known-issues-18"></a>Known Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3171">NCBC-3171</a>: Documents may be written to the wrong location in a mixed-mode cluster set-up.
See the <a href="#special-note">Special Note</a> for more details.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues-37"><a class="anchor" href="#fixed-issues-37"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2641">NCBC-2641</a>:
ConfigHandler has already been started.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2651">NCBC-2651</a>:
IncrementOptions and DecrementOptions are missing Expiry.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2655">NCBC-2655</a>:
Bucket WaitUntilReadyAsync running into NullReferenceException.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2656">NCBC-2656</a>:
Serialization/Transcoding Errors Are Unhandled.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2660">NCBC-2660</a>:
Operations are not retried if they hit an open circuit breaker.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2669">NCBC-2669</a>:
Upsert/Insert null with MutateIn fails with Invalid arguments (0x0004).</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2685">NCBC-2685</a>:
AccessDeleted not supported properly on MutateIn.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-34"><a class="anchor" href="#new-features-and-behavioral-changes-34"></a>New Features and Behavioral Changes.</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2670">NCBC-2670</a>:
Collections - RBAC Collections - .net tests</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2569">NCBC-2569</a>:
.NET Logging page</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2580">NCBC-2580</a>:
Add Ephemeral Bucket Management Support</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2664">NCBC-2664</a>:
Operations are silently ignored if the send queue is full</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2668">NCBC-2668</a>:
Add RawBinaryTranscoder</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2675">NCBC-2675</a>:
Optimize VBucketKeyMapper.GetIndex</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2680">NCBC-2680</a>:
Share ServerFeatures on IConnection</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2688">NCBC-2688</a>:
Make synchronous Analytics query methods obsolete</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-0-6-13-october-2020"><a class="anchor" href="#version-3-0-6-13-october-2020"></a>Version 3.0.6 (13 October 2020)</h3>
<div class="paragraph">
<p>Version 3.0.6 is the seventh release of the 3.0 series, bringing enhancements and bugfixes over the last stable release.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.0/Couchbase-Net-Client-3.0.6.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.0.6">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.0.6">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="known-issues-19"><a class="anchor" href="#known-issues-19"></a>Known Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3171">NCBC-3171</a>: Documents may be written to the wrong location in a mixed-mode cluster set-up.
See the <a href="#special-note">Special Note</a> for more details.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues-38"><a class="anchor" href="#fixed-issues-38"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2187">NCBC-2187</a>:
CollectionManager  - 400: Not allowed on this version of cluster (verify).</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2604">NCBC-2604</a>:
exception.IsRetryable() in docs.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2619">NCBC-2619</a>:
Update KV samples.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2638">NCBC-2638</a>:
Intermittent InvalidOperationException in Dependency Injection.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2639">NCBC-2639</a>:
Upsert-and-remove doesn&#8217;t work.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2652">NCBC-2652</a>:
Operations gets stuck in retry loop until timeout.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2657">NCBC-2657</a>:
Exceptions Aren&#8217;t Thrown For N1QL Errors After Results.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2659">NCBC-2659</a>:
Fix strong naming for Couchbase.Extensions.DependencyInjection.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2662">NCBC-2662</a>:
Correct DI security for named buckets on .NET Core.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2671">NCBC-2671</a>:
KV Throughput drop after failover-rebalance</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-35"><a class="anchor" href="#new-features-and-behavioral-changes-35"></a>New Features and Behavioral Changes.</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2033">NCBC-2033</a>:
3.0 API Query snippets in concept doc.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2321">NCBC-2321</a>:
Update documents to SDK 3.0 Beta interface.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2472">NCBC-2472</a>:
Ensure connection string supports options table defined in RFC.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2298">NCBC-2298</a>:
CancellationToken and CancellationTokenSource management needed.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2557">NCBC-2557</a>:
Improve cancellation and timeouts.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2573">NCBC-2573</a>:
Add support for CreateAsDeleted.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2576">NCBC-2576</a>:
Geopolygon search support.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2577">NCBC-2577</a>:
Add Options To Use FTS Hints (Flex Index).</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-0-5-1-september-2020"><a class="anchor" href="#version-3-0-5-1-september-2020"></a>Version 3.0.5 (1 September 2020)</h3>
<div class="paragraph">
<p>Version 3.0.5 is the sixth release of the 3.0 series, bringing enhancements and bugfixes over the last stable release.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.0/Couchbase-Net-Client-3.0.5.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.0.5">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.0.5">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="known-issues-20"><a class="anchor" href="#known-issues-20"></a>Known Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3171">NCBC-3171</a>: Documents may be written to the wrong location in a mixed-mode cluster set-up.
See the <a href="#special-note">Special Note</a> for more details.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues-39"><a class="anchor" href="#fixed-issues-39"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2504">NCBC-2504</a>:
Intermittent ViewQuery failures after rebound Rb2OutEpt-HYBRID</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2559">NCBC-2559</a>:
Test_BootStrap_Error_Propagates_To_View_Operations fails w/BucketNotFoundException</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2561">NCBC-2561</a>:
CreateAndDropIndex and Test_QueryManager conflict</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2625">NCBC-2625</a>:
Ensure new NodeAdapter is assigned to ClusterNode on change</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2634">NCBC-2634</a>:
Expiry returned with entire document when ContentAs invoked</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2405">NCBC-2405</a>:
SDK3 DOC on User Auth options</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2541">NCBC-2541</a>:
WaitUntilReady() doc code sample</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2603">NCBC-2603</a>:
Missing snippets &amp; sections in Managing Connections doc</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2623">NCBC-2623</a>:
Implement Threshold Logging features of RTO</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2636">NCBC-2636</a>:
Test max limitations of collections and scopes</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2637">NCBC-2637</a>:
Split Couchbase.IntegrationTests into seperate projects for Management and main API</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2427">NCBC-2427</a>:
Verify that out-of-order K/V request/responses are supported</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2584">NCBC-2584</a>:
Add N1QL Support for Collections</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2630">NCBC-2630</a>:
Enhance User Management for Collections/RBAC</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-0-4-5-august-2020"><a class="anchor" href="#version-3-0-4-5-august-2020"></a>Version 3.0.4 (5 August 2020)</h3>
<div class="paragraph">
<p>Version 3.0.4 is the fifth release of the 3.0 series, bringing enhancements and bugfixes over the last stable release.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.0/Couchbase-Net-Client-3.0.4.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.0.4">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.0.4">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="known-issues-21"><a class="anchor" href="#known-issues-21"></a>Known Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3171">NCBC-3171</a>: Documents may be written to the wrong location in a mixed-mode cluster set-up.
See the <a href="#special-note">Special Note</a> for more details.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2187">NCBC-2187</a>:
CollectionManager&#8201;&#8212;&#8201;400: Not allowed on this version of cluster.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues-40"><a class="anchor" href="#fixed-issues-40"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2605">NCBC-2605</a>:
Expiration less than 1000ms creates a doc with an infinite lifespan</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2608">NCBC-2608</a>:
Connection fails if first node in connection string array is unavailable.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2620">NCBC-2620</a>:
Expiry not being set by MutateIn</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2621">NCBC-2621</a>:
Ensure the CName field is set per operation</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2601">NCBC-2601</a>:
SUBDOC_XATTR_INVALID_FLAG_COMBO when mixing MutationMacro and XAttr</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-36"><a class="anchor" href="#new-features-and-behavioral-changes-36"></a>New Features and Behavioral Changes.</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2441">NCBC-2441</a>:
Implement tracing using OpenTelemetry for FTS</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2442">NCBC-2442</a>:
Implement tracing using OpenTelemetry for KV</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2443">NCBC-2443</a>:
Implement tracing using OpenTelemetry for Analytics</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2444">NCBC-2444</a>:
Implement tracing using OpenTelemetry for Views</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2579">NCBC-2579</a>:
Implement tracing of spans for all services towards Response Time Observability for SDK 3.0</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2583">NCBC-2583</a>:
Add support for looking up certificates via Cert Store</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2602">NCBC-2602</a>:
Add Support for MutateIn.SetDocument</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2609">NCBC-2609</a>:
Add PublicKey to AssemblyInfo for DI when building release packages</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2617">NCBC-2617</a>:
When signing make friend assemblies use public key</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-0-3-14-july-2020"><a class="anchor" href="#version-3-0-3-14-july-2020"></a>Version 3.0.3 (14 July 2020)</h3>
<div class="paragraph">
<p>Version 3.0.3 is the fourth release of the 3.0 series, bringing enhancements and bugfixes over the last stable release.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.0/Couchbase-Net-Client-3.0.3.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.0.3">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.0.3">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="known-issues-22"><a class="anchor" href="#known-issues-22"></a>Known Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3171">NCBC-3171</a>: Documents may be written to the wrong location in a mixed-mode cluster set-up.
See the <a href="#special-note">Special Note</a> for more details.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2187">NCBC-2187</a>:
CollectionManager&#8201;&#8212;&#8201;400: Not allowed on this version of cluster.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues-41"><a class="anchor" href="#fixed-issues-41"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2588">NCBC-2588</a>:
LookupIn should re-order subdoc requests so that XATTRs come first.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2450">NCBC-2450</a>:
KV failure after removing entry point node for pre-MH server</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2501">NCBC-2501</a>:
latency detected in FoEptRb-SubDoc after rebound never recovers</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2502">NCBC-2502</a>:
latency detected in FoEptEject-SUBDOC after rebound never recovers</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2503">NCBC-2503</a>:
Latency detected for FoRbAnalytics-CBAS after rebound never recovers</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2545">NCBC-2545</a>:
Hello World example in the docs repo doesn&#39;t build.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2553">NCBC-2553</a>:
Remove authzid from Sasl Negotiation</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2563">NCBC-2563</a>:
StreamingQueryResult fails to populate errors on InternalServerError</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2587">NCBC-2587</a>:
LookupInSpecBuilder allows only a single XATTR per request.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2592">NCBC-2592</a>:
Fix custom circuit breaker not being injected</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-1836">NCBC-1836</a>:
CAS samples</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-37"><a class="anchor" href="#new-features-and-behavioral-changes-37"></a>New Features and Behavioral Changes.</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2542">NCBC-2542</a>:
OpenTelemetry tracing extension</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2593">NCBC-2593</a>:
Update install and start docs to reflect .NET Standard/Core support</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2594">NCBC-2594</a>:
Update version number on release notes</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2595">NCBC-2595</a>:
Indent code on error handling page so that it is readable.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2227">NCBC-2227</a>:
Author Managing Connections documentation</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2170">NCBC-2170</a>:
Implement tracing using OpenTelemetry for Query</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2519">NCBC-2519</a>:
Review docs for update items, identify/file issues</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2598">NCBC-2598</a>:
Misc SDK improvements for Transactions</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2591">NCBC-2591</a>:
Allow registration of custom services</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-0-2-20-june-2020"><a class="anchor" href="#version-3-0-2-20-june-2020"></a>Version 3.0.2 (20 June 2020)</h3>
<div class="paragraph">
<p>Version 3.0.2 is the third release of the 3.0 series, bringing enhancements and bugfixes over the last stable release.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.0/Couchbase-Net-Client-3.0.2.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.0.2">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.0.2">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="known-issues-23"><a class="anchor" href="#known-issues-23"></a>Known Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3171">NCBC-3171</a>: Documents may be written to the wrong location in a mixed-mode cluster set-up.
See the <a href="#special-note">Special Note</a> for more details.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2187">NCBC-2187</a>:
CollectionManager&#8201;&#8212;&#8201;400: Not allowed on this version of cluster.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues-42"><a class="anchor" href="#fixed-issues-42"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2436">NCBC-2436</a>:
User connstr example in migration guide</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2459">NCBC-2459</a>:
Remove QueryOptions from StartUsing.cs in docs</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2487">NCBC-2487</a>:
NRE when bootstrapping - BucketConfigExtensions.ReplacePlaceholderWithBootstrapHost</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2506">NCBC-2506</a>:
Connection attempt failed / timeout exception with Cloud and .NET SDK 3.0.1</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2508">NCBC-2508</a>:
Alternate Addresses are not handled correctly in sdk3</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2512">NCBC-2512</a>:
Additional debug logging and improvements</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2525">NCBC-2525</a>:
Connection pool does not scale up to minimum connections after a temporary network failure.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2526">NCBC-2526</a>:
requests wait forever while cluster is unreachable</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2537">NCBC-2537</a>:
Orphaned nodes when bootstrapping with a Memcached and a Couchbase bucket</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2538">NCBC-2538</a>:
Analytics failures after failover/rebalance of the ept node</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2540">NCBC-2540</a>:
Enumerating query results from SELECT RAW queries throws an exception</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2546">NCBC-2546</a>:
Retry all exceptions with the IRetriable marker interface</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2548">NCBC-2548</a>:
Ensure all operations attempt retrys when NMVB status is returned by server</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2549">NCBC-2549</a>:
Subdoc failures after restarting CB server</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2552">NCBC-2552</a>:
Intermittent cluster connection failures with CB Server &lt;6.5</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2555">NCBC-2555</a>:
Memcached and SSL results in &quot;The handshake failed due to an unexpected packet format.&quot;</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2556">NCBC-2556</a>:
Capture thrown exception and log the error when bootstrapping</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2558">NCBC-2558</a>:
Couchbase.Extensions.DependencyInjection Failing On .NET Core 3.1</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-38"><a class="anchor" href="#new-features-and-behavioral-changes-38"></a>New Features and Behavioral Changes.</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2202">NCBC-2202</a>:
Integration tests need to configure tests to run based on server version</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2237">NCBC-2237</a>:
PLAIN must not be enabled by default on non-tls connections</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2404">NCBC-2404</a>:
ConnectAsync throws ArgumentNullException when cluster cannot be reached</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2530">NCBC-2530</a>:
Provide navigation properties to get from ICouchbaseCollection back to ICluster</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2533">NCBC-2533</a>:
Provide access to ITypeSerializer on ICluster for Linq2Couchbase</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2544">NCBC-2544</a>:
Add additional DEBUG logging info and ContextIds</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2463">NCBC-2463</a>:
Document documentation .NET</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2469">NCBC-2469</a>:
Make nightly Jenkins builds work</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2495">NCBC-2495</a>:
Update NuGet API Key in deployment pipeline on Jenkins</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2509">NCBC-2509</a>:
CreateAndConnectAsync ONLY creates CouchbaseBuckets (not MemCache or Ephemeral)</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2517">NCBC-2517</a>:
DependencyInjection project refactoring</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2523">NCBC-2523</a>:
Port ClusterVersion from sdk2 to sdk3</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2527">NCBC-2527</a>:
Update DnsClient to 1.3.2</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2529">NCBC-2529</a>:
CB Cloud:  non-KV nodes fail when used for bootstraping</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2534">NCBC-2534</a>:
.NET Collections Functional Testing</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2539">NCBC-2539</a>:
Port UnixMillisecondsConverter from sdk2 to sdk3</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2482">NCBC-2482</a>:
Couchbase.IntegrationTests.Services.Search.SearchIndexManagerTests.TestSearchManager</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2483">NCBC-2483</a>:
Couchbase.IntegrationTests.UserManagerTests.Test_UserManager</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2484">NCBC-2484</a>:
Couchbase.IntegrationTests.BucketManagerTests.Test_BucketManager</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2485">NCBC-2485</a>:
Couchbase.IntegrationTests.Diagnostics.PingReportTests.Can_Get_PingReport_With_ReportId</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2486">NCBC-2486</a>:
Couchbase.IntegrationTests.CollectionManagerTests.Test_CollectionManager</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2489">NCBC-2489</a>:
Couchbase.IntegrationTests.ClusterTests.Test_Open_More_Than_One_Bucket</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2490">NCBC-2490</a>:
Couchbase.ServiceNotAvailableException :  Service views not available.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2518">NCBC-2518</a>:
HttpStreamingConfigListener should continue running after all streams break.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2524">NCBC-2524</a>:
Couchbase.IntegrationTests.ClusterTests.Test_WaitUntilReadyAsync</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2531">NCBC-2531</a>:
Implement OpenTelemetry Stub in CouchbaseNetClient</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2532">NCBC-2532</a>:
Remove existing OpenTracing dependency</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-0-1-13-may-2020"><a class="anchor" href="#version-3-0-1-13-may-2020"></a>Version 3.0.1 (13 May 2020)</h3>
<div class="paragraph">
<p>Version 3.0.1 is the second release of the 3.0 series, bringing enhancements and bugfixes over the last stable release.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.0/Couchbase-Net-Client-3.0.1.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.0.1">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.0.1">Nuget</a></p>
</div>
<div class="sect3">
<h4 id="known-issues-24"><a class="anchor" href="#known-issues-24"></a>Known Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3171">NCBC-3171</a>: Documents may be written to the wrong location in a mixed-mode cluster set-up.
See the <a href="#special-note">Special Note</a> for more details.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2187">NCBC-2187</a>:
CollectionManager&#8201;&#8212;&#8201;400: Not allowed on this version of cluster.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues-43"><a class="anchor" href="#fixed-issues-43"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2033">NCBC-2033</a>:
3.0 API Query snippets in concept doc</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2204">NCBC-2204</a>:
Improve exception when bootstrapping fails</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2301">NCBC-2301</a>:
3.0 Logging / Collecting Info page</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2303">NCBC-2303</a>:
Client Settings page for SDK 3.0</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2388">NCBC-2388</a>:
Ensure that prepared statements that are previously created are not retried</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2435">NCBC-2435</a>:
Connstr not taking username properly</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2439">NCBC-2439</a>:
improve formatting on exception context</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2451">NCBC-2451</a>:
QueryPreparedStatementFailure in situational tests with MH</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2454">NCBC-2454</a>:
EndPoint may be null during SendAsync</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2456">NCBC-2456</a>:
Transient NodeNotAvailableException rebalance under kv load</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2458">NCBC-2458</a>:
QueryAsync(String statement) does not exist</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2460">NCBC-2460</a>:
.NET Core App 3.x targets require consumers add reference to Microsoft.Bcl.AsyncInterfaces</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2462">NCBC-2462</a>:
ConnectAsync is failing "Cannot resolve DNS for localhost"</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2466">NCBC-2466</a>:
Ensure TaskCancelationExceptions are rethrown</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2467">NCBC-2467</a>:
CLONE - Ensure TaskCancelationExceptions are rethrown</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2468">NCBC-2468</a>:
System.ArgumentException: ReadResult does not contain valid MutationToken</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2473">NCBC-2473</a>:
Incorrect Verbiage for NuGet Package</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2475">NCBC-2475</a>:
GetNodes() sometimes returns no results, incorrectly.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2479">NCBC-2479</a>:
Point config.json for combination tests back at localhost</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2480">NCBC-2480</a>:
SocketException:  Cannot bind to address in SslConnectionTests</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2481">NCBC-2481</a>:
KV operations don&#8217;t respect IgnoreCertificateNameMismatch</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2488">NCBC-2488</a>:
Couchbase.IntegrationTests.BootstrapFailedTests.Test_BootStrap_Error_Propagates_To_View_Operations [FAIL]</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2493">NCBC-2493</a>:
Improve error logging and handling for Query</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2497">NCBC-2497</a>:
SetKeepAlive fails on Windows</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-39"><a class="anchor" href="#new-features-and-behavioral-changes-39"></a>New Features and Behavioral Changes.</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2304">NCBC-2304</a>:
Managing Connections - SDK3</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2464">NCBC-2464</a>:
Build/deploy the .NET Dependency Injection extension for SDK 3.0</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2478">NCBC-2478</a>:
Cluster.ConnectAsync throws PlatformNotSupportedException</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2492">NCBC-2492</a>:
Log warning when TCPKeepAlive cannot be enabled</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2494">NCBC-2494</a>:
Fix TCPKeepAlive to work on non Windows Platform</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="version-3-0-0-31-march-2020"><a class="anchor" href="#version-3-0-0-31-march-2020"></a>Version 3.0.0 (31 March 2020)</h3>
<div class="paragraph">
<p>This is the first GA release of the third generation .NET SDK.</p>
</div>
<div class="paragraph">
<p><a href="https://packages.couchbase.com/clients/net/3.0/Couchbase-Net-Client-3.0.0.zip">Download</a> |
<a href="https://docs.couchbase.com/sdk-api/couchbase-net-client-3.0.0">API Reference</a> |
<a href="https://www.nuget.org/packages/CouchbaseNetClient/3.0.0">Nuget</a></p>
</div>
<div class="paragraph">
<p>This is the first GA release of the third generation .NET SDK.</p>
</div>
<div class="paragraph">
<p>This release features significant changes to the API, simplifies the programming model, adds support for newer Durability Requirements and enables simple extension for features coming in future Couchbase Server releases.
See the <a href="migrating-sdk-code-to-3.n.html" class="xref page">Migration Guide</a> for help with migrating from .NET SDK 2.x.</p>
</div>
<div class="sect3">
<h4 id="known-issues-25"><a class="anchor" href="#known-issues-25"></a>Known Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-3171">NCBC-3171</a>: Documents may be written to the wrong location in a mixed-mode cluster set-up.
See the <a href="#special-note">Special Note</a> for more details.</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2187">NCBC-2187</a>:
CollectionManager&#8201;&#8212;&#8201;400: Not allowed on this version of cluster.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues-44"><a class="anchor" href="#fixed-issues-44"></a>Fixed Issues</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2149">NCBC-2149</a>:
ConfigConext throws NullReferenceException when processing new cluster maps</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2153">NCBC-2153</a>:
Fix failing integration tests for SDK3</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2166">NCBC-2166</a>:
Authentication Errors after adding nodes to cluster</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2168">NCBC-2168</a>:
QueryException does not provide textual details coming from the server</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2199">NCBC-2199</a>:
Missing string interpolation sign in CouchbaseBucket</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2213">NCBC-2213</a>:
N1QL situational test failure - Rb1SwapQuery</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2214">NCBC-2214</a>:
N1QL situational test failure - SvcRestartQuery</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2217">NCBC-2217</a>:
Deserialization issues with GetAsync&lt;T&gt;</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2219">NCBC-2219</a>:
Cluster instantiation using ClusterOptions ignores WithServers servers</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2222">NCBC-2222</a>:
AuthenticationFailure thrown when accessing bucket while combination testing</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2230">NCBC-2230</a>:
QueryException missing XxxxContext</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2241">NCBC-2241</a>:
Defer bootstrapping errors on buckets to first operation</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2266">NCBC-2266</a>:
UserManager#AvailableRolesAsync must be called getRoles</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2268">NCBC-2268</a>:
CollectionManager does not align with RFC</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2273">NCBC-2273</a>:
Incorrect ScopeMissingException</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2274">NCBC-2274</a>:
Can&#8217;t connect to two buckets from one cluster object</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2277">NCBC-2277</a>:
SearchOptions does not map query parameters</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2282">NCBC-2282</a>:
fix test and implementation of positional params</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2286">NCBC-2286</a>:
Make all options have no "With" prefix</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2288">NCBC-2288</a>:
MutateIn ContentAs() functionality missing</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2290">NCBC-2290</a>:
Add Timeout to all options classes in BucketManager</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2306">NCBC-2306</a>:
Match RFC requirement for Rows property for query services</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2307">NCBC-2307</a>:
Cannot query using any type other than dynamic</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2308">NCBC-2308</a>:
N1QL query situational failure</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2309">NCBC-2309</a>:
Hybrid/view query errors with situational testing</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2316">NCBC-2316</a>:
Ensure view request get default timeout if not supplied</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2324">NCBC-2324</a>:
Random KeyNotFoundException in LogManagerTests.Test_LogLevel_Debug</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2350">NCBC-2350</a>:
SearchOptions.Raw is unused, and throws an NRE</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2351">NCBC-2351</a>:
View timeout is not applied to view query string</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2352">NCBC-2352</a>:
Cleanup Service Exceptions Hiding Context</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2353">NCBC-2353</a>:
Cleanup .NET SDK 3 Build Warnings</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2354">NCBC-2354</a>:
Most Integration Tests Failing</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2365">NCBC-2365</a>:
Ensure Exists checks if deleted is true then exists returns false</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2366">NCBC-2366</a>:
AnalyticsManager does not exist</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2367">NCBC-2367</a>:
Methods in ClusterNode have unused "connections" parameter</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2369">NCBC-2369</a>:
Ping diagnostics are not accurately reporting ping times</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2372">NCBC-2372</a>:
NRE thrown while initializing cluster</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2384">NCBC-2384</a>:
SSL connections cannot find node for K/V operations</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2389">NCBC-2389</a>:
ClusterNode must be associated with a bucket once a bucket has been opened</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2397">NCBC-2397</a>:
OPS pulses between zero and the expected performance</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2402">NCBC-2402</a>:
Add ConfigureAwait(false) to all asynchronous code</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2407">NCBC-2407</a>:
Couchbase.ServiceNotAvailableException: Service n1ql not available</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2416">NCBC-2416</a>:
ViewQuery failure/hanging</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2421">NCBC-2421</a>:
Remove default to NotBounded in FTS</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2422">NCBC-2422</a>:
Error replacing dead connections on N1QL Failover rebalance</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2426">NCBC-2426</a>:
Service Restart failure - replacing dead connections failure</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2429">NCBC-2429</a>:
Should be MaxHttpConnections instead of MaxHttpConnection</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2446">NCBC-2446</a>:
Ensure bootstrapping continues after BucketNotConnected on pre-6.5 servers</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2448">NCBC-2448</a>:
unpublish concurrent document mutations</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2183">NCBC-2183</a>:
Exists must use "getMeta" (0xa0)  instead of Observe</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2410">NCBC-2410</a>:
LookupInResult has NotImplementedException for some methods</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2412">NCBC-2412</a>:
Cluster.AnaytlicsIndexes throws NotImplementedException</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2414">NCBC-2414</a>:
Connection terminated when packet exceeds NetworkStream buffer size</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2415">NCBC-2415</a>:
error CS0649: Field 'SubDocSingularBase&lt;T&gt;.CurrentSpec' is null</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2430">NCBC-2430</a>:
HttpMaxConnections renaming breaks DI unit tests</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2431">NCBC-2431</a>:
Failed DNS resolution throws NullReferenceException</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2433">NCBC-2433</a>:
Fix failing tests involving MaxHttpConnection</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2305">NCBC-2305</a>:
RequestId, ClientContextId, and Signature Lost After N1QL Query Enumeration</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2358">NCBC-2358</a>:
Timeout is not written to the packet when using Durability</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="new-features-and-behavioral-changes-40"><a class="anchor" href="#new-features-and-behavioral-changes-40"></a>New Features and Behavioral Changes.</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2315">NCBC-2315</a>:
Improve logging for each service request</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2325">NCBC-2325</a>:
Add SCRAM-SHA Sasl Authentication</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-1863">NCBC-1863</a>:
Add Flushing or Deleting a Collection logic</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-1870">NCBC-1870</a>:
Support Log Redaction</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-1915">NCBC-1915</a>:
Add new consistency API to SDK 3.0</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2151">NCBC-2151</a>:
Migrating from SDK 2 to 3.0</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2169">NCBC-2169</a>:
Migrating from SDK 2 to 3.0</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2209">NCBC-2209</a>:
Add Converters/Transcoders per RFC</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2220">NCBC-2220</a>:
Ensure ClusterOptions properties are integrated into SDK</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2234">NCBC-2234</a>:
Mark all ErrorContexts as Uncomitted</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2302">NCBC-2302</a>:
Getting Started Tidy Up</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2413">NCBC-2413</a>:
Add XxxErrorContext information to K/V</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2417">NCBC-2417</a>:
Remove all Singular Sub-Document classes</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-1799">NCBC-1799</a>:
Analytics client needs to support streaming results</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-1989">NCBC-1989</a>:
Add connection pooling</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2244">NCBC-2244</a>:
WaitUntilReady not available at the cluster and bucket levels</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2245">NCBC-2245</a>:
Cluster-level ping missing</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2260">NCBC-2260</a>:
Tighten OperationSpec for lookupIn and mutateIn</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2293">NCBC-2293</a>:
Remove deprecated ErrorAttribute enum</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2297">NCBC-2297</a>:
Decrease API surface surrounding K/V operations/connections</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2299">NCBC-2299</a>:
Implement non-streaming fallback for N1QL queries</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2300">NCBC-2300</a>:
Support custom stream deserializers for view queries</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2310">NCBC-2310</a>:
Make IQueryResult implementations internal</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2312">NCBC-2312</a>:
Make IServiceResult.RetryReason read only</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2313">NCBC-2313</a>:
Align StreamAlreadyReadException with other Couchbase exceptions</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2314">NCBC-2314</a>:
Implement non-streaming fallback for view queries</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2318">NCBC-2318</a>:
Refactor view queries to be strongly typed</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2319">NCBC-2319</a>:
Implement non-streaming fallback for analytics queries</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2320">NCBC-2320</a>:
Cleanup K/V classes in root namespace</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2322">NCBC-2322</a>:
Enable symbol packages and SourceLink for debugging</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2323">NCBC-2323</a>:
Enable C# 8 nullable ref types for buckets/scopes/collections</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2327">NCBC-2327</a>:
Create Lightweight DI system for Couchbase SDK</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2328">NCBC-2328</a>:
Update Cluster and Bucket to use DI for Logging</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2329">NCBC-2329</a>:
Update RetryOrchestrator to use DI for logging</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2330">NCBC-2330</a>:
Make transaction/serializer/mapper configurable via DI</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2331">NCBC-2331</a>:
Use DI for Scope and Collection logging</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2332">NCBC-2332</a>:
Remove default constructor added to BucketBase (CS8618 warning)</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2334">NCBC-2334</a>:
All integration tests fail, cannot bootstrap</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2336">NCBC-2336</a>:
Use DI for CouchbaseHttpClient</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2337">NCBC-2337</a>:
Remove ClusterContext requirement from service clients</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2338">NCBC-2338</a>:
Use DI for service clients and their loggers</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2340">NCBC-2340</a>:
Use DI for logging in configuration handlers</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2341">NCBC-2341</a>:
Use DI for OrphanedResponseLogger logging</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2343">NCBC-2343</a>:
Use DI for logging in data structures</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2344">NCBC-2344</a>:
Use DI for logging in managers</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2345">NCBC-2345</a>:
Use DI for logging in DNS resolver</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2346">NCBC-2346</a>:
Use DI for logging in GetResult</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2347">NCBC-2347</a>:
Use DI for logging in QueryUriTesters</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2348">NCBC-2348</a>:
Use DI for VBucket and ErrorMap logging</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2349">NCBC-2349</a>:
Enable Nullable Ref Types in ClusterOptions</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2355">NCBC-2355</a>:
Support deserialization of ClusterOptions from configuration</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2356">NCBC-2356</a>:
Move content services directory to root in Couchbase.UnitTests</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2357">NCBC-2357</a>:
Enable nullable ref types for XxxOptions classes</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2359">NCBC-2359</a>:
Use DNS resolver for IP address resolution</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2360">NCBC-2360</a>:
Use DNS resolver in Ketama key mapper and ClusterContext</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2362">NCBC-2362</a>:
Make ConfigChanged handling async</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2363">NCBC-2363</a>:
Use DNS resolver for VBucketServerMap.IPEndPoints</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2364">NCBC-2364</a>:
Enable null reference types for K/V specs/results</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2368">NCBC-2368</a>:
Remove Servers From ClusterOptions</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2370">NCBC-2370</a>:
Support custom port numbers in ConnectionString</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2371">NCBC-2371</a>:
Make BucketConfig and other config serialization classes internal</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2373">NCBC-2373</a>:
Implement abstraction layer for connection pool implementations</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2374">NCBC-2374</a>:
Replace TKey with string parameter in persistent collections</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2376">NCBC-2376</a>:
Cleanup BootstrapUri on ClusterNode</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2377">NCBC-2377</a>:
Implement auto scaling on connection pools</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2378">NCBC-2378</a>:
Add log redaction to DataFlowConnectionPool</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2379">NCBC-2379</a>:
Respect couchbases scheme for DNS SRV lookup</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2380">NCBC-2380</a>:
ClusterOptions MgmtPort and EnableTls cleanup</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2381">NCBC-2381</a>:
Cleanup IConnection interface</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2382">NCBC-2382</a>:
Support multiplexing on SslConnection</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2383">NCBC-2383</a>:
NodeAdapter is null on non-bootstrap nodes</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2387">NCBC-2387</a>:
Reduce heap allocations related to K/V operation response handling</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2391">NCBC-2391</a>:
Include XML documentation in NuGet package</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2392">NCBC-2392</a>:
Reduce heap allocations around MultiplexingConnection async state</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2393">NCBC-2393</a>:
Align QueryScanConsistency with the RFC</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2398">NCBC-2398</a>:
Change ICollection interface to ICouchbaseCollection interface</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2399">NCBC-2399</a>:
Add bootstrap service</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2408">NCBC-2408</a>:
Add BucketContext or equivalent for cohesion and less coupling</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2409">NCBC-2409</a>:
Route nodes into service specific CouchbaseNodeCollections</p>
</li>
<li>
<p><a href="https://issues.couchbase.com/browse/NCBC-2425">NCBC-2425</a>:
Reduce heap allocations calling BucketAsync</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pre-releases"><a class="anchor" href="#pre-releases"></a>Pre-releases</h3>
<div class="paragraph">
<p>Numerous <em>Alpha</em> and <em>Beta</em> releases were made in the run-up to the 3.0 release, and although unsupported, the release notes and download links are retained for archive purposes <a href="3.0-pre-release-notes.html" class="xref page">here</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="older-releases"><a class="anchor" href="#older-releases"></a>Older Releases</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Although <a href="https://www.couchbase.com/support-policy/enterprise-software">no longer supported</a>, documentation for older releases continues to be available in our <a href="https://docs-archive.couchbase.com/home/index.html">docs archive</a>.</p>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2024 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../_/js/site-navigation-data.js"></script>
<script id="page-navigation-group" type="application/json">
{"title":"SDKs","components":["dotnet-sdk","c-sdk","go-sdk","java-sdk","kotlin-sdk","nodejs-sdk","php-sdk","python-sdk","ruby-sdk","scala-sdk","cxx-txns","elasticsearch-connector","kafka-connector","spark-connector","tableau-connector","sdk-extensions"],"latestVersions":{"dotnet-sdk":"3.4","c-sdk":"3.3","go-sdk":"2.6","java-sdk":"3.4","kotlin-sdk":"1.1","nodejs-sdk":"4.2","php-sdk":"4.0","python-sdk":"4.1","ruby-sdk":"3.3","scala-sdk":"1.4","cxx-txns":"1.0","elasticsearch-connector":"4.4","kafka-connector":"4.1","spark-connector":"3.3","tableau-connector":"1.x","sdk-extensions":"master"}}
</script>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/tabs.js" data-sync-storage-key="preferred-tab"></script>
<script defer src="../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
</body>
</html>
