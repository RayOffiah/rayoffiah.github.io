<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="388px" preserveAspectRatio="none" style="width:412px;height:388px;background:#FFFFFF;" version="1.1" viewBox="0 0 412 388" width="412px" zoomAndPan="magnify"><defs><filter height="300%" id="fefogknseah5c" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="106" cy="20" fill="#000000" filter="url(#fefogknseah5c)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><path d="M177.5,46.6 L177.5,63.2001 L157.5,67.2001 L177.5,71.2001 L177.5,87.8001 A0,0 0 0 0 177.5,87.8001 L400.5,87.8001 A0,0 0 0 0 400.5,87.8001 L400.5,56.6 L390.5,46.6 L177.5,46.6 A0,0 0 0 0 177.5,46.6 " fill="#FBFB77" filter="url(#fefogknseah5c)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M390.5,46.6 L390.5,56.6 L400.5,56.6 L390.5,46.6 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="183.5" y="64.6">Transaction started before the initial</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="183.5" y="80.2001">SQL++ statement is called</text><rect fill="#FEFECE" filter="url(#fefogknseah5c)" height="34.4001" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="103" x="54.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="83" x="64.5" y="72.0001">start transaction</text><rect fill="#FEFECE" filter="url(#fefogknseah5c)" height="34.4001" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="190" x="11" y="107.8001"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="167" x="24" y="129.8001">var q = execute N1QL statement</text><rect fill="#FEFECE" filter="url(#fefogknseah5c)" height="34.4001" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="74" x="69" y="218.7001"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="51" x="82" y="240.7002">process q</text><polygon fill="#FEFECE" filter="url(#fefogknseah5c)" points="88.5,162.2002,123.5,162.2002,135.5,174.2002,123.5,186.2002,88.5,186.2002,76.5,174.2002,88.5,162.2002" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="16" x="110" y="197.2001">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="35" x="88.5" y="178.6001">next q?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="12" x="64.5" y="172.0002">no</text><rect fill="#FEFECE" filter="url(#fefogknseah5c)" height="34.4001" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="116" x="48" y="295.1002"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="96" x="58" y="317.1003">commit or rollback</text><ellipse cx="106" cy="360.5003" fill="#FFFFFF" filter="url(#fefogknseah5c)" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><ellipse cx="106" cy="360.5003" fill="#000000" rx="6" ry="6" style="stroke:#7F7F7F;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="106" x2="106" y1="30" y2="50"/><polygon fill="#A80036" points="102,40,106,50,110,40,106,44" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="106" x2="106" y1="84.4001" y2="107.8001"/><polygon fill="#A80036" points="102,97.8001,106,107.8001,110,97.8001,106,101.8001" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="106" x2="106" y1="186.2002" y2="218.7001"/><polygon fill="#A80036" points="102,208.7001,106,218.7001,110,208.7001,106,212.7001" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="106" x2="106" y1="253.1002" y2="263.1002"/><line style="stroke:#A80036;stroke-width:1.5;" x1="106" x2="155" y1="263.1002" y2="263.1002"/><polygon fill="#A80036" points="151,227.3002,155,217.3002,159,227.3002,155,223.3002" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="155" x2="155" y1="174.2002" y2="263.1002"/><line style="stroke:#A80036;stroke-width:1.5;" x1="155" x2="135.5" y1="174.2002" y2="174.2002"/><polygon fill="#A80036" points="145.5,170.2002,135.5,174.2002,145.5,178.2002,141.5,174.2002" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="76.5" x2="57" y1="174.2002" y2="174.2002"/><polygon fill="#A80036" points="53,213.3002,57,223.3002,61,213.3002,57,217.3002" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="57" x2="57" y1="174.2002" y2="275.1002"/><line style="stroke:#A80036;stroke-width:1.5;" x1="57" x2="106" y1="275.1002" y2="275.1002"/><line style="stroke:#A80036;stroke-width:1.5;" x1="106" x2="106" y1="275.1002" y2="295.1002"/><polygon fill="#A80036" points="102,285.1002,106,295.1002,110,285.1002,106,289.1002" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="106" x2="106" y1="142.2002" y2="162.2002"/><polygon fill="#A80036" points="102,152.2002,106,162.2002,110,152.2002,106,156.2002" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="106" x2="106" y1="329.5003" y2="349.5003"/><polygon fill="#A80036" points="102,339.5003,106,349.5003,110,339.5003,106,343.5003" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[4572d6a28a86a6090be42923ae786d77]
@startuml
start

:start transaction;
note right: Transaction started before the initial\nSQL++ statement is called
: var q = execute N1QL statement;
 
 while (next q?) is (yes)
 
   : process q;
   
 endwhile (no)
 
:commit or rollback;

stop
@enduml

PlantUML version 1.2021.16(Wed Dec 08 17:25:22 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>