<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="225px" preserveAspectRatio="none" style="width:677px;height:225px;background:#FFFFFF;" version="1.1" viewBox="0 0 677 225" width="677px" zoomAndPan="magnify"><defs><filter height="300%" id="f1wfl5k8s4amt7" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[0c6c56afe89fba3f46d2be371783d5a6]
cluster Index\nService--><rect fill="#FFFFFF" filter="url(#f1wfl5k8s4amt7)" height="105" style="stroke:#000000;stroke-width:1.5;" width="475" x="42" y="7"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="38" x="260.5" y="22.9999">Index</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="51" x="254" y="39.7999">Service</text><!--MD5=[7e65e753e7f4885ff7567f7618ef3bdb]
cluster Query\nService--><rect fill="#FFFFFF" filter="url(#f1wfl5k8s4amt7)" height="105" style="stroke:#000000;stroke-width:1.5;" width="86" x="541" y="7"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="41" x="563.5" y="22.9999">Query</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="51" x="558.5" y="39.7999">Service</text><!--MD5=[b56d82cc628557b1acc6c002153fa3f7]
entity IndexScan--><rect fill="#FEFECE" filter="url(#f1wfl5k8s4amt7)" height="36.7999" style="stroke:#000000;stroke-width:1.5;" width="90" x="58" y="59"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="68" y="82.9999">Index Scan</text><!--MD5=[d04648e85a9b10e4576b2636e86a7d55]
entity Filter--><rect fill="#FEFECE" filter="url(#f1wfl5k8s4amt7)" height="36.7999" style="stroke:#000000;stroke-width:1.5;" width="50" x="183" y="59"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="193" y="82.9999">Filter</text><!--MD5=[ff70e4322b05e68cf66d2ff13f5b48e6]
entity Order--><rect fill="#FEFECE" filter="url(#f1wfl5k8s4amt7)" height="36.7999" style="stroke:#000000;stroke-width:1.5;" width="56" x="268" y="59"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="278" y="82.9999">Order</text><!--MD5=[ba3e2b2dca857ef37695f5c4c4439b77]
entity Offset--><rect fill="#FEFECE" filter="url(#f1wfl5k8s4amt7)" height="36.7999" style="stroke:#000000;stroke-width:1.5;" width="57" x="359.5" y="59"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="369.5" y="82.9999">Offset</text><!--MD5=[7c91c379e791bbc64b0e5662b11be0d0]
entity Limit--><rect fill="#FEFECE" filter="url(#f1wfl5k8s4amt7)" height="36.7999" style="stroke:#000000;stroke-width:1.5;" width="49" x="451.5" y="59"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="461.5" y="82.9999">Limit</text><!--MD5=[1bb669a7cce09e263741a8133c219385]
entity Fetch--><rect fill="#FEFECE" filter="url(#f1wfl5k8s4amt7)" height="36.7999" style="stroke:#000000;stroke-width:1.5;" width="54" x="557" y="59"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="567" y="82.9999">Fetch</text><!--MD5=[c88a36799ca4d6dff2d7449eacfc25f7]
entity start--><ellipse cx="14" cy="77.5" fill="#FEFECE" filter="url(#f1wfl5k8s4amt7)" rx="8" ry="8" style="stroke:#A80036;stroke-width:1.5;"/><!--MD5=[22efa60cf2b4332bf8574b0c93969d71]
entity end--><ellipse cx="655" cy="77.5" fill="#FEFECE" filter="url(#f1wfl5k8s4amt7)" rx="8" ry="8" style="stroke:#A80036;stroke-width:1.5;"/><path d="M103,167 L103,208.2 A0,0 0 0 0 103,208.2 L313,208.2 A0,0 0 0 0 313,208.2 L313,177 L303,167 L212,167 L208,96.16 L204,167 L103,167 A0,0 0 0 0 103,167 " fill="#FBFB77" filter="url(#f1wfl5k8s4amt7)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M303,167 L303,177 L313,177 L303,167 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="123" y="185">Filters, order, and pagination</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="109" y="200.6">pushed down to the Index Service</text><!--MD5=[0ecd579b94b5f51ba0c6012111a3b28f]
entity Data--><path d="M551.5,166 C551.5,156 584,156 584,156 C584,156 616.5,156 616.5,166 L616.5,208.5999 C616.5,218.5999 584,218.5999 584,218.5999 C584,218.5999 551.5,218.5999 551.5,208.5999 L551.5,166 " fill="#FEFECE" filter="url(#f1wfl5k8s4amt7)" style="stroke:#000000;stroke-width:1.5;"/><path d="M551.5,166 C551.5,176 584,176 584,176 C584,176 616.5,176 616.5,166 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="569" y="193.9999">Data</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="561.5" y="210.7999">Service</text><!--MD5=[9dcf1f94b7e729ba3ce9af7466d1ed88]
link start to IndexScan--><path d="M23.19,78 C23.19,78 52.6,78 52.6,78 " fill="none" id="start-to-IndexScan" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="57.6,78,48.6,74,52.6,78,48.6,82,57.6,78" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[52b46ba1547ce3b69a59d2722edbd61b]
link IndexScan to Filter--><path d="M148.14,78 C148.14,78 177.86,78 177.86,78 " fill="none" id="IndexScan-to-Filter" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="182.86,78,173.86,74,177.86,78,173.86,82,182.86,78" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[92b6a7b0f6bdfd4b1190c36d7516077d]
link Filter to Order--><path d="M233.45,78 C233.45,78 262.83,78 262.83,78 " fill="none" id="Filter-to-Order" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="267.83,78,258.83,74,262.83,78,258.83,82,267.83,78" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[d560d6cf8d8d541f6eb8e1ba1bdccf93]
link Order to Offset--><path d="M324.1,78 C324.1,78 354.43,78 354.43,78 " fill="none" id="Order-to-Offset" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="359.43,78,350.43,74,354.43,78,350.43,82,359.43,78" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[56c14ee24531f019d403311447c155c8]
link Offset to Limit--><path d="M416.81,78 C416.81,78 446.26,78 446.26,78 " fill="none" id="Offset-to-Limit" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="451.26,78,442.26,74,446.26,78,442.26,82,451.26,78" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[3eb6ba6f9c6d7b3d15fba39b330468bf]
link Limit to Fetch--><path d="M500.51,78 C500.51,78 551.94,78 551.94,78 " fill="none" id="Limit-to-Fetch" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="556.94,78,547.94,74,551.94,78,547.94,82,556.94,78" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[99fdd6a768fdd86becbfbf4f6634f0a8]
link Fetch to Data--><path d="M575,96.16 C575,96.16 575,150.8 575,150.8 " fill="none" id="Fetch-to-Data" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="575,155.8,579,146.8,575,150.8,571,146.8,575,155.8" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[8c88eee373a4caddaf0bcb426e85f3cc]
reverse link Fetch to Data--><path d="M593,101.16 C593,101.16 593,155.8 593,155.8 " fill="none" id="Fetch-backto-Data" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="593,96.16,589,105.16,593,101.16,597,105.16,593,96.16" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[42e161dc13162794568d3cd51fffde3a]
link Fetch to end--><path d="M611.25,78 C611.25,78 640.77,78 640.77,78 " fill="none" id="Fetch-to-end" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="645.77,78,636.77,74,640.77,78,636.77,82,645.77,78" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[579047c41704c0037ef1fd859a161e6d]
@startuml
skinparam defaultTextAlignment center
skinparam linetype ortho

() " " as start
() " " as end

rectangle "Index\nService"{
  rectangle "Index Scan" as IndexScan
  rectangle Filter
  rectangle Order
  rectangle Offset
  rectangle Limit
}

note bottom of Filter
  Filters, order, and pagination
  pushed down to the Index Service
end note

rectangle "Query\nService"{
  rectangle Fetch
}

database "Data\nService" as Data

start ..r..> IndexScan
IndexScan -> Filter
Filter -> Order
Order -> Offset
Offset -> Limit
Limit -r-> Fetch
Fetch - -> Data
Fetch <- - Data
Fetch ..r..> end
@enduml

PlantUML version 1.2021.16(Wed Dec 08 17:25:22 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>