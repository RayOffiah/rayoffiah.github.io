<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="578px" preserveAspectRatio="none" style="width:705px;height:578px;background:#FFFFFF;" version="1.1" viewBox="0 0 705 578" width="705px" zoomAndPan="magnify"><defs><filter height="300%" id="f13f1na06986ob" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[cd2d2a69136bcb457c777d7f0a388268]
cluster MyLibrary--><rect fill="#FFFFFF" filter="url(#f13f1na06986ob)" height="121" style="stroke:#000000;stroke-width:1.5;" width="265" x="232.5" y="445"/><path d="M311.5,445 L311.5,454.7999 L301.5,464.7999 L232.5,464.7999 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="69" x="235.5" y="459.9999">my-library</text><!--MD5=[63955b8f5af8bd25e363284f268579d0]
entity getBusinessDays--><polygon fill="#FEFECE" filter="url(#f13f1na06986ob)" points="257,488,257,541.5999,454,541.5999,454,498,444,488,257,488" style="stroke:#000000;stroke-width:1.5;"/><path d="M444,488 L444,498 L454,498 " fill="#FEFECE" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="267" y="511.9999">getBusinessDays(startDate,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="267" y="528.7999">endDate)</text><!--MD5=[b8b6581e2c9bccc3f2004cae03cd95ad]
entity referenceFunction--><rect fill="#FEFECE" filter="url(#f13f1na06986ob)" height="63.5999" style="stroke:#A80036;stroke-width:1.5;" width="235" x="197" y="240"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="412" y="245"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="410" y="247"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="410" y="251"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="195" x="212" y="273.9999">«N1QL User-Defined Function»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="245" y="290.7999">getBusinessDays(...)</text><!--MD5=[8fc3522a43f8c7199df5e09e5bb0188e]
entity user--><ellipse cx="133.5" cy="249.5" fill="#FEFECE" filter="url(#f13f1na06986ob)" rx="16" ry="16" style="stroke:#A80036;stroke-width:1.5;"/><path d="M133.5,269.5 C137.5,269.5 140.5,269.5 144.5,265.5 C152.5,265.5 160.5,273.5 160.5,281.5 L160.5,285.5 C160.5,289.5 156.5,293.5 152.5,293.5 L114.5,293.5 C110.5,293.5 106.5,289.5 106.5,285.5 L106.5,281.5 C106.5,273.5 114.5,265.5 122.5,265.5 C126.5,269.5 129.5,269.5 133.5,269.5 " fill="#FEFECE" filter="url(#f13f1na06986ob)" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="120" y="308.9999">user</text><!--MD5=[2975947dbd53e11d08a72608f6781d9e]
entity cluster--><polygon fill="#FEFECE" filter="url(#f13f1na06986ob)" points="524,16,534,6,679,6,679,42.7999,669,52.7999,524,52.7999,524,16" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="669" x2="679" y1="16" y2="6"/><line style="stroke:#000000;stroke-width:1.5;" x1="524" x2="669" y1="16" y2="16"/><line style="stroke:#000000;stroke-width:1.5;" x1="669" x2="669" y1="16" y2="52.7999"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="539" y="39.9999">Couchbase cluster</text><!--MD5=[e987a9053741ca611bbb00ccd0372f5a]
entity bucket--><path d="M550,129.5 C550,119.5 601.5,119.5 601.5,119.5 C601.5,119.5 653,119.5 653,129.5 L653,155.2999 C653,165.2999 601.5,165.2999 601.5,165.2999 C601.5,165.2999 550,165.2999 550,155.2999 L550,129.5 " fill="#FEFECE" filter="url(#f13f1na06986ob)" style="stroke:#000000;stroke-width:1.5;"/><path d="M550,129.5 C550,139.5 601.5,139.5 601.5,139.5 C601.5,139.5 653,139.5 653,129.5 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="560" y="157.4999">travel-sample</text><!--MD5=[f8e745406a4437ba9dd668c2fc83629b]
entity inventory--><polygon fill="#FEFECE" filter="url(#f13f1na06986ob)" points="467.5,250,477.5,240,563.5,240,563.5,293.5999,553.5,303.5999,467.5,303.5999,467.5,250" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="553.5" x2="563.5" y1="250" y2="240"/><line style="stroke:#000000;stroke-width:1.5;" x1="467.5" x2="553.5" y1="250" y2="250"/><line style="stroke:#000000;stroke-width:1.5;" x1="553.5" x2="553.5" y1="250" y2="303.5999"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="50" x="485.5" y="273.9999">«scope»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="482.5" y="290.7999">inventory</text><!--MD5=[8084ad898ab70d49b28a9beceff76d52]
entity tenant--><polygon fill="#FEFECE" filter="url(#f13f1na06986ob)" points="598.5,250,608.5,240,688.5,240,688.5,293.5999,678.5,303.5999,598.5,303.5999,598.5,250" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="678.5" x2="688.5" y1="250" y2="240"/><line style="stroke:#000000;stroke-width:1.5;" x1="598.5" x2="678.5" y1="250" y2="250"/><line style="stroke:#000000;stroke-width:1.5;" x1="678.5" x2="678.5" y1="250" y2="303.5999"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="50" x="613.5" y="273.9999">«scope»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="619" y="290.7999">tenant</text><path d="M6,114 L6,170.8 A0,0 0 0 0 6,170.8 L129.5,170.8 L133.5,231.78 L137.5,170.8 L261,170.8 A0,0 0 0 0 261,170.8 L261,124 L251,114 L6,114 A0,0 0 0 0 6,114 " fill="#FFFFF0" filter="url(#f13f1na06986ob)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M251,114 L251,124 L261,124 L251,114 " fill="#FFFFF0" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234" x="12" y="132">can access the getBusinessDays function</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="12" y="147.6">as long as s/he is working</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="12" y="163.2">inside the '"Inventory Scope" context</text><!--MD5=[de0ceebb9a42e75c32fe2c70bb7294a0]
link referenceFunction to getBusinessDays--><path codeLine="12" d="M319.78,304.01 C327.63,350.16 342.3,436.43 350.18,482.73 " fill="none" id="referenceFunction-to-getBusinessDays" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="351.06,487.9,353.5125,478.3614,350.2311,482.9692,345.6233,479.6877,351.06,487.9" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[281524e9f32be153eff0ea24a8460cc1]
link cluster to bucket--><path codeLine="22" d="M601.5,53.23 C601.5,72.51 601.5,100.02 601.5,119.18 " fill="none" id="cluster-bucket" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[35428efcf9dc7c16942b9d3811a6a060]
link bucket to inventory--><path codeLine="23" d="M586.52,165.71 C572.66,186.26 551.92,217 536.43,239.97 " fill="none" id="bucket-inventory" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[49a699f46bf815af491dfd6da0cb6b54]
link bucket to tenant--><path codeLine="24" d="M608.82,165.71 C615.58,186.26 625.71,217 633.28,239.97 " fill="none" id="bucket-tenant" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[01098f42ebd4b2f4dbf3213822a94e7a]
link inventory to MyLibrary--><path codeLine="26" d="M512.15,304.01 C508.695,336.05 503.155,387.42 498.4188,431.33 C498.1227,434.0744 497.8299,436.7896 497.5408,439.4692 C497.3963,440.8089 497.2528,442.1398 497.1103,443.4609 C497.0746,443.7912 497.0391,444.1209 497.0036,444.4499 " fill="none" id="inventory-MyLibrary" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="505.5" y="387">my-library in inventory scope</text><!--MD5=[a9cb76a4c16039f1fe7ec06fc84ae95f]
link user to referenceFunction--><path codeLine="28" d="M162.13,272 C172.02,272 181.9,272 191.78,272 " fill="none" id="user-to-referenceFunction" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="196.95,272,187.95,268,191.95,272,187.95,276,196.95,272" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[e4a948b18e8b6bb22bcd47fc810d308b]
@startuml
allow_mixing

skinparam actorStyle Awesome

component "getBusinessDays(...)" <<N1QL User-Defined Function>> as referenceFunction

frame "my-library" as MyLibrary {
   file "getBusinessDays(startDate, \nendDate)" as getBusinessDays

}

referenceFunction - - -> getBusinessDays
actor "user" as user

node "Couchbase cluster" as cluster

database "travel-sample" as bucket

node "inventory" <<scope>> as inventory
node "tenant" <<scope>> as tenant

cluster - - bucket
bucket - - inventory
bucket - - tenant

inventory - - - MyLibrary : my-library in inventory scope

user - - -right- - -> referenceFunction

note top of user #Ivory
  can access the getBusinessDays function
  as long as s/he is working
  inside the '"Inventory Scope" context
end note
@enduml

PlantUML version 1.2021.16(Wed Dec 08 17:25:22 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>