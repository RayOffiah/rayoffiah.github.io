<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="573px" preserveAspectRatio="none" style="width:783px;height:573px;background:#FFFFFF;" version="1.1" viewBox="0 0 783 573" width="783px" zoomAndPan="magnify"><defs><filter height="300%" id="f1khj0gszx18q" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[cd2d2a69136bcb457c777d7f0a388268]
cluster MyLibrary--><polygon fill="#FFFFFF" filter="url(#f1khj0gszx18q)" points="305.5,445,380.5,445,387.5,467.7999,570.5,467.7999,570.5,566,305.5,566,305.5,445" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="305.5" x2="387.5" y1="467.7999" y2="467.7999"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="69" x="309.5" y="460.9999">my-library</text><!--MD5=[63955b8f5af8bd25e363284f268579d0]
entity getBusinessDays--><polygon fill="#FEFECE" filter="url(#f1khj0gszx18q)" points="330,488,330,541.5999,527,541.5999,527,498,517,488,330,488" style="stroke:#000000;stroke-width:1.5;"/><path d="M517,488 L517,498 L527,498 " fill="#FEFECE" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="340" y="511.9999">getBusinessDays(startDate,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="340" y="528.7999">endDate)</text><!--MD5=[b8b6581e2c9bccc3f2004cae03cd95ad]
entity referenceFunction--><rect fill="#FEFECE" filter="url(#f1khj0gszx18q)" height="46.7999" style="stroke:#A80036;stroke-width:1.5;" width="191" x="197" y="248.5"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="368" y="253.5"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="366" y="255.5"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="366" y="259.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="212" y="282.4999">N1QL reference function</text><!--MD5=[8fc3522a43f8c7199df5e09e5bb0188e]
entity user--><ellipse cx="133.5" cy="249.5" fill="#FEFECE" filter="url(#f1khj0gszx18q)" rx="16" ry="16" style="stroke:#A80036;stroke-width:1.5;"/><path d="M133.5,269.5 C137.5,269.5 140.5,269.5 144.5,265.5 C152.5,265.5 160.5,273.5 160.5,281.5 L160.5,285.5 C160.5,289.5 156.5,293.5 152.5,293.5 L114.5,293.5 C110.5,293.5 106.5,289.5 106.5,285.5 L106.5,281.5 C106.5,273.5 114.5,265.5 122.5,265.5 C126.5,269.5 129.5,269.5 133.5,269.5 " fill="#FEFECE" filter="url(#f1khj0gszx18q)" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="120" y="308.9999">user</text><!--MD5=[2975947dbd53e11d08a72608f6781d9e]
entity cluster--><polygon fill="#FEFECE" filter="url(#f1khj0gszx18q)" points="516,16,526,6,671,6,671,42.7999,661,52.7999,516,52.7999,516,16" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="661" x2="671" y1="16" y2="6"/><line style="stroke:#000000;stroke-width:1.5;" x1="516" x2="661" y1="16" y2="16"/><line style="stroke:#000000;stroke-width:1.5;" x1="661" x2="661" y1="16" y2="52.7999"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="531" y="39.9999">Couchbase cluster</text><!--MD5=[e987a9053741ca611bbb00ccd0372f5a]
entity bucket--><path d="M542,129.5 C542,119.5 593.5,119.5 593.5,119.5 C593.5,119.5 645,119.5 645,129.5 L645,155.2999 C645,165.2999 593.5,165.2999 593.5,165.2999 C593.5,165.2999 542,165.2999 542,155.2999 L542,129.5 " fill="#FEFECE" filter="url(#f1khj0gszx18q)" style="stroke:#000000;stroke-width:1.5;"/><path d="M542,129.5 C542,139.5 593.5,139.5 593.5,139.5 C593.5,139.5 645,139.5 645,129.5 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="552" y="157.4999">travel-sample</text><!--MD5=[f8e745406a4437ba9dd668c2fc83629b]
entity inventory--><rect fill="#FEFECE" filter="url(#f1khj0gszx18q)" height="36.7999" style="stroke:#000000;stroke-width:1.5;" width="76" x="607.5" y="253.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="617.5" y="277.4999">inventory</text><!--MD5=[8084ad898ab70d49b28a9beceff76d52]
entity tenant--><rect fill="#FEFECE" filter="url(#f1khj0gszx18q)" height="36.7999" style="stroke:#000000;stroke-width:1.5;" width="59" x="513" y="253.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="523" y="277.4999">tenant</text><path d="M6,114 L6,170.8 A0,0 0 0 0 6,170.8 L129.5,170.8 L133.5,231.78 L137.5,170.8 L261,170.8 A0,0 0 0 0 261,170.8 L261,124 L251,114 L6,114 A0,0 0 0 0 6,114 " fill="#FFFFF0" filter="url(#f1khj0gszx18q)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M251,114 L251,124 L261,124 L251,114 " fill="#FFFFF0" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234" x="12" y="132">can access the getBusinessDays function</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="12" y="147.6">as long as s/he is working</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="12" y="163.2">inside the '"Inventory Scope" context</text><path d="M719,259 L719,268 L683.77,272 L719,276 L719,284.6 A0,0 0 0 0 719,284.6 L774,284.6 A0,0 0 0 0 774,284.6 L774,269 L764,259 L719,259 A0,0 0 0 0 719,259 " fill="#FFFFF0" filter="url(#f1khj0gszx18q)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M764,259 L764,269 L774,269 L764,259 " fill="#FFFFF0" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="725" y="277">scope</text><path d="M423,259 L423,284.6 A0,0 0 0 0 423,284.6 L478,284.6 A0,0 0 0 0 478,284.6 L478,277 L512.85,272 L478,269 L478,269 L468,259 L423,259 A0,0 0 0 0 423,259 " fill="#FFFFF0" filter="url(#f1khj0gszx18q)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M468,259 L468,269 L478,269 L468,259 " fill="#FFFFF0" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="429" y="277">scope</text><!--MD5=[de0ceebb9a42e75c32fe2c70bb7294a0]
link referenceFunction to getBusinessDays--><path codeLine="12" d="M305.29,295.67 C329.83,339.15 383.51,434.27 411.2,483.35 " fill="none" id="referenceFunction-to-getBusinessDays" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="413.8,487.95,412.8633,478.1458,411.3439,483.5948,405.8949,482.0755,413.8,487.95" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[281524e9f32be153eff0ea24a8460cc1]
link cluster to bucket--><path codeLine="22" d="M593.5,53.23 C593.5,72.51 593.5,100.02 593.5,119.18 " fill="none" id="cluster-bucket" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[35428efcf9dc7c16942b9d3811a6a060]
link bucket to inventory--><path codeLine="23" d="M602.56,165.71 C612.68,190.54 628.88,230.26 638.22,253.15 " fill="none" id="bucket-inventory" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[49a699f46bf815af491dfd6da0cb6b54]
link bucket to tenant--><path codeLine="24" d="M584.62,165.71 C574.68,190.54 558.8,230.26 549.64,253.15 " fill="none" id="bucket-tenant" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[01098f42ebd4b2f4dbf3213822a94e7a]
link inventory to MyLibrary--><path codeLine="26" d="M639.4,290.72 C629.965,318.115 611.1875,372.6325 594.55,420.9375 C586.2312,445.09 578.4475,467.6894 572.6341,484.5688 C571.9074,486.6787 571.2115,488.6992 570.5492,490.6223 " fill="none" id="inventory-MyLibrary" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="611.5" y="387">my-library in inventory scope</text><!--MD5=[a9cb76a4c16039f1fe7ec06fc84ae95f]
link user to referenceFunction--><path codeLine="28" d="M162.07,272 C171.98,272 181.88,272 191.79,272 " fill="none" id="user-to-referenceFunction" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="196.97,272,187.97,268,191.97,272,187.97,276,196.97,272" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[20454963caff99e2cbeef5b65f473d24]
@startuml
allow_mixing

skinparam actorStyle Awesome

component "N1QL reference function" as referenceFunction

package "my-library" as MyLibrary {
   file "getBusinessDays(startDate, \nendDate)" as getBusinessDays
   component "N1QL reference function" as referenceFunction
}

referenceFunction - - -> getBusinessDays
actor "user" as user

node "Couchbase cluster" as cluster

database "travel-sample" as bucket

rectangle "inventory" as inventory
rectangle "tenant" as tenant

cluster - - bucket
bucket - - inventory
bucket - - tenant

inventory - - - MyLibrary : my-library in inventory scope

user - - -right- - -> referenceFunction

note top of user #Ivory
  can access the getBusinessDays function
  as long as s/he is working
  inside the '"Inventory Scope" context
end note

note right of inventory #Ivory
  scope
end note

note left of tenant #Ivory
  scope
end note
@enduml

PlantUML version 1.2021.16(Wed Dec 08 17:25:22 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>