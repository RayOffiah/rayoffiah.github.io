<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="555px" preserveAspectRatio="none" style="width:999px;height:555px;background:#FFFFFF;" version="1.1" viewBox="0 0 999 555" width="999px" zoomAndPan="magnify"><defs><filter height="300%" id="f7e9h0tfdv5v0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[6f4d1d1935cf0396bf559c82395eb7e5]
cluster bankingDatabase--><path d="M146,299.5 C146,289.5 522,289.5 522,289.5 C522,289.5 898,289.5 898,299.5 L898,538.5 C898,548.5 522,548.5 522,548.5 C522,548.5 146,548.5 146,538.5 L146,299.5 " fill="#FFFFFF" filter="url(#f7e9h0tfdv5v0)" style="stroke:#000000;stroke-width:1.5;"/><path d="M146,299.5 C146,309.5 522,309.5 522,309.5 C522,309.5 898,309.5 898,299.5 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="57" x="493.5" y="325.4999">Banking</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="64" x="490" y="342.2999">Database</text><!--MD5=[b3fd6fb7b9b741dbdd0527d84f5ad0f5]
cluster UKBankScope--><polygon fill="#FFFFFF" filter="url(#f7e9h0tfdv5v0)" points="170,374.5,180,364.5,512,364.5,512,514.5,502,524.5,170,524.5,170,374.5" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="502" x2="512" y1="374.5" y2="364.5"/><line style="stroke:#000000;stroke-width:1.5;" x1="170" x2="502" y1="374.5" y2="374.5"/><line style="stroke:#000000;stroke-width:1.5;" x1="502" x2="502" y1="374.5" y2="524.5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="107" x="283.5" y="391.4999">UK Bank Scope</text><!--MD5=[fe51a546aa010b798cc28398debc467b]
cluster UKLibrary--><rect fill="#FFFFFF" filter="url(#f7e9h0tfdv5v0)" height="88" style="stroke:#000000;stroke-width:1.5;" width="294" x="194" y="412.5"/><path d="M286,412.5 L286,422.2999 L276,432.2999 L194,432.2999 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="82" x="197" y="427.4999">bank-library</text><!--MD5=[a117013f52fb389ac5a5357f4b77ca48]
cluster USBankScope--><polygon fill="#FFFFFF" filter="url(#f7e9h0tfdv5v0)" points="536,374.5,546,364.5,874,364.5,874,514.5,864,524.5,536,524.5,536,374.5" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="864" x2="874" y1="374.5" y2="364.5"/><line style="stroke:#000000;stroke-width:1.5;" x1="536" x2="864" y1="374.5" y2="374.5"/><line style="stroke:#000000;stroke-width:1.5;" x1="864" x2="864" y1="374.5" y2="524.5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="107" x="647.5" y="391.4999">US Bank Scope</text><!--MD5=[10f51f40b5b1b3d5f6e4b464a5ece81d]
cluster USLibrary--><rect fill="#FFFFFF" filter="url(#f7e9h0tfdv5v0)" height="88" style="stroke:#000000;stroke-width:1.5;" width="290" x="560" y="412.5"/><path d="M652,412.5 L652,422.2999 L642,432.2999 L560,432.2999 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="82" x="563" y="427.4999">bank-library</text><!--MD5=[5b96dd3703d4d6ea90928245edd1d885]
entity interestInSterling--><polygon fill="#FEFECE" filter="url(#f7e9h0tfdv5v0)" points="210.5,447.5,210.5,484.2999,471.5,484.2999,471.5,457.5,461.5,447.5,210.5,447.5" style="stroke:#000000;stroke-width:1.5;"/><path d="M461.5,447.5 L461.5,457.5 L471.5,457.5 " fill="#FEFECE" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="241" x="220.5" y="471.4999">getInterestInSterling(termInYears, rate)</text><!--MD5=[a740c7eca41eac03786950ed9cb28d54]
entity interestInDollars--><polygon fill="#FEFECE" filter="url(#f7e9h0tfdv5v0)" points="576.5,447.5,576.5,484.2999,833.5,484.2999,833.5,457.5,823.5,447.5,576.5,447.5" style="stroke:#000000;stroke-width:1.5;"/><path d="M823.5,447.5 L823.5,457.5 L833.5,457.5 " fill="#FEFECE" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="237" x="586.5" y="471.4999">getInterestInDollars(termInYears, rate)</text><!--MD5=[2d88589ee9bd26c8663151c069df9991]
entity USUser--><ellipse cx="730" cy="22" fill="#FEFECE" filter="url(#f7e9h0tfdv5v0)" rx="16" ry="16" style="stroke:#A80036;stroke-width:1.5;"/><path d="M730,42 C734,42 737,42 741,38 C749,38 757,46 757,54 L757,58 C757,62 753,66 749,66 L711,66 C707,66 703,62 703,58 L703,54 C703,46 711,38 719,38 C723,42 726,42 730,42 " fill="#FEFECE" filter="url(#f7e9h0tfdv5v0)" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="19" x="715.5" y="81.4999">US</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="715.5" y="98.2999">User</text><!--MD5=[d13b0c56a08fdee0630cf736cf8f110a]
entity UKUser--><ellipse cx="266" cy="22" fill="#FEFECE" filter="url(#f7e9h0tfdv5v0)" rx="16" ry="16" style="stroke:#A80036;stroke-width:1.5;"/><path d="M266,42 C270,42 273,42 277,38 C285,38 293,46 293,54 L293,58 C293,62 289,66 285,66 L247,66 C243,66 239,62 239,58 L239,54 C239,46 247,38 255,38 C259,42 262,42 266,42 " fill="#FEFECE" filter="url(#f7e9h0tfdv5v0)" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="19" x="251.5" y="81.4999">UK</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="251.5" y="98.2999">User</text><!--MD5=[952b37a1e8ae5aaf15816d02d019fcfa]
entity UKReferenceFunction--><rect fill="#FEFECE" filter="url(#f7e9h0tfdv5v0)" height="63.5999" style="stroke:#A80036;stroke-width:1.5;" width="235" x="223.5" y="162.5"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="438.5" y="167.5"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="436.5" y="169.5"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="436.5" y="173.5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="195" x="238.5" y="196.4999">«N1QL User-Defined Function»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="291" y="213.2999">GetInterest(...)</text><!--MD5=[f1aaa8d17d0b2eeceb33ca11a6af1711]
entity USReferenceFunction--><rect fill="#FEFECE" filter="url(#f7e9h0tfdv5v0)" height="63.5999" style="stroke:#A80036;stroke-width:1.5;" width="235" x="587.5" y="162.5"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="802.5" y="167.5"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="800.5" y="169.5"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="800.5" y="173.5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="195" x="602.5" y="196.4999">«N1QL User-Defined Function»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="655" y="213.2999">GetInterest(...)</text><path d="M6,24.5 L6,81.3 A0,0 0 0 0 6,81.3 L202,81.3 A0,0 0 0 0 202,81.3 L202,57 L237.04,53 L202,49 L202,34.5 L192,24.5 L6,24.5 A0,0 0 0 0 6,24.5 " fill="#FFFFF0" filter="url(#f7e9h0tfdv5v0)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M192,24.5 L192,34.5 L202,34.5 L192,24.5 " fill="#FFFFF0" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="12" y="42.5">UK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="34" y="42.5">User is logged on with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="12" y="58.1">the BankingDatabase.</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="50" x="137" y="58.1">UKBank</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="12" y="73.7">context scope</text><path d="M794,24.5 L794,49 L758.79,53 L794,57 L794,81.3 A0,0 0 0 0 794,81.3 L990,81.3 A0,0 0 0 0 990,81.3 L990,34.5 L980,24.5 L794,24.5 A0,0 0 0 0 794,24.5 " fill="#FFFFF0" filter="url(#f7e9h0tfdv5v0)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M980,24.5 L980,34.5 L990,34.5 L980,24.5 " fill="#FFFFF0" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="800" y="42.5">US</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="822" y="42.5">User is logged on with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="800" y="58.1">the BankingDatabase.</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="50" x="925" y="58.1">USBank</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="800" y="73.7">context scope</text><path d="M329.5,24.5 L329.5,81.3 L666.5,81.3 L666.5,34.5 L656.5,24.5 L329.5,24.5 " fill="#FFFFF0" filter="url(#f7e9h0tfdv5v0)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M656.5,24.5 L656.5,34.5 L666.5,34.5 L656.5,24.5 " fill="#FFFFF0" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="316" x="335.5" y="42.5">Two N1QL User-Defined Functions with the same name,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="335.5" y="58.1">but pointing at different JavaScript functions</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="335.5" y="73.7">in different libraries in different scopes.</text><!--MD5=[946d117a86605d8f0062ec277b8a9f36]
link UKReferenceFunction to interestInSterling--><path codeLine="32" d="M341,226.68 C341,281.51 341,393.96 341,442.2 " fill="none" id="UKReferenceFunction-to-interestInSterling" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="341,447.48,345,438.48,341,442.48,337,438.48,341,447.48" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="342" y="270.5">references</text><!--MD5=[a364775b4a7ea3385bd76268be7ab985]
link UKUser to UKReferenceFunction--><path codeLine="33" d="M291.6,101.62 C301.45,119.94 312.53,140.54 321.69,157.58 " fill="none" id="UKUser-to-UKReferenceFunction" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="324.22,162.29,323.4845,152.4686,321.8538,157.8854,316.437,156.2546,324.22,162.29" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[b329e125937b2b06b80a4fa2a7f84553]
link USReferenceFunction to interestInDollars--><path codeLine="35" d="M705,226.68 C705,281.51 705,393.96 705,442.2 " fill="none" id="USReferenceFunction-to-interestInDollars" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="705,447.48,709,438.48,705,442.48,701,438.48,705,447.48" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="706" y="270.5">references</text><!--MD5=[50a0915538bad117882b8e119c146f6d]
link USUser to USReferenceFunction--><path codeLine="36" d="M721.47,101.62 C718.21,119.79 714.55,140.19 711.51,157.15 " fill="none" id="USUser-to-USReferenceFunction" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="710.59,162.29,716.1188,154.1394,711.4744,157.3688,708.245,152.7244,710.59,162.29" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[2a4a117292b6aeb685f7d36f733d695d]
link referenceFunctionNote to UKReferenceFunction--><path codeLine="56" d="M466.98,81.56 C440.8,104.83 403.32,138.12 376.06,162.35 " fill="none" id="referenceFunctionNote-UKReferenceFunction" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><!--MD5=[6340b573eda691aa35bbe54c80af8bd2]
link referenceFunctionNote to USReferenceFunction--><path codeLine="57" d="M538.9,81.56 C573.42,104.83 622.83,138.12 658.78,162.35 " fill="none" id="referenceFunctionNote-USReferenceFunction" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><!--MD5=[817156cd03539d7a410d32a99ffef693]
@startuml
allow_mixing
skinparam actorStyle Awesome


actor "US\nUser" as USUser
actor "UK\nUser" as UKUser


database "Banking\nDatabase" as bankingDatabase {

    node "UK Bank Scope" as UKBankScope {

      frame "bank-library" as UKLibrary {
        file "getInterestInSterling(termInYears, rate)" as interestInSterling
      }
    }

    node "US Bank Scope" as USBankScope {

    frame "bank-library" as USLibrary {
      file "getInterestInDollars(termInYears, rate)" as interestInDollars
      }
    }

}


component "GetInterest(...)" <<N1QL User-Defined Function>> as UKReferenceFunction
component "GetInterest(...)" <<N1QL User-Defined Function>> as USReferenceFunction


UKReferenceFunction - -> interestInSterling : references
UKUser - -> UKReferenceFunction

USReferenceFunction - -> interestInDollars : references
USUser - -> USReferenceFunction

note left of UKUser #Ivory
  **UK** User is logged on with
  the BankingDatabase.**UKBank**
  context scope
end note

note right of USUser #Ivory
  **US** User is logged on with
  the BankingDatabase.**USBank**
  context scope
end note

note as referenceFunctionNote #Ivory
  Two N1QL User-Defined Functions with the same name,
  but pointing at different JavaScript functions
  in different libraries in different scopes.
end note

referenceFunctionNote .. UKReferenceFunction
referenceFunctionNote .. USReferenceFunction
@enduml

PlantUML version 1.2021.16(Wed Dec 08 17:25:22 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>