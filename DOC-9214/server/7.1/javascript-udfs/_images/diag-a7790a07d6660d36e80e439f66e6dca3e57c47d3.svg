<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="608px" preserveAspectRatio="none" style="width:812px;height:608px;background:#FFFFFF;" version="1.1" viewBox="0 0 812 608" width="812px" zoomAndPan="magnify"><defs><filter height="300%" id="f1kvtp2ovf29na" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[cd2d2a69136bcb457c777d7f0a388268]
cluster MyLibrary--><rect fill="#FFFFFF" filter="url(#f1kvtp2ovf29na)" height="140" style="stroke:#000000;stroke-width:1.5;" width="245" x="555" y="282.5"/><path d="M634,282.5 L634,292.2999 L624,302.2999 L555,302.2999 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="69" x="558" y="297.4999">my-library</text><!--MD5=[63955b8f5af8bd25e363284f268579d0]
entity getBusinessDays--><polygon fill="#FEFECE" filter="url(#f1kvtp2ovf29na)" points="579,325.5,579,379.0999,776,379.0999,776,335.5,766,325.5,579,325.5" style="stroke:#000000;stroke-width:1.5;"/><path d="M766,325.5 L766,335.5 L776,335.5 " fill="#FEFECE" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="589" y="349.4999">getBusinessDays(startDate,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="589" y="366.2999">endDate)</text><!--MD5=[d2ef3ebb0f476a9001ba6a631a066203]
entity n1qlUDFunction--><rect fill="#FEFECE" filter="url(#f1kvtp2ovf29na)" height="63.5999" style="stroke:#A80036;stroke-width:1.5;" width="235" x="16" y="213.5"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="231" y="218.5"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="229" y="220.5"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="229" y="224.5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="195" x="31" y="247.4999">«N1QL User-Defined Function»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="64" y="264.2999">getBusinessDays(...)</text><path d="M321,299 L321,355.8 L519,355.8 L519,309 L509,299 L321,299 " fill="#FFFFF0" filter="url(#f1kvtp2ovf29na)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M509,299 L509,309 L519,309 L509,299 " fill="#FFFFF0" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="327" y="317">The library can reside at the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="327" y="332.6">cluster level, or the bucket level</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="327" y="348.2">or the scope level</text><!--MD5=[8fc3522a43f8c7199df5e09e5bb0188e]
entity user--><ellipse cx="133.5" cy="116" fill="#FEFECE" filter="url(#f1kvtp2ovf29na)" rx="16" ry="16" style="stroke:#A80036;stroke-width:1.5;"/><path d="M133.5,136 C137.5,136 140.5,136 144.5,132 C152.5,132 160.5,140 160.5,148 L160.5,152 C160.5,156 156.5,160 152.5,160 L114.5,160 C110.5,160 106.5,156 106.5,152 L106.5,148 C106.5,140 114.5,132 122.5,132 C126.5,136 129.5,136 133.5,136 " fill="#FEFECE" filter="url(#f1kvtp2ovf29na)" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="120" y="175.4999">user</text><!--MD5=[2975947dbd53e11d08a72608f6781d9e]
entity cluster--><path d="M356.7642,400.3684 C359.8564,395.5485 365.6054,394.6758 368.645,400.4274 C371.7447,392.1965 376.8739,392.3161 382.5649,397.7968 C386.833,391.475 391.7122,391.0395 396.1371,397.6322 C399.1512,391.0513 404.8069,389.9761 408.9936,396.4801 C412.6963,390.6392 417.7466,390.6524 420.9047,397.0117 C424.7264,390.79 429.5554,390.1526 433.9346,396.4306 C438.6753,390.8115 443.7277,393.0892 446.3288,398.7761 C449.4785,391.8651 455.5764,392.985 459.0935,398.3954 C463.8882,391.7272 469.4099,392.9193 472.8313,399.789 C476.9682,393.3408 481.0957,394.2752 485.3902,399.6212 C494.1301,401.0776 496.6125,407.5589 492.1773,414.8768 C499.1899,424.1606 493.8344,429.7939 484.6647,431.9623 C481.2317,438.0057 476.9995,438.2131 472.7283,432.8384 C468.7336,438.9425 464.9094,439.2507 460.8653,432.8854 C456.555,440.5067 451.587,440.7388 446.4799,433.6653 C443.941,440.9136 439.308,441.379 434.0474,436.4422 C430.0692,443.5666 425.1,443.6797 421.0112,436.5433 C416.3406,441.9748 411.6877,442.8806 408.0903,435.464 C403.2808,441.6907 398.0406,440.3476 394.8918,433.7542 C389.5971,440.356 385.6472,438.5686 381.4579,432.5752 C378.1609,437.91 373.2782,436.9039 370.3628,432.1553 C366.2647,438.828 359.1267,438.1636 355.6013,431.5204 C347.2953,427.5198 345.5874,422.2105 352.0653,415.0383 C346.4804,408.5672 348.7564,402.4855 356.7642,400.3684 " fill="#FEFECE" filter="url(#f1kvtp2ovf29na)" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="362.5" y="419.9999">Couchbase cluster</text><!--MD5=[e987a9053741ca611bbb00ccd0372f5a]
entity bucket--><path d="M389.5,483.5 C389.5,473.5 420,473.5 420,473.5 C420,473.5 450.5,473.5 450.5,483.5 L450.5,509.2999 C450.5,519.2999 420,519.2999 420,519.2999 C420,519.2999 389.5,519.2999 389.5,509.2999 L389.5,483.5 " fill="#FEFECE" filter="url(#f1kvtp2ovf29na)" style="stroke:#000000;stroke-width:1.5;"/><path d="M389.5,483.5 C389.5,493.5 420,493.5 420,493.5 C420,493.5 450.5,493.5 450.5,483.5 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="399.5" y="511.4999">bucket</text><!--MD5=[c8a1f054d404df0a65fc25cf7fbed36b]
entity scope--><polygon fill="#FEFECE" filter="url(#f1kvtp2ovf29na)" points="382,565,392,555,458,555,458,591.7999,448,601.7999,382,601.7999,382,565" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="448" x2="458" y1="565" y2="555"/><line style="stroke:#000000;stroke-width:1.5;" x1="382" x2="448" y1="565" y2="565"/><line style="stroke:#000000;stroke-width:1.5;" x1="448" x2="448" y1="565" y2="601.7999"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="397" y="588.9999">scope</text><path d="M6,6 L6,62.8 A0,0 0 0 0 6,62.8 L130,62.8 L134,98.22 L138,62.8 L261,62.8 A0,0 0 0 0 261,62.8 L261,16 L251,6 L6,6 A0,0 0 0 0 6,6 " fill="#FFFFF0" filter="url(#f1kvtp2ovf29na)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M251,6 L251,16 L261,16 L251,6 " fill="#FFFFF0" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234" x="12" y="24">can access the getBusinessDays function</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="12" y="39.6">as long as s/he is working</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="12" y="55.2">inside the '"Inventory Scope" context</text><!--MD5=[4a18813746df543010ac02b1a3de11c8]
link GMN34173 to MyLibrary--><path d="M506,356.04 C506,370.59 506,385.25 506,385.25 C506,385.25 516.75,385.25 532.875,385.25 C536.9063,385.25 541.2734,385.25 545.8926,385.25 C548.2021,385.25 550.5747,385.25 552.9998,385.25 C553.606,385.25 554.2156,385.25 554.8282,385.25 " fill="none" id="GMN34173-MyLibrary" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><!--MD5=[f99f17aee1b83d3c2ab474d1f7da2a89]
link n1qlUDFunction to getBusinessDays--><path codeLine="21" d="M251.31,245.5 C411.42,245.5 678,245.5 678,245.5 C678,245.5 678,320.5 678,320.5 " fill="none" id="n1qlUDFunction-to-getBusinessDays" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="678,325.5,682,316.5,678,320.5,674,316.5,678,325.5" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[81df178d8a05ed5e6110e9eca0604d16]
reverse link cluster to MyLibrary--><path codeLine="30" d="M497.76,414.5 C497.76,414.5 508.95,414.5 525.735,414.5 C534.1275,414.5 543.9188,414.5 554.4094,414.5 " fill="none" id="cluster-backto-MyLibrary" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="492.76,414.5,501.76,418.5,497.76,414.5,501.76,410.5,492.76,414.5" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[ca49ebe24002bd385229cb50fe6ff820]
reverse link bucket to MyLibrary--><path codeLine="31" d="M455.61,496.5 C455.61,496.5 678,496.5 678,496.5 C678,496.5 678,476.635 678,456.46 C678,446.3725 678,436.2075 678,428.4094 C678,426.4598 678,424.6582 678,423.0428 C678,422.9418 678,422.8416 678,422.7421 " fill="none" id="bucket-backto-MyLibrary" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="450.61,496.5,459.61,500.5,455.61,496.5,459.61,492.5,450.61,496.5" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[eae8df7cf474f7b3224e735e08fb50ba]
reverse link scope to MyLibrary--><path codeLine="32" d="M463.08,578.5 C463.08,578.5 728,578.5 728,578.5 C728,578.5 728,537.5 728,496.5 C728,476 728,455.5 728,440.125 C728,436.2813 728,432.7578 728,429.6348 C728,428.0732 728,426.6118 728,425.2605 C728,424.5848 728,423.9367 728,423.3174 C728,423.1625 728,423.0095 728,422.8583 " fill="none" id="scope-backto-MyLibrary" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="458.08,578.5,467.08,582.5,463.08,578.5,467.08,574.5,458.08,578.5" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[226fddc1abbda551b24789e9440fd7ef]
link user to n1qlUDFunction--><path codeLine="34" d="M134,178.65 C134,178.65 134,208.48 134,208.48 " fill="none" id="user-to-n1qlUDFunction" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="134,213.48,138,204.48,134,208.48,130,204.48,134,213.48" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[16f620ad7514cf5e8eefa041331a08cb]
@startuml
allow_mixing

left to right direction
skinparam actorStyle Awesome
skinparam linetype polyline
skinparam linetype ortho

component "getBusinessDays(...)" <<N1QL User-Defined Function>> as n1qlUDFunction

  frame "my-library" as MyLibrary {

   file "getBusinessDays(startDate, \nendDate)" as getBusinessDays

  }

note left of MyLibrary #Ivory
  The library can reside at the
  cluster level, or the bucket level
  or the scope level
end note
n1qlUDFunction - - -> getBusinessDays
actor "user" as user

cloud "Couchbase cluster" as cluster

database "bucket" as bucket

node "scope" as scope

cluster <.. MyLibrary
bucket <.. MyLibrary
scope <.. MyLibrary

user - - -right- - -> n1qlUDFunction

note top of user #Ivory
  can access the getBusinessDays function
  as long as s/he is working
  inside the '"Inventory Scope" context
end note
@enduml

PlantUML version 1.2021.16(Wed Dec 08 17:25:22 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>