<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://metrics.couchbase.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MVPNN2');</script>
<!-- End Google Tag Manager -->
<title>CREATE SEQUENCE | Couchbase Docs</title>
<link rel="canonical" href="https://docs.couchbase.com/server/current/n1ql/n1ql-language-reference/createsequence.html">
<link rel="stylesheet" href="../../../../_/css/site.css">
<script src="../../../../_/js/vendor/jquery.js"></script>
<meta name="description" content="The CREATE SEQUENCE statement enables you to create a sequence in a given scope.">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="server">
<meta name="dcterms.identifier" content="7.6">
<meta name="page-url" content="/server/current/n1ql/n1ql-language-reference/createsequence.html">
<meta name="page-nav-header-levels" content="0">
<meta name="generator" content="Antora 3.1.7">
<link rel="icon" href="../../../../_/img/favicon.svg" type="image/svg+xml">
<link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon" sizes="any">
</head>
<body class="article">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVPNN2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://docs.couchbase.com/home/index.html">
                    <img src="../../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://docs.couchbase.com/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
    <template id="page-versions" style="display: none">
      <select class="version_list" data-component="server">
        <option value="7.6" data-url="createsequence.html" selected>7.6</option>
        <option value="7.2" data-url="../../../7.2/index.html">7.2</option>
        <option value="7.1" data-url="../../../7.1/index.html">7.1</option>
        <option value="7.0" data-url="../../../7.0/index.html">7.0</option>
        <option value="6.6" data-url="../../../6.6/index.html">6.6</option>
        <option value="6.5" data-url="../../../6.5/index.html">6.5</option>
        <option value="6.0" data-url="../../../6.0/index.html">6.0</option>
      </select>
    </template>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="1">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/rayoffiah/projects/couchbase/docs-devex/modules/n1ql/pages/n1ql-language-reference/createsequence.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../../introduction/intro.html">Couchbase Server</a></li>
<li class="crumb">Develop</li>
<li class="crumb"><a href="../query.html">Query Data with SQL++</a></li>
<li class="crumb"><a href="index.html">SQL++ for Query Reference</a></li>
<li class="crumb">Statements</li>
<li class="crumb"><a href="createsequence.html">CREATE SEQUENCE</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">CREATE SEQUENCE</h1>
<div class="labels">
<ul><li class="reference"><span><i class="fas fa-book"></i></i> reference</span></li>
</ul>
</div>
<div class="labels">
<ul>
<li class="status"><span>Couchbase Server 7.6</span></li>
</ul>
</div>


</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<style type="text/css">
  /* DOC-10177 */
  .hdlist table tr td.hdlist1,
  .hdlist table tr td.hdlist2 {
    padding: 1.5rem 0 0;
  }

  /* Compact horizontal definition lists */
  .hdlist.compact,
  .hdlist.compact {
    padding-top: 1rem;
  }
  .hdlist.compact table tr td.hdlist1,
  .hdlist.compact table tr td.hdlist2 {
    padding: 0.5rem 0 0;
  }

  /* Descriptions in horizontal description lists should have left padding */
  .hdlist table tr td.hdlist2,
  .hdlist.compact table tr td.hdlist2 {
    padding-left: 1rem;
  }

  /* Paragraphs in horizontal description lists should not have left margin */
  .hdlist table .hdlist1 + .hdlist2 p {
    margin-left: 0; !important
  }

  /* Horizontal definitions should match style of vertical definitions */
  td.hdlist1 {
    font-weight: 600;
  }
</style>
<div class="quoteblock abstract">
<blockquote>
The CREATE SEQUENCE statement enables you to create a sequence in a given scope.
</blockquote>
</div>
</div>
</div>
<div class="sect1">
<h2 id="purpose"><a class="anchor" href="#purpose"></a>Purpose</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A sequence is a construct that returns a sequence of integer values, one at a time, rather like a counter.
Each time you request the next value for a sequence, an increment is added to the previous value, and the resulting value is returned.
This is useful for generating values such as sequential ID numbers, where you need the Query service to keep track of the current value from one query to the next.
You can define any of the following attributes when you create a sequence.
You can alter an existing sequence in order to restart it, or to change any of the sequence attributes.</p>
</div>
<div class="sect2">
<h3 id="start-value-increment-and-direction"><a class="anchor" href="#start-value-increment-and-direction"></a>Start Value, Increment, and Direction</h3>
<div class="paragraph">
<p>By default, a sequence starts at <code>0</code> and goes up by <code>1</code> at each step.
You can specify the start value of the sequence, the incremental value for the sequence, and the direction of the sequence: ascending or descending.</p>
</div>
</div>
<div class="sect2">
<h3 id="maximum-and-minimum-value"><a class="anchor" href="#maximum-and-minimum-value"></a>Maximum and Minimum Value</h3>
<div class="paragraph">
<p>The highest possible value for a sequence is the highest signed 64-bit integer, <code>2<sup>63</sup>-1</code>.
This is the default maximum value.</p>
</div>
<div class="paragraph">
<p>The lowest possible value for a sequence is the lowest signed 64-bit integer, <code>-2<sup>63</sup></code>.
This is the default minimum value.</p>
</div>
<div class="paragraph">
<p>You can specify a different maximum or minimum value for a sequence.</p>
</div>
</div>
<div class="sect2">
<h3 id="cycling"><a class="anchor" href="#cycling"></a>Cycling</h3>
<div class="paragraph">
<p>A sequence may permit cycling.
In this case, the sequence behaves as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the sequence is ascending, then when it reaches the maximum value, it continues from the minimum value&#8201;&#8212;&#8201;which may be different to the sequence&#8217;s specified starting value.</p>
</li>
<li>
<p>If the sequence is descending, then when it reaches the minimum value, it continues from the maximum value&#8201;&#8212;&#8201;which may be different to the sequence&#8217;s specified starting value.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If a sequence does not permit cycling, then when it reaches the maximum or minimum value, it generates an error.</p>
</div>
</div>
<div class="sect2">
<h3 id="cache"><a class="anchor" href="#cache"></a>Cache</h3>
<div class="paragraph">
<p>Sequences operate most efficiently with an in-memory cache of values.
You can specify the size of this cache when you create the sequence.
A block of values is reserved by a node, and requests for values are satisfied from this cache.
When exhausted, a new block of values is reserved.
Reserving a cached block offers a performance boost, as it enables the Query service to return values directly from memory.</p>
</div>
<div class="paragraph">
<p>Note however that if a Query node shuts down, or if you alter the sequence, the unused values in the cached block are lost: a new block is reserved when you restart the node, or request the next value.
You should choose a cache size with this in mind, along with the expected usage patterns for the sequence.</p>
</div>
</div>
<div class="sect2">
<h3 id="storage"><a class="anchor" href="#storage"></a>Storage</h3>
<div class="paragraph">
<p>Sequences are stored in the bucket&#8217;s hidden <code>&lowbar;system</code> scope.
When you back up a bucket, sequences are included automatically, in accordance with the backup filters.
Similarly, when you restore a bucket, sequences are restored in accordance with the restore command&#8201;&#8212;&#8201;if you select to restore specific scopes, the sequences associated with those scopes are restored, and no others.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="prerequisites"><a class="anchor" href="#prerequisites"></a>Prerequisites</h2>
<div class="sectionbody">
<div class="paragraph">
<div class="title">RBAC Privileges</div>
<p>To execute the CREATE SEQUENCE statement, you must have the <em>Query Manage Sequences</em> privilege granted on the scope.
For more details about user roles, see <a href="../../learn/security/authorization-overview.html" class="xref page">Authorization</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="syntax"><a class="anchor" href="#syntax"></a>Syntax</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/rayoffiah/projects/couchbase/docs-devex/modules/n1ql/partials/grammar/ddl.ebnf#L223-L225">create-sequence ::= 'CREATE' 'SEQUENCE' ( sequence ( 'IF' 'NOT' 'EXISTS' )? |
                    ( 'IF' 'NOT' 'EXISTS' )? sequence )
                    ( create-sequence-options | sequence-with )?</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/create-sequence.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>The CREATE SCOPE statement provides two possible syntaxes for specifying options for a sequence.</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
sequence
</td>
<td class="hdlist2">
<p>(Required) A name that identifies the sequence within a namespace, bucket, and scope.
See <a href="#sequence">Sequence Name</a> below.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
create-sequence-options
</td>
<td class="hdlist2">
<p>(Optional) One possible syntax for specifying options for the sequence.
See <a href="#create-sequence-options">Sequence Options</a> below.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
sequence-with
</td>
<td class="hdlist2">
<p>(Optional) The other possible syntax for specifying options for the sequence.
See <a href="#sequence-with">WITH Clause</a> below.</p>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="sequence"><a class="anchor" href="#sequence"></a>Sequence Name</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/rayoffiah/projects/couchbase/docs-devex/modules/n1ql/partials/grammar/ddl.ebnf#L229">sequence ::= ( ( namespace ':' )? bucket '.' scope '.' )? identifier</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/sequence.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>The sequence name specifies the name of the sequence to create.</p>
</div>
<div class="paragraph">
<p>Each sequence is associated with a given namespace, bucket, and scope.
You must specify the namespace, bucket, and scope to name the sequence correctly.</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
namespace
</td>
<td class="hdlist2">
<p>(Optional) The <a href="../n1ql-intro/queriesandresults.html#logical-hierarchy" class="xref page">namespace</a> of the bucket in which you want to create the sequence.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
bucket
</td>
<td class="hdlist2">
<p>(Optional) The bucket in which you want to create the sequence.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
scope
</td>
<td class="hdlist2">
<p>(Optional) The scope in which you want to create the sequence.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
identifier
</td>
<td class="hdlist2">
<p>(Required) The name of the sequence.
The sequence name must be unique within the scope.</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Currently, only the <code>default</code> namespace is available.
If you omit the namespace, the default namespace in the current session is used.</p>
</div>
<div class="paragraph">
<p>If the <a href="../n1ql-intro/queriesandresults.html#query-context" class="xref page">query context</a> is set, you can omit the bucket and scope from the statement.
In this case, the bucket and scope for the sequence are taken from the query context.</p>
</div>
<div class="paragraph">
<p>The namespace, bucket, scope, and sequence name must follow the rules for <a href="identifiers.html" class="xref page">identifiers</a>.
If the namespace, bucket, scope, or sequence name contain any special characters such as hyphens (-), you must wrap that part of the expression in backticks (` `).</p>
</div>
</div>
<div class="sect2">
<h3 id="if-not-exists"><a class="anchor" href="#if-not-exists"></a>IF NOT EXISTS Clause</h3>
<div class="paragraph">
<p>The optional <code>IF NOT EXISTS</code> clause enables the statement to complete successfully when the specified sequence already exists.
If a sequence with the same name already exists within the specified scope, then:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If this clause is not present, an error is generated.</p>
</li>
<li>
<p>If this clause is present, the statement does nothing and completes without error.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="create-sequence-options"><a class="anchor" href="#create-sequence-options"></a>Sequence Options</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/rayoffiah/projects/couchbase/docs-devex/modules/n1ql/partials/grammar/ddl.ebnf#L233-L238">create-sequence-options ::= ( start-with
                            | increment-by
                            | maxvalue
                            | minvalue
                            | cycle
                            | cache )*</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/create-sequence-options.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>You can use the following optional clauses to specify individual attributes for the sequence.
These clauses can occur in any order, but none of them can occur more than once in the statement.</p>
</div>
<div class="hdlist compact">
<table>
<tr>
<td class="hdlist1">
start-with
</td>
<td class="hdlist2">
<p><a href="#start-with">START WITH Clause</a> <span class="icon"><i class="fa fa-caret-down"></i></span></p>
</td>
</tr>
<tr>
<td class="hdlist1">
increment-by
</td>
<td class="hdlist2">
<p><a href="#increment-by">INCREMENT BY Clause</a> <span class="icon"><i class="fa fa-caret-down"></i></span></p>
</td>
</tr>
<tr>
<td class="hdlist1">
maxvalue
</td>
<td class="hdlist2">
<p><a href="#maxvalue">MAXVALUE Clause</a> <span class="icon"><i class="fa fa-caret-down"></i></span></p>
</td>
</tr>
<tr>
<td class="hdlist1">
minvalue
</td>
<td class="hdlist2">
<p><a href="#minvalue">MINVALUE Clause</a> <span class="icon"><i class="fa fa-caret-down"></i></span></p>
</td>
</tr>
<tr>
<td class="hdlist1">
cycle
</td>
<td class="hdlist2">
<p><a href="#cycle">CYCLE Clause</a> <span class="icon"><i class="fa fa-caret-down"></i></span></p>
</td>
</tr>
<tr>
<td class="hdlist1">
cache
</td>
<td class="hdlist2">
<p><a href="#cache">Cache</a> <span class="icon"><i class="fa fa-caret-down"></i></span></p>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="start-with"><a class="anchor" href="#start-with"></a>START WITH Clause</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/rayoffiah/projects/couchbase/docs-devex/modules/n1ql/partials/grammar/ddl.ebnf#L242">start-with ::= 'START' 'WITH' integer</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/start-with.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>Use the START WITH clause to specify the starting value for the sequence.</p>
</div>
<div class="paragraph">
<p>If this clause is omitted, the default start value is <code>0</code>.</p>
</div>
<div id="start-with-args" class="hdlist">
<table>
<tr>
<td class="hdlist1">
integer
</td>
<td class="hdlist2">
<p>(Required) The starting value for the sequence.</p>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="increment-by"><a class="anchor" href="#increment-by"></a>INCREMENT BY Clause</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/rayoffiah/projects/couchbase/docs-devex/modules/n1ql/partials/grammar/ddl.ebnf#L246">increment-by ::= 'INCREMENT' 'BY' integer</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/increment-by.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>Use the INCREMENT BY clause to specify the increment value of each step in the sequence.</p>
</div>
<div class="paragraph">
<p>If this clause is omitted, the increment value is <code>1</code>&#8201;&#8212;&#8201;that is, at each step in the sequence, the value goes up by <code>1</code>.</p>
</div>
<div id="increment-by-args" class="hdlist">
<table>
<tr>
<td class="hdlist1">
integer
</td>
<td class="hdlist2">
<p>(Required) The step size for the sequence.
Use a negative value for a descending sequence.</p>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="maxvalue"><a class="anchor" href="#maxvalue"></a>MAXVALUE Clause</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/rayoffiah/projects/couchbase/docs-devex/modules/n1ql/partials/grammar/ddl.ebnf#L250">maxvalue ::= 'MAXVALUE' integer | 'NO' 'MAXVALUE'</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/maxvalue.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>Use the MAXVALUE clause to specify the maximum value for the sequence.</p>
</div>
<div class="paragraph">
<p>Use NO MAXVALUE to specify that the maximum value is the highest signed 64-bit integer, <code>2<sup>63</sup>-1</code>.</p>
</div>
<div class="paragraph">
<p>If this clause is omitted, the default is NO MAXVALUE.</p>
</div>
<div id="maxvalue-args" class="hdlist">
<table>
<tr>
<td class="hdlist1">
integer
</td>
<td class="hdlist2">
<p>(Optional) The maximum value for the sequence.</p>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="minvalue"><a class="anchor" href="#minvalue"></a>MINVALUE Clause</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/rayoffiah/projects/couchbase/docs-devex/modules/n1ql/partials/grammar/ddl.ebnf#L254">minvalue ::= 'MINVALUE' integer | 'NO' 'MINVALUE'</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/minvalue.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>Use the MINVALUE clause to specify the minimum value for the sequence.</p>
</div>
<div class="paragraph">
<p>Use NO MINVALUE to specify that the minimum value is the lowest signed 64-bit integer, <code>-2<sup>63</sup></code>.</p>
</div>
<div class="paragraph">
<p>If this clause is omitted, the default is NO MINVALUE.</p>
</div>
<div id="minvalue-args" class="hdlist">
<table>
<tr>
<td class="hdlist1">
integer
</td>
<td class="hdlist2">
<p>(Optional) The minimum value for the sequence.</p>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="cycle"><a class="anchor" href="#cycle"></a>CYCLE Clause</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/rayoffiah/projects/couchbase/docs-devex/modules/n1ql/partials/grammar/ddl.ebnf#L258">cycle ::= 'CYCLE' | 'NO' 'CYCLE'</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/cycle.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>Use the CYCLE clause to specify the whether the sequence should begin again when it reaches the maximum or minimum value.</p>
</div>
<div class="paragraph">
<p>Use NO CYCLE to specify that the sequence should stop when it reaches the maximum or minimum value.</p>
</div>
<div class="paragraph">
<p>If this clause is omitted, the default is NO CYCLE.</p>
</div>
</div>
<div class="sect3">
<h4 id="cache"><a class="anchor" href="#cache"></a>CACHE Clause</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/rayoffiah/projects/couchbase/docs-devex/modules/n1ql/partials/grammar/ddl.ebnf#L262">cache ::= 'CACHE' integer | 'NO' 'CACHE'</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/cache.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>Use the CACHE clause to specify the cache size for the sequence.</p>
</div>
<div class="paragraph">
<p>Use NO CACHE to specify a cache size of <code>1</code>.</p>
</div>
<div class="paragraph">
<p>If this clause is omitted, the default is NO CACHE.</p>
</div>
<div id="cache-args" class="hdlist">
<table>
<tr>
<td class="hdlist1">
integer
</td>
<td class="hdlist2">
<p>(Optional) The cache size for the sequence.
The value must be greater than <code>0</code>.</p>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sequence-with"><a class="anchor" href="#sequence-with"></a>WITH Clause</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/rayoffiah/projects/couchbase/docs-devex/modules/n1ql/partials/grammar/ddl.ebnf#L266">sequence-with ::= 'WITH' expr</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/sequence-with.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>You can use the WITH clause to specify options for the sequence using a JSON object.</p>
</div>
<div id="sequence-with-args" class="hdlist">
<table>
<tr>
<td class="hdlist1">
expr
</td>
<td class="hdlist2">
<p>(Required) An object with the following properties.</p>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>start</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The starting value for the sequence.</p>
</div>
<div class="paragraph">
<p><strong>Default:</strong> <code>0</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Integer</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>increment</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The step size for the sequence.
Use a negative value for a descending sequence.</p>
</div>
<div class="paragraph">
<p><strong>Default:</strong> <code>1</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Integer</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>max</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The maximum value for the sequence.
If unspecified, the maximum is the highest signed 64-bit integer.</p>
</div>
<div class="paragraph">
<p><strong>Default:</strong> <code>2<sup>63</sup>-1</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Integer (int64)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>min</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The minimum value for the sequence.
If unspecified, the minimum is the lowest signed 64-bit integer.</p>
</div>
<div class="paragraph">
<p><strong>Default:</strong> <code>-2<sup>63</sup></code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Integer (int64)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>cycle</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Whether the sequence should begin again when it reaches the maximum or minimum value.</p>
</div>
<div class="paragraph">
<p><strong>Default:</strong> <code>false</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Boolean</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>cache</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The cache size for the sequence.
The value must be greater than <code>0</code>.</p>
</div>
<div class="paragraph">
<p><strong>Default:</strong> <code>50</code><br>
<strong>Minimum:</strong> <code>1</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Integer</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To try the examples in this section, set the query context to the <code>inventory</code> scope in the travel sample dataset.
For more information, see <a href="../n1ql-intro/queriesandresults.html#query-context" class="xref page">Query Context</a>.</p>
</div>
<div id="ex-create-seq1" class="exampleblock">
<div class="title">Example 1. Create a sequence in a specified scope</div>
<div class="content">
<div class="paragraph">
<p>This statement creates a sequence with default attributes in the specified scope.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">CREATE SEQUENCE `travel-sample`.inventory.seq1;</code></pre>
</div>
</div>
</div>
</div>
<div id="ex-create-seq2" class="exampleblock">
<div class="title">Example 2. Create a sequence in the current query context</div>
<div class="content">
<div class="paragraph">
<p>This statement creates a sequence with default attributes in the current query context, as long as a sequence of the same name does not already exist.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">CREATE SEQUENCE seq2 IF NOT EXISTS;</code></pre>
</div>
</div>
</div>
</div>
<div id="ex-create-seq3" class="exampleblock">
<div class="title">Example 3. Create a sequence which cycles</div>
<div class="content">
<div class="paragraph">
<p>This statement creates a sequence starting at 5 and incrementing by 5 each time.
When the sequence reaches the maximum value of 1000, it starts again at 0.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">CREATE SEQUENCE seq3 IF NOT EXISTS START WITH 5 INCREMENT BY 5 MAXVALUE 1000 MINVALUE 0 CYCLE;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following query tests the sequence.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT NEXT VALUE FOR seq3;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The query returns the specified starting value, 5.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "$1": 5
  }
]</code></pre>
</div>
</div>
</div>
</div>
<div id="ex-create-seq4" class="exampleblock">
<div class="title">Example 4. Create a descending sequence</div>
<div class="content">
<div class="paragraph">
<p>This statement creates a sequence that starts at 10 and counts down to 0.
When it reaches the minimum value, the sequence stops.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">CREATE SEQUENCE seq4 IF NOT EXISTS WITH {"start": 10, "increment": -1, "min": 0};</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following query tests the sequence.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT NEXT VALUE FOR seq4;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The query returns the specified starting value, 10.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "$1": 10
  }
]</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>See <a href="sequenceops.html" class="xref page">Sequence Operators</a> for detailed examples using sequences.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="related-links"><a class="anchor" href="#related-links"></a>Related Links</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>To alter a sequence, see <a href="altersequence.html" class="xref page">ALTER SEQUENCE</a>.</p>
</li>
<li>
<p>To drop a sequence, see <a href="dropsequence.html" class="xref page">DROP SEQUENCE</a>.</p>
</li>
<li>
<p>To use a sequence in an expression, see <a href="sequenceops.html" class="xref page">Sequence Operators</a>.</p>
</li>
<li>
<p>To monitor sequences, see <a href="../n1ql-intro/sysinfo.html#sys-sequences" class="xref page">Monitor Sequences</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>Â© 2024 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../../_/js/site-navigation-data.js"></script>
<script id="page-navigation-group" type="application/json">
{"title":"Server","components":["server"],"url":"/home/server.html","latestVersions":{"server":"7.6"}}
</script>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/tabs.js" data-sync-storage-key="preferred-tab"></script>
<script defer src="../../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
</body>
</html>
